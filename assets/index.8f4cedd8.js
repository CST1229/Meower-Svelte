const rn=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerpolicy&&(r.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?r.credentials="include":l.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(l){if(l.ep)return;l.ep=!0;const r=t(l);fetch(l.href,r)}};rn();function z(){}const Be=n=>n;function an(n,e){for(const t in e)n[t]=e[t];return n}function cn(n){return n&&typeof n=="object"&&typeof n.then=="function"}function At(n){return n()}function nt(){return Object.create(null)}function Z(n){n.forEach(At)}function Fe(n){return typeof n=="function"}function X(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let Ee;function ie(n,e){return Ee||(Ee=document.createElement("a")),Ee.href=e,n===Ee.href}function fn(n){return Object.keys(n).length===0}function un(n,...e){if(n==null)return z;const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function V(n,e,t){n.$$.on_destroy.push(un(e,t))}function dn(n,e,t,s){if(n){const l=Bt(n,e,t,s);return n[0](l)}}function Bt(n,e,t,s){return n[1]&&s?an(t.ctx.slice(),n[1](s(e))):t.ctx}function pn(n,e,t,s){if(n[2]&&s){const l=n[2](s(t));if(e.dirty===void 0)return l;if(typeof l=="object"){const r=[],o=Math.max(e.dirty.length,l.length);for(let i=0;i<o;i+=1)r[i]=e.dirty[i]|l[i];return r}return e.dirty|l}return e.dirty}function vn(n,e,t,s,l,r){if(l){const o=Bt(e,t,s,r);n.p(o,l)}}function gn(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let s=0;s<t;s++)e[s]=-1;return e}return-1}const Ft=typeof window!="undefined";let Ge=Ft?()=>window.performance.now():()=>Date.now(),We=Ft?n=>requestAnimationFrame(n):z;const we=new Set;function Ht(n){we.forEach(e=>{e.c(n)||(we.delete(e),e.f())}),we.size!==0&&We(Ht)}function Ve(n){let e;return we.size===0&&We(Ht),{promise:new Promise(t=>{we.add(e={c:n,f:t})}),abort(){we.delete(e)}}}function m(n,e){n.appendChild(e)}function Yt(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function mn(n){const e=g("style");return _n(Yt(n),e),e.sheet}function _n(n,e){m(n.head||n,e)}function b(n,e,t){n.insertBefore(e,t||null)}function h(n){n.parentNode.removeChild(n)}function hn(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function g(n){return document.createElement(n)}function C(n){return document.createTextNode(n)}function x(){return C(" ")}function Kt(){return C("")}function R(n,e,t,s){return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t,s)}function ke(n){return function(e){return e.preventDefault(),n.call(this,e)}}function d(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function bn(n){return Array.from(n.childNodes)}function W(n,e){e=""+e,n.wholeText!==e&&(n.data=e)}function T(n,e,t){n.classList[t?"add":"remove"](e)}function wn(n,e,{bubbles:t=!1,cancelable:s=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(n,t,s,e),l}const Re=new Map;let Ne=0;function kn(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function yn(n,e){const t={stylesheet:mn(e),rules:{}};return Re.set(n,t),t}function De(n,e,t,s,l,r,o,i=0){const a=16.666/s;let c=`{
`;for(let k=0;k<=1;k+=a){const $=e+(t-e)*r(k);c+=k*100+`%{${o($,1-$)}}
`}const u=c+`100% {${o(t,1-t)}}
}`,f=`__svelte_${kn(u)}_${i}`,v=Yt(n),{stylesheet:p,rules:_}=Re.get(v)||yn(v,n);_[f]||(_[f]=!0,p.insertRule(`@keyframes ${f} ${u}`,p.cssRules.length));const y=n.style.animation||"";return n.style.animation=`${y?`${y}, `:""}${f} ${s}ms linear ${l}ms 1 both`,Ne+=1,f}function Qe(n,e){const t=(n.style.animation||"").split(", "),s=t.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),l=t.length-s.length;l&&(n.style.animation=s.join(", "),Ne-=l,Ne||zn())}function zn(){We(()=>{Ne||(Re.forEach(n=>{const{stylesheet:e}=n;let t=e.cssRules.length;for(;t--;)e.deleteRule(t);n.rules={}}),Re.clear())})}function $n(n,e,t,s){if(!e)return z;const l=n.getBoundingClientRect();if(e.left===l.left&&e.right===l.right&&e.top===l.top&&e.bottom===l.bottom)return z;const{delay:r=0,duration:o=300,easing:i=Be,start:a=Ge()+r,end:c=a+o,tick:u=z,css:f}=t(n,{from:e,to:l},s);let v=!0,p=!1,_;function y(){f&&(_=De(n,0,1,o,r,i,f)),r||(p=!0)}function k(){f&&Qe(n,_),v=!1}return Ve($=>{if(!p&&$>=a&&(p=!0),p&&$>=c&&(u(1,0),k()),!v)return!1;if(p){const w=$-a,S=0+1*i(w/o);u(S,1-S)}return!0}),y(),u(0,1),k}function xn(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:s}=e,l=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=s,Jt(n,l)}}function Jt(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const s=getComputedStyle(n),l=s.transform==="none"?"":s.transform;n.style.transform=`${l} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let Ie;function fe(n){Ie=n}function Gt(){if(!Ie)throw new Error("Function called outside component initialization");return Ie}function Wt(n){Gt().$$.on_mount.push(n)}const Se=[],Ce=[],Oe=[],st=[],Vt=Promise.resolve();let Ke=!1;function Qt(){Ke||(Ke=!0,Vt.then(Xe))}function Pe(){return Qt(),Vt}function ze(n){Oe.push(n)}const He=new Set;let qe=0;function Xe(){const n=Ie;do{for(;qe<Se.length;){const e=Se[qe];qe++,fe(e),Sn(e.$$)}for(fe(null),Se.length=0,qe=0;Ce.length;)Ce.pop()();for(let e=0;e<Oe.length;e+=1){const t=Oe[e];He.has(t)||(He.add(t),t())}Oe.length=0}while(Se.length);for(;st.length;)st.pop()();Ke=!1,He.clear(),fe(n)}function Sn(n){if(n.fragment!==null){n.update(),Z(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(ze)}}let xe;function Xt(){return xe||(xe=Promise.resolve(),xe.then(()=>{xe=null})),xe}function Le(n,e,t){n.dispatchEvent(wn(`${e?"intro":"outro"}${t}`))}const Te=new Set;let re;function ae(){re={r:0,c:[],p:re}}function ce(){re.r||Z(re.c),re=re.p}function L(n,e){n&&n.i&&(Te.delete(n),n.i(e))}function I(n,e,t,s){if(n&&n.o){if(Te.has(n))return;Te.add(n),re.c.push(()=>{Te.delete(n),s&&(t&&n.d(1),s())}),n.o(e)}else s&&s()}const Zt={duration:0};function en(n,e,t){let s=e(n,t),l=!0,r;const o=re;o.r+=1;function i(){const{delay:a=0,duration:c=300,easing:u=Be,tick:f=z,css:v}=s||Zt;v&&(r=De(n,1,0,c,a,u,v));const p=Ge()+a,_=p+c;ze(()=>Le(n,!1,"start")),Ve(y=>{if(l){if(y>=_)return f(0,1),Le(n,!1,"end"),--o.r||Z(o.c),!1;if(y>=p){const k=u((y-p)/c);f(1-k,k)}}return l})}return Fe(s)?Xt().then(()=>{s=s(),i()}):i(),{end(a){a&&s.tick&&s.tick(1,0),l&&(r&&Qe(n,r),l=!1)}}}function lt(n,e,t,s){let l=e(n,t),r=s?0:1,o=null,i=null,a=null;function c(){a&&Qe(n,a)}function u(v,p){const _=v.b-r;return p*=Math.abs(_),{a:r,b:v.b,d:_,duration:p,start:v.start,end:v.start+p,group:v.group}}function f(v){const{delay:p=0,duration:_=300,easing:y=Be,tick:k=z,css:$}=l||Zt,w={start:Ge()+p,b:v};v||(w.group=re,re.r+=1),o||i?i=w:($&&(c(),a=De(n,r,v,_,p,y,$)),v&&k(0,1),o=u(w,_),ze(()=>Le(n,v,"start")),Ve(S=>{if(i&&S>i.start&&(o=u(i,_),i=null,Le(n,o.b,"start"),$&&(c(),a=De(n,r,o.b,o.duration,0,y,l.css))),o){if(S>=o.end)k(r=o.b,1-r),Le(n,o.b,"end"),i||(o.b?c():--o.group.r||Z(o.group.c)),o=null;else if(S>=o.start){const q=S-o.start;r=o.a+o.d*y(q/o.duration),k(r,1-r)}}return!!(o||i)}))}return{run(v){Fe(l)?Xt().then(()=>{l=l(),f(v)}):f(v)},end(){c(),o=i=null}}}function Cn(n,e){const t=e.token={};function s(l,r,o,i){if(e.token!==t)return;e.resolved=i;let a=e.ctx;o!==void 0&&(a=a.slice(),a[o]=i);const c=l&&(e.current=l)(a);let u=!1;e.block&&(e.blocks?e.blocks.forEach((f,v)=>{v!==r&&f&&(ae(),I(f,1,1,()=>{e.blocks[v]===f&&(e.blocks[v]=null)}),ce())}):e.block.d(1),c.c(),L(c,1),c.m(e.mount(),e.anchor),u=!0),e.block=c,e.blocks&&(e.blocks[r]=c),u&&Xe()}if(cn(n)){const l=Gt();if(n.then(r=>{fe(l),s(e.then,1,e.value,r),fe(null)},r=>{if(fe(l),s(e.catch,2,e.error,r),fe(null),!e.hasCatch)throw r}),e.current!==e.pending)return s(e.pending,0),!0}else{if(e.current!==e.then)return s(e.then,1,e.value,n),!0;e.resolved=n}}function Ln(n,e,t){const s=e.slice(),{resolved:l}=n;n.current===n.then&&(s[n.value]=l),n.current===n.catch&&(s[n.error]=l),n.block.p(s,t)}function In(n,e){I(n,1,1,()=>{e.delete(n.key)})}function Pn(n,e){n.f(),In(n,e)}function En(n,e,t,s,l,r,o,i,a,c,u,f){let v=n.length,p=r.length,_=v;const y={};for(;_--;)y[n[_].key]=_;const k=[],$=new Map,w=new Map;for(_=p;_--;){const P=f(l,r,_),N=t(P);let M=o.get(N);M?s&&M.p(P,e):(M=c(N,P),M.c()),$.set(N,k[_]=M),N in y&&w.set(N,Math.abs(_-y[N]))}const S=new Set,q=new Set;function j(P){L(P,1),P.m(i,u),o.set(P.key,P),u=P.first,p--}for(;v&&p;){const P=k[p-1],N=n[v-1],M=P.key,Y=N.key;P===N?(u=P.first,v--,p--):$.has(Y)?!o.has(M)||S.has(M)?j(P):q.has(Y)?v--:w.get(M)>w.get(Y)?(q.add(M),j(P)):(S.add(Y),v--):(a(N,o),v--)}for(;v--;){const P=n[v];$.has(P.key)||a(P,o)}for(;p;)j(k[p-1]);return k}function H(n){n&&n.c()}function B(n,e,t,s){const{fragment:l,on_mount:r,on_destroy:o,after_update:i}=n.$$;l&&l.m(e,t),s||ze(()=>{const a=r.map(At).filter(Fe);o?o.push(...a):Z(a),n.$$.on_mount=[]}),i.forEach(ze)}function F(n,e){const t=n.$$;t.fragment!==null&&(Z(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function qn(n,e){n.$$.dirty[0]===-1&&(Se.push(n),Qt(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function ee(n,e,t,s,l,r,o,i=[-1]){const a=Ie;fe(n);const c=n.$$={fragment:null,ctx:null,props:r,update:z,not_equal:l,bound:nt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:nt(),dirty:i,skip_bound:!1,root:e.target||a.$$.root};o&&o(c.root);let u=!1;if(c.ctx=t?t(n,e.props||{},(f,v,...p)=>{const _=p.length?p[0]:v;return c.ctx&&l(c.ctx[f],c.ctx[f]=_)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](_),u&&qn(n,f)),v}):[],c.update(),u=!0,Z(c.before_update),c.fragment=s?s(c.ctx):!1,e.target){if(e.hydrate){const f=bn(e.target);c.fragment&&c.fragment.l(f),f.forEach(h)}else c.fragment&&c.fragment.c();e.intro&&L(n.$$.fragment),B(n,e.target,e.anchor,e.customElement),Xe()}fe(a)}class te{$destroy(){F(this,1),this.$destroy=z}$on(e,t){const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(t),()=>{const l=s.indexOf(t);l!==-1&&s.splice(l,1)}}$set(e){this.$$set&&!fn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const _e=[];function ue(n,e=z){let t;const s=new Set;function l(i){if(X(n,i)&&(n=i,t)){const a=!_e.length;for(const c of s)c[1](),_e.push(c,n);if(a){for(let c=0;c<_e.length;c+=2)_e[c][0](_e[c+1]);_e.length=0}}}function r(i){l(i(n))}function o(i,a=z){const c=[i,a];return s.add(c),s.size===1&&(t=e(l)||z),i(n),()=>{s.delete(c),s.size===0&&(t(),t=null)}}return{set:l,update:r,subscribe:o}}const ve=ue("setup"),Ue=ue("home"),G=ue("start"),he=ue(!1),Je=ue(""),be=ue({}),$e=ue([]),Q=ue({name:null,theme:"orange",mode:!0,sfx:!0,bgm:!0,bgm_song:10,layout:"new",pfp_data:1,quote:""}),ye=ue(!1);function Mn(n){let e,t;const s=n[1].default,l=dn(s,n,n[0],null);return{c(){e=g("div"),l&&l.c(),d(e,"class","svelte-6zv9mh")},m(r,o){b(r,e,o),l&&l.m(e,null),t=!0},p(r,[o]){l&&l.p&&(!t||o&1)&&vn(l,s,r,r[0],t?pn(s,r[0],o,null):gn(r[0]),null)},i(r){t||(L(l,r),t=!0)},o(r){I(l,r),t=!1},d(r){r&&h(e),l&&l.d(r)}}}function On(n,e,t){let{$$slots:s={},$$scope:l}=e;return n.$$set=r=>{"$$scope"in r&&t(0,l=r.$$scope)},[l,s]}class oe extends te{constructor(e){super(),ee(this,e,On,Mn,X,{})}}var ot="./assets/icon_0.ab82a5ad.svg",rt="./assets/icon_1.3649891f.svg",it="./assets/icon_10.4bd3e33c.svg",at="./assets/icon_11.521812d2.svg",ct="./assets/icon_12.0f7ed126.svg",ft="./assets/icon_13.58e2dcbb.svg",ut="./assets/icon_14.6513f659.svg",dt="./assets/icon_15.d1b06a28.svg",pt="./assets/icon_16.e5e55f53.svg",vt="./assets/icon_17.39e35340.svg",gt="./assets/icon_18.dc1f4b4e.svg",mt="./assets/icon_19.8ad18d14.svg",_t="./assets/icon_2.03a60034.svg",ht="./assets/icon_20.d1301d19.svg",bt="./assets/icon_21.2ef6b9a3.svg",wt="./assets/icon_22.c642b6ff.svg",kt="./assets/icon_3.79effa11.svg",yt="./assets/icon_4.078d1185.svg",zt="./assets/icon_5.656d31e0.svg",$t="./assets/icon_6.d72d5ba2.svg",xt="./assets/icon_7.16e301c0.svg",St="./assets/icon_8.515d5ae7.svg",Ct="./assets/icon_9.25c74dcc.svg",Lt="./assets/icon_err.8c194397.svg";function It(n){let e;return{c(){e=g("span"),d(e,"class","online svelte-krg3mg")},m(t,s){b(t,e,s)},d(t){t&&h(e)}}}function Tn(n){let e,t,s,l,r,o=n[2]&&It();return{c(){e=g("span"),o&&o.c(),t=x(),s=g("span"),l=g("img"),d(l,"alt",n[1]),d(l,"title",n[1]),ie(l.src,r=new URL({"./../assets/avatars/icon_0.svg":ot,"./../assets/avatars/icon_1.svg":rt,"./../assets/avatars/icon_10.svg":it,"./../assets/avatars/icon_11.svg":at,"./../assets/avatars/icon_12.svg":ct,"./../assets/avatars/icon_13.svg":ft,"./../assets/avatars/icon_14.svg":ut,"./../assets/avatars/icon_15.svg":dt,"./../assets/avatars/icon_16.svg":pt,"./../assets/avatars/icon_17.svg":vt,"./../assets/avatars/icon_18.svg":gt,"./../assets/avatars/icon_19.svg":mt,"./../assets/avatars/icon_2.svg":_t,"./../assets/avatars/icon_20.svg":ht,"./../assets/avatars/icon_21.svg":bt,"./../assets/avatars/icon_22.svg":wt,"./../assets/avatars/icon_3.svg":kt,"./../assets/avatars/icon_4.svg":yt,"./../assets/avatars/icon_5.svg":zt,"./../assets/avatars/icon_6.svg":$t,"./../assets/avatars/icon_7.svg":xt,"./../assets/avatars/icon_8.svg":St,"./../assets/avatars/icon_9.svg":Ct,"./../assets/avatars/icon_err.svg":Lt}[`./../assets/avatars/icon_${n[0]<0?n[0]===-1?21:"err":n[0]-1}.svg`],self.location).href)||d(l,"src",r),d(l,"draggable",!1),d(l,"width","auto"),d(l,"height","100%"),d(l,"class","svelte-krg3mg"),T(l,"loading",n[0]===-1),d(s,"class","pfp svelte-krg3mg"),d(e,"class","pfp-container svelte-krg3mg"),T(e,"big",n[3])},m(i,a){b(i,e,a),o&&o.m(e,null),m(e,t),m(e,s),m(s,l)},p(i,[a]){i[2]?o||(o=It(),o.c(),o.m(e,t)):o&&(o.d(1),o=null),a&2&&d(l,"alt",i[1]),a&2&&d(l,"title",i[1]),a&1&&!ie(l.src,r=new URL({"./../assets/avatars/icon_0.svg":ot,"./../assets/avatars/icon_1.svg":rt,"./../assets/avatars/icon_10.svg":it,"./../assets/avatars/icon_11.svg":at,"./../assets/avatars/icon_12.svg":ct,"./../assets/avatars/icon_13.svg":ft,"./../assets/avatars/icon_14.svg":ut,"./../assets/avatars/icon_15.svg":dt,"./../assets/avatars/icon_16.svg":pt,"./../assets/avatars/icon_17.svg":vt,"./../assets/avatars/icon_18.svg":gt,"./../assets/avatars/icon_19.svg":mt,"./../assets/avatars/icon_2.svg":_t,"./../assets/avatars/icon_20.svg":ht,"./../assets/avatars/icon_21.svg":bt,"./../assets/avatars/icon_22.svg":wt,"./../assets/avatars/icon_3.svg":kt,"./../assets/avatars/icon_4.svg":yt,"./../assets/avatars/icon_5.svg":zt,"./../assets/avatars/icon_6.svg":$t,"./../assets/avatars/icon_7.svg":xt,"./../assets/avatars/icon_8.svg":St,"./../assets/avatars/icon_9.svg":Ct,"./../assets/avatars/icon_err.svg":Lt}[`./../assets/avatars/icon_${i[0]<0?i[0]===-1?21:"err":i[0]-1}.svg`],self.location).href)&&d(l,"src",r),a&1&&T(l,"loading",i[0]===-1),a&8&&T(e,"big",i[3])},i:z,o:z,d(i){i&&h(e),o&&o.d()}}}function jn(n,e,t){let{icon:s=-1}=e,{alt:l="Profile picture"}=e,{online:r=!1}=e,{big:o=!1}=e;return n.$$set=i=>{"icon"in i&&t(0,s=i.icon),"alt"in i&&t(1,l=i.alt),"online"in i&&t(2,r=i.online),"big"in i&&t(3,o=i.big)},[s,l,r,o]}class Ze extends te{constructor(e){super(),ee(this,e,jn,Tn,X,{icon:0,alt:1,online:2,big:3})}}function Rn(n){let e,t;return{c(){e=g("span"),t=C(n[0]),d(e,"title",n[1]),d(e,"class","date svelte-190wm28")},m(s,l){b(s,e,l),m(e,t)},p(s,[l]){l&1&&W(t,s[0]),l&2&&d(e,"title",s[1])},i:z,o:z,d(s){s&&h(e)}}}function Nn(n,e,t){let{date:s=0}=e,l,r;return n.$$set=o=>{"date"in o&&t(2,s=o.date)},n.$$.update=()=>{if(n.$$.dirty&4){const o=new Date(s*1e3);t(0,l=o.toLocaleString()),t(1,r=`Time is in your local timezone (UTC+${-(o.getTimezoneOffset()/60)}).
12-hour time: ${o.toLocaleString([],{hourCycle:"h11"})}
24-hour time: ${o.toLocaleString([],{hourCycle:"h23"})}
ISO: ${o.toISOString()}`)}},[l,r,s]}class Dn extends te{constructor(e){super(),ee(this,e,Nn,Rn,X,{date:2})}}function de(n){return new Promise(e=>setTimeout(e,n))}const Un=localStorage.getItem("meower_linkurl")||"wss://server.meower.org/",Ae=localStorage.getItem("meower_apiurl")||"https://api.meower.org/",An=localStorage.getItem("meower_encodeapi")||!1;class Bn{constructor(e){return this.events={},this._numevents=1,this.ip=null,e&&this.connect(e),this}_console(e,t,s){const l=Array.from(arguments).slice(2),r="%o".repeat(l.length);console[e](`%cCLJS%c${t}%c ${r}`,"background:#0fbd8c;color:white;font-weight:bold;border-radius:4px 0 0 4px;padding:0 3px;display:inline-block","background:#000;color:white;font-weight:bold;border-radius:0 4px 4px 0;padding:0 3px;display:inline-block","",...l)}log(e,t){this._console.apply(this,["log",...arguments])}warn(e,t){this._console.apply(this,["warn",...arguments])}error(e,t){this._console.apply(this,["error",...arguments])}connect(e){return new Promise((t,s)=>{try{this.ws&&this.ws.readyState===1&&(this.log("connection","already connected, disconnecting..."),this.disconnect(1e3,"Intentional disconnect")),this.ws=new WebSocket(e),this.emit("connectionstart"),this.ws.addEventListener("open",async()=>{try{this.log("connection","connected to websockets");const l=localStorage.getItem("meower_ip");l||l===""?this.ip=l:this.ip=await(await fetch(Ae+"ip")).text(),this.send({cmd:"direct",val:{cmd:"ip",val:this.ip}}),await de(100),this.send({cmd:"direct",val:{cmd:"type",val:"js"},listener:"send_type"});const r=this.sendListener({cmd:"direct",val:"meower",listener:"send_tkey"},o=>{o.cmd==="statuscode"&&(this.off(r),o.val==="I:100 | OK"?(t(),this.log("connection","successfully connected")):(s(o.val),this.error("connection","error connecting; code:",o.val)))});this.emit("connected")}catch(l){this.error("connection","error connecting:",l),s(l)}}),this.ws.addEventListener("message",l=>{const r=JSON.parse(l.data);this.log("< incoming",r),this.emit(r.cmd,r),r.listener&&this.emit("__listener_"+r.listener,r)}),this.ws.addEventListener("close",l=>{this.log("connection","disconnected with code ",l.code," and reason",l.reason),this.emit("disconnected",l)}),this.ws.addEventListener("error",l=>{this.error("connection","error:",l),this.emit("error",l)})}catch(l){s(l)}})}send(e){if(!this.ws||this.ws.readyState!==1)throw new Error("Not connected; use link.connect(server) to connect");this.log("> outgoing",e),this.ws.send(JSON.stringify(e))}sendListener(e,t){if(!e.listener)throw new Error("data must have a listener");return this.send(e),this.onListener(e.listener,t)}on(e,t){this._numevents++;const s=(this._numevents-1).toString();return this.events[s]={event:e,cb:t},s}onListener(e,t){return this.on("__listener_"+e,t)}off(e){if(!this.events[e])throw new Error("Tried to remove nonexistent listener");delete this.events[e]}once(e,t){const s=this.on(e,()=>{t(arguments),this.off(s)})}emit(e,t){Object.values(this.events).forEach(s=>{s.event===e&&s.cb(t)})}disconnect(e,t){!this.ws||this.ws.readyState!==1||(console.log(e,t),this.ws.close(e,t))}}function et(){return{name:null,theme:"orange",mode:!0,sfx:!0,bgm:!0,bgm_song:10,layout:"new",pfp_data:1,quote:""}}let tn=null;Q.subscribe(n=>tn=n);const O=new Bn;window.cljs=O;O.log("manager","started");let Ye=null,pe=null,Me=null,le=null;async function Fn(){Ye&&(O.off(Ye),pe=null),pe&&(O.off(pe),pe=null),Me&&(O.off(Me),Me=null),le&&(clearInterval(le),le=null),Je.set(""),O.once("connectionstart",()=>{Ye=O.on("connected",()=>{he.set(!1),le=setInterval(()=>{O.send({cmd:"ping",val:""})},1e4)}),pe=O.on("disconnected",n=>{$e.set([]),n.reason!=="Intentional disconnect"&&he.set(!0),Q.set(et()),le&&(clearInterval(le),le=null)}),Me=O.on("ulist",n=>{const e=n.val.split(";");e[e.length-1]===""&&e.pop(),$e.set(e)})}),he.set(!1);try{return await O.connect(Un)}catch(n){return O.disconnect(),Je.set(n),he.set(!0),O.error("manager","conenction error:",n),n}}async function Pt(){return O.ws?O.ws.readyState!==1?(O.log("manager","already disconnected or disconnecting, cancelling safe disconnect"),new Promise(n=>n())):(O.log("manager","safely disconnecting"),new Promise(n=>{$e.set([]),Q.set(et()),pe&&(O.off(pe),pe=null),le&&(clearInterval(le),le=null),O.once("disconnected",n),O.disconnect(1e3,"Intentional disconnect")})):(O.log("manager","websocket not present, cancelling safe disconnect"),new Promise(n=>n()))}async function me(n){return O.log("manager","meower request",n),ye.set(!0),new Promise((e,t)=>{let s=null;const l=setTimeout(()=>{t("Timed out"),ye.set(!1)},1e4),r=O.sendListener({...n,listener:"listener_"+Math.floor(Math.random()*1e7)},o=>{o.cmd==="statuscode"?(O.off(r),ye.set(!1),clearTimeout(l),o.val==="I:100 | OK"?e(s):t(o.val)):o.cmd==="direct"&&(s=o.val)})})}async function je(){const n=tn;return me({cmd:"direct",val:{cmd:"update_config",val:{theme:n.theme,mode:n.mode,sfx:n.sfx,bgm:n.bgm,bgm_song:n.bgm_song,layout:n.layout,pfp_data:n.pfp_data,quote:n.quote}}})}function Et(n){let e,t,s;return t=new Ze({props:{icon:n[1][n[0].user]?n[1][n[0].user].pfp_data:-1,alt:n[0].user+"'s profile picture",online:n[3].includes(n[0].user)}}),{c(){e=g("div"),H(t.$$.fragment),d(e,"class","pfp svelte-1lhgrcc")},m(l,r){b(l,e,r),B(t,e,null),s=!0},p(l,r){const o={};r&3&&(o.icon=l[1][l[0].user]?l[1][l[0].user].pfp_data:-1),r&1&&(o.alt=l[0].user+"'s profile picture"),r&9&&(o.online=l[3].includes(l[0].user)),t.$set(o)},i(l){s||(L(t.$$.fragment,l),s=!0)},o(l){I(t.$$.fragment,l),s=!1},d(l){l&&h(e),F(t)}}}function Hn(n){let e,t,s,l,r=n[0].user+"",o,i,a,c,u,f=n[0].content+"",v,p,_=n[2].name&&Et(n);return a=new Dn({props:{date:n[0].date}}),{c(){e=g("div"),_&&_.c(),t=x(),s=g("div"),l=g("h2"),o=C(r),i=x(),H(a.$$.fragment),c=x(),u=g("p"),v=C(f),d(l,"class","creator svelte-1lhgrcc"),d(s,"class","creator svelte-1lhgrcc"),d(e,"class","post-header svelte-1lhgrcc")},m(y,k){b(y,e,k),_&&_.m(e,null),m(e,t),m(e,s),m(s,l),m(l,o),m(s,i),B(a,s,null),b(y,c,k),b(y,u,k),m(u,v),p=!0},p(y,k){y[2].name?_?(_.p(y,k),k&4&&L(_,1)):(_=Et(y),_.c(),L(_,1),_.m(e,t)):_&&(ae(),I(_,1,1,()=>{_=null}),ce()),(!p||k&1)&&r!==(r=y[0].user+"")&&W(o,r);const $={};k&1&&($.date=y[0].date),a.$set($),(!p||k&1)&&f!==(f=y[0].content+"")&&W(v,f)},i(y){p||(L(_),L(a.$$.fragment,y),p=!0)},o(y){I(_),I(a.$$.fragment,y),p=!1},d(y){y&&h(e),_&&_.d(),F(a),y&&h(c),y&&h(u)}}}function Yn(n){let e,t;return e=new oe({props:{$$slots:{default:[Hn]},$$scope:{ctx:n}}}),{c(){H(e.$$.fragment)},m(s,l){B(e,s,l),t=!0},p(s,[l]){const r={};l&47&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){t||(L(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){F(e,s)}}}function Kn(n,e,t){let s,l,r;V(n,be,a=>t(1,s=a)),V(n,Q,a=>t(2,l=a)),V(n,$e,a=>t(3,r=a));let{post:o={}}=e;function i(){if(!o.user||!l.name)return;const a=o.user,c=()=>{let f=s;f[a]={pfp_data:-1},be.set(f),me({cmd:"direct",val:{cmd:"get_profile",val:a},listener:"get_profile_"+a}).then(v=>{f[a]=v.payload,be.set(f)}).catch(v=>{f[a]={error:!0,pfp_data:-2,temporary:!0},be.set(f)})},u=s;u[a]?u[a].temporary&&c():c()}return Wt(i),n.$$set=a=>{"post"in a&&t(0,o=a.post)},[o,s,l,r]}class Jn extends te{constructor(e){super(),ee(this,e,Kn,Yn,X,{post:0})}}function Gn(n){let e;return{c(){e=g("span"),e.innerHTML='<span class="circle circle1 svelte-idse3p"></span><span class="circle circle2 svelte-idse3p"></span><span class="circle circle3 svelte-idse3p"></span>',d(e,"class","loading svelte-idse3p")},m(t,s){b(t,e,s)},p:z,i:z,o:z,d(t){t&&h(e)}}}class nn extends te{constructor(e){super(),ee(this,e,null,Gn,X,{})}}function sn(n){const e=n-1;return e*e*e+1}function ln(n,{delay:e=0,duration:t=400,easing:s=Be}={}){const l=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:s,css:r=>`opacity: ${r*l}`}}function qt(n,{delay:e=0,duration:t=400,easing:s=sn,x:l=0,y:r=0,opacity:o=0}={}){const i=getComputedStyle(n),a=+i.opacity,c=i.transform==="none"?"":i.transform,u=a*(1-o);return{delay:e,duration:t,easing:s,css:(f,v)=>`
			transform: ${c} translate(${(1-f)*l}px, ${(1-f)*r}px);
			opacity: ${a-u*v}`}}function Wn(n,{from:e,to:t},s={}){const l=getComputedStyle(n),r=l.transform==="none"?"":l.transform,[o,i]=l.transformOrigin.split(" ").map(parseFloat),a=e.left+e.width*o/t.width-(t.left+o),c=e.top+e.height*i/t.height-(t.top+i),{delay:u=0,duration:f=p=>Math.sqrt(p)*120,easing:v=sn}=s;return{delay:u,duration:Fe(f)?f(Math.sqrt(a*a+c*c)):f,easing:v,css:(p,_)=>{const y=_*a,k=_*c,$=p+_*e.width/t.width,w=p+_*e.height/t.height;return`transform: ${r} translate(${y}px, ${k}px) scale(${$}, ${w});`}}}function Mt(n,e,t){const s=n.slice();return s[15]=e[t],s}function Vn(n){let e,t;return e=new oe({props:{$$slots:{default:[Qn]},$$scope:{ctx:n}}}),{c(){H(e.$$.fragment)},m(s,l){B(e,s,l),t=!0},p(s,l){const r={};l&524288&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){t||(L(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){F(e,s)}}}function Qn(n){let e,t,s,l,r=n[18]+"",o;return{c(){e=g("h1"),e.textContent="Home",t=C(`
			Error loading posts. Please try again.
			`),s=g("pre"),l=g("code"),o=C(r)},m(i,a){b(i,e,a),b(i,t,a),b(i,s,a),m(s,l),m(l,o)},p:z,d(i){i&&h(e),i&&h(t),i&&h(s)}}}function Xn(n){let e,t,s,l,r,o,i,a,c,u;e=new oe({props:{$$slots:{default:[Zn]},$$scope:{ctx:n}}});let f=n[6].name&&Tt(n);const v=[ts,es],p=[];function _(w,S){return w[0].length<1?0:1}l=_(n),r=p[l]=v[l](n);const y=[os,ls],k=[];function $(w,S){return w[2]?0:w[3]&&w[3]>w[1]?1:-1}return~(a=$(n))&&(c=k[a]=y[a](n)),{c(){H(e.$$.fragment),t=x(),f&&f.c(),s=x(),r.c(),o=x(),i=g("div"),c&&c.c(),d(i,"class","center svelte-pbdqt6")},m(w,S){B(e,w,S),b(w,t,S),f&&f.m(w,S),b(w,s,S),p[l].m(w,S),b(w,o,S),b(w,i,S),~a&&k[a].m(i,null),u=!0},p(w,S){const q={};S&524320&&(q.$$scope={dirty:S,ctx:w}),e.$set(q),w[6].name?f?f.p(w,S):(f=Tt(w),f.c(),f.m(s.parentNode,s)):f&&(f.d(1),f=null);let j=l;l=_(w),l===j?p[l].p(w,S):(ae(),I(p[j],1,1,()=>{p[j]=null}),ce(),r=p[l],r?r.p(w,S):(r=p[l]=v[l](w),r.c()),L(r,1),r.m(o.parentNode,o));let P=a;a=$(w),a===P?~a&&k[a].p(w,S):(c&&(ae(),I(k[P],1,1,()=>{k[P]=null}),ce()),~a?(c=k[a],c?c.p(w,S):(c=k[a]=y[a](w),c.c()),L(c,1),c.m(i,null)):c=null)},i(w){u||(L(e.$$.fragment,w),L(r),L(c),u=!0)},o(w){I(e.$$.fragment,w),I(r),I(c),u=!1},d(w){F(e,w),w&&h(t),f&&f.d(w),w&&h(s),p[l].d(w),w&&h(o),w&&h(i),~a&&k[a].d()}}}function Ot(n){let e=" ",t,s,l=n[5].join(", ")+"",r,o;return{c(){t=C(e),s=C("("),r=C(l),o=C(")")},m(i,a){b(i,t,a),b(i,s,a),b(i,r,a),b(i,o,a)},p(i,a){a&32&&l!==(l=i[5].join(", ")+"")&&W(r,l)},d(i){i&&h(t),i&&h(s),i&&h(r),i&&h(o)}}}function Zn(n){let e,t,s=n[5].length+"",l,r,o,i=n[5].length&&Ot(n);return{c(){e=g("h1"),e.textContent="Home",t=C(`
			There are currently `),l=C(s),r=C(" user(s) online"),i&&i.c(),o=C(".")},m(a,c){b(a,e,c),b(a,t,c),b(a,l,c),b(a,r,c),i&&i.m(a,c),b(a,o,c)},p(a,c){c&32&&s!==(s=a[5].length+"")&&W(l,s),a[5].length?i?i.p(a,c):(i=Ot(a),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},d(a){a&&h(e),a&&h(t),a&&h(l),a&&h(r),i&&i.d(a),a&&h(o)}}}function Tt(n){let e,t,s,l,r,o;return{c(){e=g("form"),e.innerHTML=`<input type="text" class="white svelte-pbdqt6" placeholder="Write something..." id="postinput" name="postinput" autocomplete="false" maxlength="250"/> 
				<button>Post</button>`,t=x(),s=g("div"),l=C(n[4]),d(e,"class","createpost svelte-pbdqt6"),d(s,"class","post-errors svelte-pbdqt6")},m(i,a){b(i,e,a),b(i,t,a),b(i,s,a),m(s,l),r||(o=R(e,"submit",ke(n[8])),r=!0)},p(i,a){a&16&&W(l,i[4])},d(i){i&&h(e),i&&h(t),i&&h(s),r=!1,o()}}}function es(n){let e=[],t=new Map,s,l,r=n[0];const o=i=>i[15].id;for(let i=0;i<r.length;i+=1){let a=Mt(n,r,i),c=o(a);t.set(c,e[i]=jt(c,a))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();s=Kt()},m(i,a){for(let c=0;c<e.length;c+=1)e[c].m(i,a);b(i,s,a),l=!0},p(i,a){if(a&1){r=i[0],ae();for(let c=0;c<e.length;c+=1)e[c].r();e=En(e,a,o,1,i,r,t,s.parentNode,Pn,jt,s,Mt);for(let c=0;c<e.length;c+=1)e[c].a();ce()}},i(i){if(!l){for(let a=0;a<r.length;a+=1)L(e[a]);l=!0}},o(i){for(let a=0;a<e.length;a+=1)I(e[a]);l=!1},d(i){for(let a=0;a<e.length;a+=1)e[a].d(i);i&&h(s)}}}function ts(n){let e;function t(r,o){return r[6].name?ss:ns}let s=t(n),l=s(n);return{c(){l.c(),e=Kt()},m(r,o){l.m(r,o),b(r,e,o)},p(r,o){s!==(s=t(r))&&(l.d(1),l=s(r),l&&(l.c(),l.m(e.parentNode,e)))},i:z,o:z,d(r){l.d(r),r&&h(e)}}}function jt(n,e){let t,s,l,r,o,i=z,a;return s=new Jn({props:{post:e[15]}}),{key:n,first:null,c(){t=g("div"),H(s.$$.fragment),l=x(),this.first=t},m(c,u){b(c,t,u),B(s,t,null),m(t,l),a=!0},p(c,u){e=c;const f={};u&1&&(f.post=e[15]),s.$set(f)},r(){o=t.getBoundingClientRect()},f(){xn(t),i(),Jt(t,o)},a(){i(),i=$n(t,o,Wn,{duration:250})},i(c){a||(L(s.$$.fragment,c),c&&ze(()=>{r||(r=lt(t,qt,{y:-50,duration:250},!0)),r.run(1)}),a=!0)},o(c){I(s.$$.fragment,c),c&&(r||(r=lt(t,qt,{y:-50,duration:250},!1)),r.run(0)),a=!1},d(c){c&&h(t),F(s),c&&r&&r.end()}}}function ns(n){let e;return{c(){e=C("No posts here. Check back later!")},m(t,s){b(t,e,s)},d(t){t&&h(e)}}}function ss(n){let e;return{c(){e=C("No posts here. Check back later or be the first to post!")},m(t,s){b(t,e,s)},d(t){t&&h(e)}}}function ls(n){let e,t,s;return{c(){e=g("button"),e.textContent="Load More",d(e,"class","load-more svelte-pbdqt6")},m(l,r){b(l,e,r),t||(s=R(e,"click",n[9]),t=!0)},p:z,i:z,o:z,d(l){l&&h(e),t=!1,s()}}}function os(n){let e,t;return e=new nn({}),{c(){H(e.$$.fragment)},m(s,l){B(e,s,l),t=!0},p:z,i(s){t||(L(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){F(e,s)}}}function rs(n){let e,t,s;return t=new nn({}),{c(){e=g("div"),H(t.$$.fragment),d(e,"class","fullcenter svelte-pbdqt6")},m(l,r){b(l,e,r),B(t,e,null),s=!0},p:z,i(l){s||(L(t.$$.fragment,l),s=!0)},o(l){I(t.$$.fragment,l),s=!1},d(l){l&&h(e),F(t)}}}function is(n){let e,t,s={ctx:n,current:null,token:null,hasCatch:!0,pending:rs,then:Xn,catch:Vn,error:18,blocks:[,,,]};return Cn(n[7](1),s),{c(){e=g("div"),s.block.c(),d(e,"class","home svelte-pbdqt6")},m(l,r){b(l,e,r),s.block.m(e,s.anchor=null),s.mount=()=>e,s.anchor=null,t=!0},p(l,[r]){n=l,Ln(s,n,r)},i(l){t||(L(s.block),t=!0)},o(l){for(let r=0;r<3;r+=1){const o=s.blocks[r];I(o)}t=!1},d(l){l&&h(e),s.block.d(),s.token=null,s=null}}}function as(n,e,t){let s,l;V(n,$e,w=>t(12,s=w)),V(n,Q,w=>t(6,l=w));let r=0,{posts:o=[]}=e,i=0,a=!1,c=null,u="",f=0;async function v(w){if(t(2,a=!0),w===void 0)t(0,o=[]);else{let S=w+Math.floor(f/25),q=f%25;try{let j="home?autoget&page=";An&&(j=encodeURIComponent(j));const P=await fetch(`${Ae}${j}${S}`);if(!P.ok)throw new Error("Response code is not OK; code is "+P.status);const N=await P.json();let M=N.autoget;M.splice(0,q),t(3,c=N.pages);let Y,K;if(q>0&&i<c){if(Y=await fetch(`${Ae}${j}${S+1}`),!P.ok)throw new Error("Overflow response code is not OK; code is "+P.status);K=await Y.json(),M=M.concat(K.autoget.slice(0,q))}for(const U of M)o.push({id:r++,post_id:U.post_id,user:U.u,content:U.p,date:U.t.e});t(1,i=w)}catch(j){throw t(2,a=!1),j}}return t(0,o),t(2,a=!1),o}function p(w){o.unshift({id:r++,...w}),t(0,o)}function _(){O.on("direct",w=>{w.val.post_origin==="home"&&(p({post_id:w.val.post_id,user:w.val.u,content:w.val.p,date:w.val.t.e}),f++,t(0,o))})}O.ws.readyState===1?_():O.ws.addEventListener("open",_);let y=s;$e.subscribe(w=>{t(5,y=w)});const k=w=>{if(t(4,u=""),!w.target[0].value.trim())return t(4,u="You cannot send an empty post!"),!1;ye.set(!0),O.send({cmd:"direct",val:{cmd:"post_home",val:w.target[0].value},listener:"post_home"});const S=O.on("statuscode",q=>{q.listener==="post_home"&&(O.off(S),ye.set(!1),q.val==="I:100 | OK"?w.target[0].value="":q.val==="E:106 | Too many requests"?t(4,u="You're posting too fast!"):t(4,u="Unexpected "+q.val+" error!"))});return!1},$=()=>v(i+1);return n.$$set=w=>{"posts"in w&&t(0,o=w.posts)},[o,i,a,c,u,y,l,v,k,$]}class cs extends te{constructor(e){super(),ee(this,e,as,is,X,{posts:0})}}function Rt(n,e,t){const s=n.slice();return s[6]=e[t],s}function fs(n){let e,t,s,l,r=n[0].name+"",o,i;return t=new Ze({props:{online:!0,icon:n[0].pfp_data,alt:n[0].name+"'s profile picture",big:!0}}),{c(){e=g("div"),H(t.$$.fragment),s=x(),l=g("h1"),o=C(r),d(l,"class","profile-username svelte-18818d9"),d(e,"class","profile-header svelte-18818d9")},m(a,c){b(a,e,c),B(t,e,null),m(e,s),m(e,l),m(l,o),i=!0},p(a,c){const u={};c&1&&(u.icon=a[0].pfp_data),c&1&&(u.alt=a[0].name+"'s profile picture"),t.$set(u),(!i||c&1)&&r!==(r=a[0].name+"")&&W(o,r)},i(a){i||(L(t.$$.fragment,a),i=!0)},o(a){I(t.$$.fragment,a),i=!1},d(a){a&&h(e),F(t)}}}function Nt(n){let e,t,s,l,r;t=new Ze({props:{online:!1,icon:n[6],alt:"Profile picture "+n[6]}});function o(){return n[3](n[6])}return{c(){e=g("span"),H(t.$$.fragment),d(e,"class","pfp svelte-18818d9"),T(e,"selected",n[0].pfp_data===n[6])},m(i,a){b(i,e,a),B(t,e,null),s=!0,l||(r=R(e,"click",o),l=!0)},p(i,a){n=i,a&3&&T(e,"selected",n[0].pfp_data===n[6])},i(i){s||(L(t.$$.fragment,i),s=!0)},o(i){I(t.$$.fragment,i),s=!1},d(i){i&&h(e),F(t),l=!1,r()}}}function us(n){let e,t,s,l,r=n[1],o=[];for(let a=0;a<r.length;a+=1)o[a]=Nt(Rt(n,r,a));const i=a=>I(o[a],1,1,()=>{o[a]=null});return{c(){e=g("h2"),e.textContent="Profile Picture",t=x(),s=g("div");for(let a=0;a<o.length;a+=1)o[a].c();d(s,"id","pfp-list"),d(s,"class","svelte-18818d9")},m(a,c){b(a,e,c),b(a,t,c),b(a,s,c);for(let u=0;u<o.length;u+=1)o[u].m(s,null);l=!0},p(a,c){if(c&7){r=a[1];let u;for(u=0;u<r.length;u+=1){const f=Rt(a,r,u);o[u]?(o[u].p(f,c),L(o[u],1)):(o[u]=Nt(f),o[u].c(),L(o[u],1),o[u].m(s,null))}for(ae(),u=r.length;u<o.length;u+=1)i(u);ce()}},i(a){if(!l){for(let c=0;c<r.length;c+=1)L(o[c]);l=!0}},o(a){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)I(o[c]);l=!1},d(a){a&&h(e),a&&h(t),a&&h(s),hn(o,a)}}}function ds(n){let e,t,s,l,r;return t=new oe({props:{$$slots:{default:[fs]},$$scope:{ctx:n}}}),l=new oe({props:{$$slots:{default:[us]},$$scope:{ctx:n}}}),{c(){e=g("div"),H(t.$$.fragment),s=x(),H(l.$$.fragment),d(e,"class","profile")},m(o,i){b(o,e,i),B(t,e,null),m(e,s),B(l,e,null),r=!0},p(o,[i]){const a={};i&513&&(a.$$scope={dirty:i,ctx:o}),t.$set(a);const c={};i&513&&(c.$$scope={dirty:i,ctx:o}),l.$set(c)},i(o){r||(L(t.$$.fragment,o),L(l.$$.fragment,o),r=!0)},o(o){I(t.$$.fragment,o),I(l.$$.fragment,o),r=!1},d(o){o&&h(e),F(t),F(l)}}}function ps(n,e,t){let s,l;V(n,Q,c=>t(4,s=c)),V(n,be,c=>t(5,l=c));let r=s;Q.subscribe(c=>t(0,r=c));const o=new Array(23).fill().map((c,u)=>u+1);function i(){if(l[s.name]){const c=l;delete c[s.name],be.set(c)}je()}return[r,o,i,c=>{r.pfp_data!==c&&(t(0,r.pfp_data=c,r),i())}]}class vs extends te{constructor(e){super(),ee(this,e,ps,ds,X,{})}}function gs(n){let e,t;return{c(){e=g("h1"),e.textContent="Settings",t=C(`
	You can change your settings here. These will save to your account, so they will carry over into other clients.`)},m(s,l){b(s,e,l),b(s,t,l)},p:z,d(s){s&&h(e),s&&h(t)}}}function ms(n){let e,t,s,l,r,o=n[5].layout+"",i,a,c,u;return{c(){e=g("div"),t=g("button"),s=x(),l=g("h2"),l.textContent="Layout",r=C(`
	The layout is currently set to `),i=C(o),a=C("."),d(t,"class","settings-button change svelte-197hig2"),T(t,"on",n[5].layout==="old"),d(e,"class","settings-controls svelte-197hig2")},m(f,v){b(f,e,v),m(e,t),b(f,s,v),b(f,l,v),b(f,r,v),b(f,i,v),b(f,a,v),c||(u=R(t,"click",n[7]),c=!0)},p(f,v){v&32&&T(t,"on",f[5].layout==="old"),v&32&&o!==(o=f[5].layout+"")&&W(i,o)},d(f){f&&h(e),f&&h(s),f&&h(l),f&&h(r),f&&h(i),f&&h(a),c=!1,u()}}}function _s(n){let e,t,s,l,r,o=n[5].theme+"",i,a,c,u;return{c(){e=g("div"),t=g("button"),s=x(),l=g("h2"),l.textContent="Theme",r=C(`
	The theme is currently set to `),i=C(o),a=C("."),d(t,"class","settings-button change svelte-197hig2"),T(t,"on",n[5].theme==="blue"),d(e,"class","settings-controls svelte-197hig2")},m(f,v){b(f,e,v),m(e,t),b(f,s,v),b(f,l,v),b(f,r,v),b(f,i,v),b(f,a,v),c||(u=R(t,"click",n[8]),c=!0)},p(f,v){v&32&&T(t,"on",f[5].theme==="blue"),v&32&&o!==(o=f[5].theme+"")&&W(i,o)},d(f){f&&h(e),f&&h(s),f&&h(l),f&&h(r),f&&h(i),f&&h(a),c=!1,u()}}}function hs(n){let e,t,s,l,r,o=n[5].mode?"disabled":"enabled",i,a,c,u;return{c(){e=g("div"),t=g("button"),s=x(),l=g("h2"),l.textContent="Dark Mode",r=C(`
	Dark mode is currently `),i=C(o),a=C("."),d(t,"class","settings-button switch svelte-197hig2"),T(t,"on",!n[5].mode),d(e,"class","settings-controls svelte-197hig2")},m(f,v){b(f,e,v),m(e,t),b(f,s,v),b(f,l,v),b(f,r,v),b(f,i,v),b(f,a,v),c||(u=R(t,"click",n[9]),c=!0)},p(f,v){v&32&&T(t,"on",!f[5].mode),v&32&&o!==(o=f[5].mode?"disabled":"enabled")&&W(i,o)},d(f){f&&h(e),f&&h(s),f&&h(l),f&&h(r),f&&h(i),f&&h(a),c=!1,u()}}}function bs(n){let e,t,s,l,r,o,i,a,c,u,f,v,p,_,y;return{c(){e=g("div"),t=g("button"),s=x(),l=g("button"),r=x(),o=g("button"),i=x(),a=g("button"),c=x(),u=g("button"),f=x(),v=g("h2"),v.textContent="Delete Account",p=C(`
	THIS CANNOT BE UNDONE. Enable all the switches to delete your account, if you are really sure.`),d(t,"class","settings-button switch svelte-197hig2"),T(t,"on",n[0]),d(l,"class","settings-button switch svelte-197hig2"),T(l,"on",n[1]),d(o,"class","settings-button switch svelte-197hig2"),T(o,"on",n[2]),d(a,"class","settings-button switch svelte-197hig2"),T(a,"on",n[3]),d(u,"class","settings-button switch svelte-197hig2"),T(u,"on",n[4]),d(e,"class","settings-controls svelte-197hig2")},m(k,$){b(k,e,$),m(e,t),m(e,s),m(e,l),m(e,r),m(e,o),m(e,i),m(e,a),m(e,c),m(e,u),b(k,f,$),b(k,v,$),b(k,p,$),_||(y=[R(t,"click",n[10]),R(l,"click",n[11]),R(o,"click",n[12]),R(a,"click",n[13]),R(u,"click",n[14])],_=!0)},p(k,$){$&1&&T(t,"on",k[0]),$&2&&T(l,"on",k[1]),$&4&&T(o,"on",k[2]),$&8&&T(a,"on",k[3]),$&16&&T(u,"on",k[4])},d(k){k&&h(e),k&&h(f),k&&h(v),k&&h(p),_=!1,Z(y)}}}function ws(n){let e,t,s,l,r,o,i,a,c,u,f,v;return e=new oe({props:{$$slots:{default:[gs]},$$scope:{ctx:n}}}),s=new oe({props:{$$slots:{default:[ms]},$$scope:{ctx:n}}}),r=new oe({props:{$$slots:{default:[_s]},$$scope:{ctx:n}}}),i=new oe({props:{$$slots:{default:[hs]},$$scope:{ctx:n}}}),c=new oe({props:{$$slots:{default:[bs]},$$scope:{ctx:n}}}),{c(){H(e.$$.fragment),t=x(),H(s.$$.fragment),l=x(),H(r.$$.fragment),o=x(),H(i.$$.fragment),a=x(),H(c.$$.fragment),u=x(),f=g("div"),d(f,"class","eee")},m(p,_){B(e,p,_),b(p,t,_),B(s,p,_),b(p,l,_),B(r,p,_),b(p,o,_),B(i,p,_),b(p,a,_),B(c,p,_),b(p,u,_),b(p,f,_),v=!0},p(p,[_]){const y={};_&32768&&(y.$$scope={dirty:_,ctx:p}),e.$set(y);const k={};_&32800&&(k.$$scope={dirty:_,ctx:p}),s.$set(k);const $={};_&32800&&($.$$scope={dirty:_,ctx:p}),r.$set($);const w={};_&32800&&(w.$$scope={dirty:_,ctx:p}),i.$set(w);const S={};_&32799&&(S.$$scope={dirty:_,ctx:p}),c.$set(S)},i(p){v||(L(e.$$.fragment,p),L(s.$$.fragment,p),L(r.$$.fragment,p),L(i.$$.fragment,p),L(c.$$.fragment,p),v=!0)},o(p){I(e.$$.fragment,p),I(s.$$.fragment,p),I(r.$$.fragment,p),I(i.$$.fragment,p),I(c.$$.fragment,p),v=!1},d(p){F(e,p),p&&h(t),F(s,p),p&&h(l),F(r,p),p&&h(o),F(i,p),p&&h(a),F(c,p),p&&h(u),p&&h(f)}}}function ks(n,e,t){let s;V(n,Q,w=>t(5,s=w));let l=!1,r=!1,o=!1,i=!1,a=!1;async function c(){l&&r&&o&&i&&a&&(s.name===localStorage.getItem("meower_savedusername")&&(localStorage.removeItem("meower_savedusername"),localStorage.removeItem("meower_savedpassword")),await me({cmd:"direct",val:{cmd:"del_account",val:""}}),ve.set("setup"),await Pe(),G.set("reconnect"))}return[l,r,o,i,a,s,c,()=>{const w=s;w.layout=w.layout==="new"?"old":"new",Q.set(w),je()},()=>{const w=s;w.theme=w.theme==="orange"?"blue":"orange",Q.set(w),je()},()=>{const w=s;w.mode=!w.mode,Q.set(w),je()},()=>{t(0,l=!l),c()},()=>{t(1,r=!r),c()},()=>{t(2,o=!o),c()},()=>{t(3,i=!i),c()},()=>{t(4,a=!a),c()}]}class ys extends te{constructor(e){super(),ee(this,e,ks,ws,X,{})}}var tt="./assets/logo.22ae43ae.svg",zs="./assets/home.a6e91ee5.svg",$s="./assets/profile.f90d67b3.svg",xs="./assets/settings.10cdbd27.svg",Ss="./assets/logout.32557676.svg";function Dt(n){let e,t,s,l,r,o,i,a,c,u,f;return{c(){e=g("button"),t=g("img"),r=x(),o=g("button"),i=g("img"),ie(t.src,s=$s)||d(t,"src",s),d(t,"alt","Profile"),d(t,"width","90%"),d(t,"height","auto"),d(t,"draggable",l=!1),d(e,"class","profile-btn round svelte-n8zklt"),ie(i.src,a=xs)||d(i,"src",a),d(i,"alt","Settings"),d(i,"width","90%"),d(i,"height","auto"),d(i,"draggable",c=!1),d(o,"class","settings-btn round svelte-n8zklt")},m(v,p){b(v,e,p),m(e,t),b(v,r,p),b(v,o,p),m(o,i),u||(f=[R(e,"click",n[4]),R(o,"click",n[5])],u=!0)},p:z,d(v){v&&h(e),v&&h(r),v&&h(o),u=!1,Z(f)}}}function Cs(n){let e,t,s,l,r,o,i,a,c,u,f,v,p,_,y,k,$=n[0].name&&Dt(n);return{c(){e=g("div"),t=g("div"),s=g("span"),l=g("img"),o=x(),i=g("button"),a=g("img"),u=x(),$&&$.c(),f=x(),v=g("button"),p=g("img"),d(l,"alt","Meower"),ie(l.src,r=tt)||d(l,"src",r),d(l,"draggable",!1),d(l,"height","100%"),d(l,"width","auto"),d(l,"class","svelte-n8zklt"),d(s,"class","logo-inner svelte-n8zklt"),d(t,"class","logo svelte-n8zklt"),ie(a.src,c=zs)||d(a,"src",c),d(a,"alt","Home"),d(a,"width","90%"),d(a,"height","auto"),d(a,"draggable",!1),d(i,"class","home-btn round svelte-n8zklt"),ie(p.src,_=Ss)||d(p,"src",_),d(p,"alt","Log out"),d(p,"width","90%"),d(p,"height","auto"),d(p,"draggable",!1),d(v,"class","logout-btn round svelte-n8zklt"),d(e,"class","sidebar svelte-n8zklt")},m(w,S){b(w,e,S),m(e,t),m(t,s),m(s,l),m(e,o),m(e,i),m(i,a),m(e,u),$&&$.m(e,null),m(e,f),m(e,v),m(v,p),y||(k=[R(s,"click",n[2]),R(i,"click",n[3]),R(v,"click",n[6])],y=!0)},p(w,[S]){w[0].name?$?$.p(w,S):($=Dt(w),$.c(),$.m(e,f)):$&&($.d(1),$=null)},i:z,o:z,d(w){w&&h(e),$&&$.d(),y=!1,Z(k)}}}function Ls(n,e,t){let s;V(n,Q,u=>t(0,s=u));function l(u){Ue.set("blank"),Pe().then(()=>Ue.set(u))}return[s,l,()=>l("home"),()=>l("home"),()=>l("profile"),()=>l("settings"),async()=>{ve.set("setup"),await Pe(),G.set("reconnect")}]}class Is extends te{constructor(e){super(),ee(this,e,Ls,Cs,X,{})}}function Ps(n){let e,t,s,l,r;return{c(){e=C(`Somehow, you got to a page that doesn't exist...
			`),t=g("br"),s=C(`
			(Current page: `),l=C(n[0]),r=C(")")},m(o,i){b(o,e,i),b(o,t,i),b(o,s,i),b(o,l,i),b(o,r,i)},p(o,i){i&1&&W(l,o[0])},i:z,o:z,d(o){o&&h(e),o&&h(t),o&&h(s),o&&h(l),o&&h(r)}}}function Es(n){let e;return{c(){e=g("div")},m(t,s){b(t,e,s)},p:z,i:z,o:z,d(t){t&&h(e)}}}function qs(n){let e,t;return e=new ys({}),{c(){H(e.$$.fragment)},m(s,l){B(e,s,l),t=!0},p:z,i(s){t||(L(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){F(e,s)}}}function Ms(n){let e,t;return e=new vs({}),{c(){H(e.$$.fragment)},m(s,l){B(e,s,l),t=!0},p:z,i(s){t||(L(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){F(e,s)}}}function Os(n){let e,t;return e=new cs({}),{c(){H(e.$$.fragment)},m(s,l){B(e,s,l),t=!0},p:z,i(s){t||(L(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){F(e,s)}}}function Ts(n){let e,t,s,l,r,o,i,a;s=new Is({});const c=[Os,Ms,qs,Es,Ps],u=[];function f(v,p){return v[0]==="home"?0:v[0]==="profile"?1:v[0]==="settings"?2:v[0]==="blank"?3:4}return o=f(n),i=u[o]=c[o](n),{c(){e=g("div"),t=g("div"),H(s.$$.fragment),l=x(),r=g("div"),i.c(),d(t,"class","sidebar svelte-88zg9i"),d(r,"class","view svelte-88zg9i"),d(e,"class","main-screen svelte-88zg9i")},m(v,p){b(v,e,p),m(e,t),B(s,t,null),m(e,l),m(e,r),u[o].m(r,null),a=!0},p(v,[p]){let _=o;o=f(v),o===_?u[o].p(v,p):(ae(),I(u[_],1,1,()=>{u[_]=null}),ce(),i=u[o],i?i.p(v,p):(i=u[o]=c[o](v),i.c()),L(i,1),i.m(r,null))},i(v){a||(L(s.$$.fragment,v),L(i),a=!0)},o(v){I(s.$$.fragment,v),I(i),a=!1},d(v){v&&h(e),F(s),u[o].d()}}}function js(n,e,t){let s;return V(n,Ue,l=>t(0,s=l)),Ue.set("home"),[s]}class Rs extends te{constructor(e){super(),ee(this,e,js,Ts,X,{})}}var Ns="./assets/meowy.93c25f40.svg";function Ds(n){let e,t,s,l,r,o,i,a,c;return{c(){e=C(`Somehow, you got to a page that doesn't exist...
		`),t=g("br"),s=C(`
		(Current page: `),l=C(n[6]),r=C(`)

		`),o=g("div"),i=g("button"),i.textContent="Go back!",d(i,"class","svelte-1wxvzf2"),d(o,"class","buttons svelte-1wxvzf2")},m(u,f){b(u,e,f),b(u,t,f),b(u,s,f),b(u,l,f),b(u,r,f),b(u,o,f),m(o,i),a||(c=R(i,"click",n[23]),a=!0)},p(u,f){f&64&&W(l,u[6])},i:z,o:z,d(u){u&&h(e),u&&h(t),u&&h(s),u&&h(l),u&&h(r),u&&h(o),a=!1,c()}}}function Us(n){let e;return{c(){e=g("div"),e.textContent="Let's go!",d(e,"class","fullcenter svelte-1wxvzf2")},m(t,s){b(t,e,s)},p:z,i:z,o:z,d(t){t&&h(e)}}}function As(n){let e;return{c(){e=g("div")},m(t,s){b(t,e,s)},p:z,i:z,o:z,d(t){t&&h(e)}}}function Bs(n){let e,t,s,l,r,o,i,a,c,u,f,v,p,_,y,k,$,w,S,q,j,P,N,M,Y,K,U,ge,ne,E,J,A;return{c(){e=g("div"),t=g("h1"),t.textContent="Welcome to Meower",s=x(),l=g("form"),r=g("input"),o=x(),i=g("br"),a=x(),c=g("input"),u=x(),f=g("p"),v=g("label"),p=g("input"),_=C(`
						Save this login`),y=x(),k=g("br"),$=x(),w=g("label"),S=g("input"),q=C(`
						I agree to `),j=g("a"),j.textContent="Meower's Terms of Service and Privacy Policy",P=x(),N=g("span"),M=C(n[3]),Y=x(),K=g("div"),U=g("button"),ge=C("Join!"),E=g("button"),E.textContent="Go back",d(r,"type","text"),d(r,"placeholder","Username"),d(r,"maxlength","20"),d(r,"class","svelte-1wxvzf2"),d(i,"class","svelte-1wxvzf2"),d(c,"type","password"),d(c,"placeholder","Password"),d(c,"maxlength","72"),d(c,"class","svelte-1wxvzf2"),d(p,"type","checkbox"),d(p,"class","svelte-1wxvzf2"),d(v,"class","svelte-1wxvzf2"),d(k,"class","svelte-1wxvzf2"),d(S,"type","checkbox"),d(S,"class","svelte-1wxvzf2"),d(j,"href","https://meower.org/legal"),d(j,"class","svelte-1wxvzf2"),d(w,"class","svelte-1wxvzf2"),d(f,"class","checkboxes svelte-1wxvzf2"),d(N,"class","login-status svelte-1wxvzf2"),U.disabled=ne=!n[4],d(U,"class","svelte-1wxvzf2"),d(E,"class","svelte-1wxvzf2"),d(K,"class","buttons svelte-1wxvzf2"),d(l,"class","column-ui svelte-1wxvzf2"),d(e,"class","fullcenter svelte-1wxvzf2")},m(D,se){b(D,e,se),m(e,t),m(e,s),m(e,l),m(l,r),m(l,o),m(l,i),m(l,a),m(l,c),m(l,u),m(l,f),m(f,v),m(v,p),p.checked=n[5],m(v,_),m(f,y),m(f,k),m(f,$),m(f,w),m(w,S),S.checked=n[4],m(w,q),m(w,j),m(l,P),m(l,N),m(N,M),m(l,Y),m(l,K),m(K,U),m(U,ge),m(K,E),J||(A=[R(p,"change",n[19]),R(S,"change",n[20]),R(E,"click",ke(n[21])),R(l,"submit",ke(n[22]))],J=!0)},p(D,se){se&32&&(p.checked=D[5]),se&16&&(S.checked=D[4]),se&8&&W(M,D[3]),se&16&&ne!==(ne=!D[4])&&(U.disabled=ne)},i:z,o:z,d(D){D&&h(e),J=!1,Z(A)}}}function Fs(n){let e,t,s,l,r,o,i,a,c,u,f,v,p,_,y,k,$,w,S,q,j,P,N,M,Y;return{c(){e=g("div"),t=g("h1"),t.textContent="Login to Meower",s=x(),l=g("form"),r=g("input"),o=x(),i=g("br"),a=x(),c=g("input"),u=x(),f=g("p"),v=g("label"),p=g("input"),_=C(`
						Save this login`),y=x(),k=g("span"),$=C(n[3]),w=x(),S=g("div"),q=g("button"),q.textContent="Log in",j=g("button"),j.textContent="Go back",P=x(),N=g("button"),N.textContent="Clear saved login",d(r,"type","text"),d(r,"placeholder","Username"),d(r,"maxlength","20"),d(r,"class","svelte-1wxvzf2"),d(i,"class","svelte-1wxvzf2"),d(c,"type","password"),d(c,"placeholder","Password"),d(c,"maxlength","72"),d(c,"class","svelte-1wxvzf2"),d(p,"type","checkbox"),d(p,"class","svelte-1wxvzf2"),d(v,"class","svelte-1wxvzf2"),d(f,"class","checkboxes svelte-1wxvzf2"),d(k,"class","login-status svelte-1wxvzf2"),d(q,"class","svelte-1wxvzf2"),d(j,"class","svelte-1wxvzf2"),d(S,"class","buttons svelte-1wxvzf2"),d(N,"class","svelte-1wxvzf2"),d(l,"class","column-ui svelte-1wxvzf2"),d(e,"class","fullcenter svelte-1wxvzf2")},m(K,U){b(K,e,U),m(e,t),m(e,s),m(e,l),m(l,r),m(l,o),m(l,i),m(l,a),m(l,c),m(l,u),m(l,f),m(f,v),m(v,p),p.checked=n[5],m(v,_),m(l,y),m(l,k),m(k,$),m(l,w),m(l,S),m(S,q),m(S,j),m(l,P),m(l,N),M||(Y=[R(p,"change",n[15]),R(j,"click",ke(n[16])),R(N,"click",ke(n[17])),R(l,"submit",ke(n[18]))],M=!0)},p(K,U){U&32&&(p.checked=K[5]),U&8&&W($,K[3])},i:z,o:z,d(K){K&&h(e),M=!1,Z(Y)}}}function Hs(n){let e,t,s,l,r,o,i,a,c,u,f,v,p,_,y,k,$,w=localStorage.getItem("meower_savedusername"),S,q,j,P,N,M,Y,K,U,ge,ne,E,J=w&&Gs(n);return{c(){e=g("div"),t=g("div"),s=g("div"),l=g("img"),o=x(),i=g("br"),a=g("br"),c=x(),u=g("button"),u.textContent="Log in",f=x(),v=g("br"),p=x(),_=g("button"),_.textContent="Create an account",y=x(),k=g("br"),$=x(),J&&J.c(),S=x(),q=g("button"),q.textContent="Skip",j=x(),P=g("p"),P.textContent="(Several features will be unavailable while not logged in.)",N=x(),M=g("div"),Y=g("p"),Y.textContent="Meower Svelte v1.1.1, by CST1229",K=x(),U=g("img"),d(l,"alt","Meower"),ie(l.src,r=tt)||d(l,"src",r),d(l,"class","logo-img svelte-1wxvzf2"),d(l,"height","70"),d(i,"class","svelte-1wxvzf2"),d(a,"class","svelte-1wxvzf2"),d(s,"class","svelte-1wxvzf2"),d(u,"class","svelte-1wxvzf2"),d(v,"class","svelte-1wxvzf2"),d(_,"class","svelte-1wxvzf2"),d(k,"class","svelte-1wxvzf2"),d(q,"class","svelte-1wxvzf2"),d(P,"class","small svelte-1wxvzf2"),d(Y,"class","small svelte-1wxvzf2"),ie(U.src,ge=Ns)||d(U,"src",ge),d(U,"alt",""),d(U,"height","64"),d(U,"class","svelte-1wxvzf2"),d(M,"class","svelte-1wxvzf2"),d(t,"class","column-ui svelte-1wxvzf2"),d(e,"class","fullcenter svelte-1wxvzf2")},m(A,D){b(A,e,D),m(e,t),m(t,s),m(s,l),m(s,o),m(s,i),m(s,a),m(t,c),m(t,u),m(t,f),m(t,v),m(t,p),m(t,_),m(t,y),m(t,k),m(t,$),J&&J.m(t,null),m(t,S),m(t,q),m(t,j),m(t,P),m(t,N),m(t,M),m(M,Y),m(M,K),m(M,U),ne||(E=[R(u,"click",n[11]),R(_,"click",n[12]),R(q,"click",n[14])],ne=!0)},p(A,D){w&&J.p(A,D)},i:z,o:z,d(A){A&&h(e),J&&J.d(),ne=!1,Z(E)}}}function Ys(n){let e;return{c(){e=g("div"),e.textContent="Reconnecting...",d(e,"class","fullcenter svelte-1wxvzf2")},m(t,s){b(t,e,s)},p:z,i:z,o:z,d(t){t&&h(e)}}}function Ks(n){let e,t,s,l,r,o,i,a,c,u;return{c(){e=g("div"),t=g("div"),s=g("div"),l=g("img"),o=x(),i=g("div"),a=C(n[3]),d(l,"alt","Meower"),ie(l.src,r=tt)||d(l,"src",r),d(l,"class","logo-img svelte-1wxvzf2"),d(l,"height","40"),d(s,"class","logo top svelte-1wxvzf2"),d(i,"class","connecting svelte-1wxvzf2"),d(e,"class","fullcenter svelte-1wxvzf2")},m(f,v){b(f,e,v),m(e,t),m(t,s),m(s,l),n[9](l),n[10](s),m(t,o),m(t,i),m(i,a),u=!0},p(f,v){(!u||v&8)&&W(a,f[3])},i(f){u||(c&&c.end(1),u=!0)},o(f){c=en(e,ln,{duration:300}),u=!1},d(f){f&&h(e),n[9](null),n[10](null),f&&c&&c.end()}}}function Js(n){let e,t,s,l;return{c(){e=g("div"),t=g("button"),t.textContent="Click here to continue.",d(e,"class","fullcenter svelte-1wxvzf2")},m(r,o){b(r,e,o),m(e,t),s||(l=R(t,"click",n[8]),s=!0)},p:z,i:z,o:z,d(r){r&&h(e),s=!1,l()}}}function Gs(n){let e,t,s,l,r,o;return{c(){e=g("button"),e.textContent=`Use saved login (${localStorage.getItem("meower_savedusername")})`,t=x(),s=g("p"),l=C(n[3]),d(e,"class","svelte-1wxvzf2"),d(s,"class","small svelte-1wxvzf2")},m(i,a){b(i,e,a),b(i,t,a),b(i,s,a),m(s,l),r||(o=R(e,"click",n[13]),r=!0)},p(i,a){a&8&&W(l,i[3])},d(i){i&&h(e),i&&h(t),i&&h(s),r=!1,o()}}}function Ws(n){let e,t,s,l,r;const o=[Js,Ks,Ys,Hs,Fs,Bs,As,Us,Ds],i=[];function a(c,u){return c[6]==="start"?0:c[6]==="logo"?1:c[6]==="reconnect"?2:c[6]==="welcome"?3:c[6]==="login"?4:c[6]==="join"?5:c[6]==="blank"?6:c[6]==="go"?7:8}return t=a(n),s=i[t]=o[t](n),{c(){e=g("div"),s.c(),d(e,"class","setup white svelte-1wxvzf2")},m(c,u){b(c,e,u),i[t].m(e,null),n[24](e),r=!0},p(c,[u]){let f=t;t=a(c),t===f?i[t].p(c,u):(ae(),I(i[f],1,1,()=>{i[f]=null}),ce(),s=i[t],s?s.p(c,u):(s=i[t]=o[t](c),s.c()),L(s,1),s.m(e,null))},i(c){r||(L(s),l&&l.end(1),r=!0)},o(c){I(s),l=en(e,ln,{duration:300}),r=!1},d(c){c&&h(e),i[t].d(),n[24](null),c&&l&&l.end()}}}function Vs(n,e,t){let s;V(n,G,E=>t(6,s=E));const l=O;let r,o,i,a="",c=!1;async function u(){await Pt(),Fn(),await new Promise(E=>l.once("connected",E))}let f=!1;Wt(()=>{G.subscribe(async E=>{!o||(t(5,f=!1),t(4,c=!1),o.classList.remove("white"),E==="start"?Pt():E==="logo"?(t(3,a=""),await Pe(),o.classList.add("white"),t(2,i.height=0,i),r.classList.remove("top"),await de(300),t(2,i.height=80,i),await de(300),o.classList.remove("white"),t(2,i.height=40,i),r.classList.add("top"),await de(700),t(3,a="Connecting..."),await u(),await de(800),t(3,a=""),G.set("blank"),await de(600),G.set("welcome")):E==="reconnect"&&(await u(),await de(100),G.set("welcome")))})});function v(E,J){try{t(3,a="Logging in..."),me({cmd:"direct",val:{cmd:"authpswd",val:{username:E,pswd:J}}}).then(async A=>{try{const D=await me({cmd:"direct",val:{cmd:"get_profile",val:A.payload.username}});Q.update(se=>Object.assign(se,{...D.payload,name:A.payload.username})),f&&(localStorage.setItem("meower_savedusername",E),localStorage.setItem("meower_savedpassword",J)),ve.set("main")}catch(D){console.error(D),t(3,a="Unexpected "+D+" error getting user data!")}}).catch(A=>{A=="E:103 | ID not found"?t(3,a="Invalid username!"):A=="I:011 | Invalid Password"?t(3,a="Invalid password!"):A=="E:018 | Account Banned"?t(3,a="This account is banned. L :("):A=="E:107 | Packet too large"?t(3,a="The username and/or password is too long!"):A=="E:019 | Illegal characters detected"?t(3,a="Usernames must not have spaces or other special characters!"):t(3,a=`Unexpected ${A} error!`)})}catch(A){console.error(A),t(3,a="Error logging in: "+A)}}const p=()=>G.set("logo");function _(E){Ce[E?"unshift":"push"](()=>{i=E,t(2,i)})}function y(E){Ce[E?"unshift":"push"](()=>{r=E,t(0,r)})}const k=()=>G.set("login"),$=()=>G.set("join"),w=()=>{v(localStorage.getItem("meower_savedusername"),localStorage.getItem("meower_savedpassword"))},S=()=>{Q.set(et()),t(3,a=""),G.set("blank"),ve.set("main")};function q(){f=this.checked,t(5,f)}const j=()=>(G.set("welcome"),t(3,a=""),!1),P=()=>(localStorage.removeItem("meower_savedusername"),localStorage.removeItem("meower_savedpassword"),t(3,a="Saved login cleared."),!1),N=E=>E.target[0].value&&E.target[1].value?(v(E.target[0].value,E.target[1].value),!1):(t(3,a="You must specify a username and a password to login!"),!1);function M(){f=this.checked,t(5,f)}function Y(){c=this.checked,t(4,c)}const K=()=>(G.set("welcome"),t(3,a=""),!1),U=E=>{const J=E.target[0].value,A=E.target[1].value;if(!(J&&A))return t(3,a="You must specify a username and a password to create an account!"),!1;t(3,a="Creating account..."),me({cmd:"direct",val:{cmd:"gen_account",val:{username:J,pswd:A}},listener:"join"}).then(async D=>{if(D.mode==="auth"&&D.payload===J){t(3,a="Getting user data...");const se=await me({cmd:"direct",val:{cmd:"get_profile",val:D.payload}});Q.update(on=>Object.assign(on,{...se.payload,name:D.payload})),t(3,a=""),f&&(localStorage.setItem("meower_savedusername",J),localStorage.setItem("meower_savedpassword",A)),G.set("go"),await de(1e3),ve.set("main")}else t(3,a="Unexpected error logging in!")}).catch(D=>{D==="I:015 | Account exists"?t(3,a="The account already exists!"):D=="E:107 | Packet too large"?t(3,a="The username and/or password is too long!"):(console.error(D),t(3,a="Unexpected "+D+" error!"))})},ge=()=>G.set("page2");function ne(E){Ce[E?"unshift":"push"](()=>{o=E,t(1,o)})}return[r,o,i,a,c,f,s,v,p,_,y,k,$,w,S,q,j,P,N,M,Y,K,U,ge,ne]}class Qs extends te{constructor(e){super(),ee(this,e,Vs,Ws,X,{})}}function Xs(n){let e;return{c(){e=g("div"),d(e,"class","spinner check svelte-o9ugf6")},m(t,s){b(t,e,s)},p:z,i:z,o:z,d(t){t&&h(e)}}}class Zs extends te{constructor(e){super(),ee(this,e,null,Xs,X,{})}}function el(n){let e,t;return e=new Rs({}),{c(){H(e.$$.fragment)},m(s,l){B(e,s,l),t=!0},p:z,i(s){t||(L(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){F(e,s)}}}function tl(n){let e,t;return e=new Qs({}),{c(){H(e.$$.fragment)},m(s,l){B(e,s,l),t=!0},p:z,i(s){t||(L(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){F(e,s)}}}function nl(n){let e,t,s,l,r,o,i,a,c,u,f;function v(y,k){return y[2]===""?ol:y[2]==="E:119 | IP Blocked"?ll:sl}let p=v(n),_=p(n);return{c(){e=g("div"),t=g("div"),s=g("h1"),s.textContent="Me-owch.",l=x(),_.c(),r=x(),o=g("br"),i=g("br"),a=x(),c=g("button"),c.textContent="Reconnect!",d(t,"class","disconnected-inner"),d(e,"class","disconnected svelte-1rfvb7")},m(y,k){b(y,e,k),m(e,t),m(t,s),m(t,l),_.m(t,null),m(t,r),m(t,o),m(t,i),m(t,a),m(t,c),u||(f=R(c,"click",n[5]),u=!0)},p(y,k){p===(p=v(y))&&_?_.p(y,k):(_.d(1),_=p(y),_&&(_.c(),_.m(t,r)))},i:z,o:z,d(y){y&&h(e),_.d(),u=!1,f()}}}function sl(n){let e,t,s,l,r;return{c(){e=C(`We ran into an error trying to connect to the server.
					`),t=g("pre"),s=g("code"),l=C(n[2]),r=C(`
					Reconnect using the below button:`)},m(o,i){b(o,e,i),b(o,t,i),m(t,s),m(s,l),b(o,r,i)},p(o,i){i&4&&W(l,o[2])},d(o){o&&h(e),o&&h(t),o&&h(r)}}}function ll(n){let e,t=O.ip+"",s,l,r,o,i,a,c,u,f,v;return{c(){e=C("The server has blocked your IP address ("),s=C(t),l=C(`).
					`),r=g("br"),o=C(`
					This might be due to an extension blocking the URL used to get your IP
					`),i=g("br"),a=C(`
					address (`),c=C(Ae),u=C(`ip), or the Meower team actually blocking your IP.
					`),f=g("br"),v=C(`
					Attempt reconnecting using the below button:`)},m(p,_){b(p,e,_),b(p,s,_),b(p,l,_),b(p,r,_),b(p,o,_),b(p,i,_),b(p,a,_),b(p,c,_),b(p,u,_),b(p,f,_),b(p,v,_)},p:z,d(p){p&&h(e),p&&h(s),p&&h(l),p&&h(r),p&&h(o),p&&h(i),p&&h(a),p&&h(c),p&&h(u),p&&h(f),p&&h(v)}}}function ol(n){let e;return{c(){e=C(`You have been disconnected.
					Reconnect using the below button:`)},m(t,s){b(t,e,s)},p:z,d(t){t&&h(e)}}}function Ut(n){let e,t,s;return t=new Zs({}),{c(){e=g("div"),H(t.$$.fragment),d(e,"class","spinner-container svelte-1rfvb7")},m(l,r){b(l,e,r),B(t,e,null),s=!0},i(l){s||(L(t.$$.fragment,l),s=!0)},o(l){I(t.$$.fragment,l),s=!1},d(l){l&&h(e),F(t)}}}function rl(n){let e,t,s,l,r;const o=[nl,tl,el],i=[];function a(u,f){return u[1]?0:u[3]==="setup"?1:2}t=a(n),s=i[t]=o[t](n);let c=n[4]&&Ut();return{c(){e=g("main"),s.c(),l=x(),c&&c.c(),d(e,"id","main"),d(e,"class","svelte-1rfvb7"),T(e,"theme-orange",n[0].theme==="orange"),T(e,"theme-blue",n[0].theme==="blue"),T(e,"mode-light",n[0].mode!==!1),T(e,"mode-dark",n[0].mode===!1),T(e,"layout-old",n[0].layout==="old")},m(u,f){b(u,e,f),i[t].m(e,null),m(e,l),c&&c.m(e,null),r=!0},p(u,[f]){let v=t;t=a(u),t===v?i[t].p(u,f):(ae(),I(i[v],1,1,()=>{i[v]=null}),ce(),s=i[t],s?s.p(u,f):(s=i[t]=o[t](u),s.c()),L(s,1),s.m(e,l)),u[4]?c?f&16&&L(c,1):(c=Ut(),c.c(),L(c,1),c.m(e,null)):c&&(ae(),I(c,1,1,()=>{c=null}),ce()),f&1&&T(e,"theme-orange",u[0].theme==="orange"),f&1&&T(e,"theme-blue",u[0].theme==="blue"),f&1&&T(e,"mode-light",u[0].mode!==!1),f&1&&T(e,"mode-dark",u[0].mode===!1),f&1&&T(e,"layout-old",u[0].layout==="old")},i(u){r||(L(s),L(c),r=!0)},o(u){I(s),I(c),r=!1},d(u){u&&h(e),i[t].d(),c&&c.d()}}}function il(n,e,t){let s,l,r,o,i;return V(n,Q,c=>t(0,s=c)),V(n,he,c=>t(1,l=c)),V(n,Je,c=>t(2,r=c)),V(n,ve,c=>t(3,o=c)),V(n,ye,c=>t(4,i=c)),ve.set("setup"),G.set("start"),[s,l,r,o,i,async()=>{ve.set("setup"),he.set(!1),await Pe(),G.set("reconnect")}]}class al extends te{constructor(e){super(),ee(this,e,il,rl,X,{})}}new al({target:document.getElementById("app")});
