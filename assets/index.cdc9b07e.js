const dn=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerpolicy&&(r.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?r.credentials="include":l.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(l){if(l.ep)return;l.ep=!0;const r=t(l);fetch(l.href,r)}};dn();function x(){}const Fe=n=>n;function pn(n,e){for(const t in e)n[t]=e[t];return n}function gn(n){return n&&typeof n=="object"&&typeof n.then=="function"}function Wt(n){return n()}function lt(){return Object.create(null)}function te(n){n.forEach(Wt)}function He(n){return typeof n=="function"}function X(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let Ie;function ne(n,e){return Ie||(Ie=document.createElement("a")),Ie.href=e,n===Ie.href}function mn(n){return Object.keys(n).length===0}function vn(n,...e){if(n==null)return x;const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function V(n,e,t){n.$$.on_destroy.push(vn(e,t))}function _n(n,e,t,s){if(n){const l=Yt(n,e,t,s);return n[0](l)}}function Yt(n,e,t,s){return n[1]&&s?pn(t.ctx.slice(),n[1](s(e))):t.ctx}function hn(n,e,t,s){if(n[2]&&s){const l=n[2](s(t));if(e.dirty===void 0)return l;if(typeof l=="object"){const r=[],o=Math.max(e.dirty.length,l.length);for(let i=0;i<o;i+=1)r[i]=e.dirty[i]|l[i];return r}return e.dirty|l}return e.dirty}function bn(n,e,t,s,l,r){if(l){const o=Yt(e,t,s,r);n.p(o,l)}}function wn(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let s=0;s<t;s++)e[s]=-1;return e}return-1}const Gt=typeof window!="undefined";let Je=Gt?()=>window.performance.now():()=>Date.now(),Ve=Gt?n=>requestAnimationFrame(n):x;const we=new Set;function Kt(n){we.forEach(e=>{e.c(n)||(we.delete(e),e.f())}),we.size!==0&&Ve(Kt)}function Qe(n){let e;return we.size===0&&Ve(Kt),{promise:new Promise(t=>{we.add(e={c:n,f:t})}),abort(){we.delete(e)}}}function v(n,e){n.appendChild(e)}function Jt(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function kn(n){const e=m("style");return yn(Jt(n),e),e.sheet}function yn(n,e){v(n.head||n,e)}function b(n,e,t){n.insertBefore(e,t||null)}function h(n){n.parentNode.removeChild(n)}function Vt(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function m(n){return document.createElement(n)}function C(n){return document.createTextNode(n)}function z(){return C(" ")}function Qt(){return C("")}function j(n,e,t,s){return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t,s)}function ke(n){return function(e){return e.preventDefault(),n.call(this,e)}}function d(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function $n(n){return Array.from(n.childNodes)}function J(n,e){e=""+e,n.wholeText!==e&&(n.data=e)}function Me(n,e,t,s){t===null?n.style.removeProperty(e):n.style.setProperty(e,t,s?"important":"")}function T(n,e,t){n.classList[t?"add":"remove"](e)}function xn(n,e,{bubbles:t=!1,cancelable:s=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(n,t,s,e),l}const Ne=new Map;let De=0;function zn(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function Sn(n,e){const t={stylesheet:kn(e),rules:{}};return Ne.set(n,t),t}function Ue(n,e,t,s,l,r,o,i=0){const a=16.666/s;let c=`{
`;for(let k=0;k<=1;k+=a){const $=e+(t-e)*r(k);c+=k*100+`%{${o($,1-$)}}
`}const u=c+`100% {${o(t,1-t)}}
}`,f=`__svelte_${zn(u)}_${i}`,g=Jt(n),{stylesheet:p,rules:_}=Ne.get(g)||Sn(g,n);_[f]||(_[f]=!0,p.insertRule(`@keyframes ${f} ${u}`,p.cssRules.length));const y=n.style.animation||"";return n.style.animation=`${y?`${y}, `:""}${f} ${s}ms linear ${l}ms 1 both`,De+=1,f}function Xe(n,e){const t=(n.style.animation||"").split(", "),s=t.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),l=t.length-s.length;l&&(n.style.animation=s.join(", "),De-=l,De||Cn())}function Cn(){Ve(()=>{De||(Ne.forEach(n=>{const{stylesheet:e}=n;let t=e.cssRules.length;for(;t--;)e.deleteRule(t);n.rules={}}),Ne.clear())})}function En(n,e,t,s){if(!e)return x;const l=n.getBoundingClientRect();if(e.left===l.left&&e.right===l.right&&e.top===l.top&&e.bottom===l.bottom)return x;const{delay:r=0,duration:o=300,easing:i=Fe,start:a=Je()+r,end:c=a+o,tick:u=x,css:f}=t(n,{from:e,to:l},s);let g=!0,p=!1,_;function y(){f&&(_=Ue(n,0,1,o,r,i,f)),r||(p=!0)}function k(){f&&Xe(n,_),g=!1}return Qe($=>{if(!p&&$>=a&&(p=!0),p&&$>=c&&(u(1,0),k()),!g)return!1;if(p){const w=$-a,S=0+1*i(w/o);u(S,1-S)}return!0}),y(),u(0,1),k}function Pn(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:s}=e,l=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=s,Xt(n,l)}}function Xt(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const s=getComputedStyle(n),l=s.transform==="none"?"":s.transform;n.style.transform=`${l} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let Pe;function fe(n){Pe=n}function Zt(){if(!Pe)throw new Error("Function called outside component initialization");return Pe}function en(n){Zt().$$.on_mount.push(n)}const Se=[],Ce=[],Te=[],ot=[],tn=Promise.resolve();let Ge=!1;function nn(){Ge||(Ge=!0,tn.then(Ze))}function Le(){return nn(),tn}function $e(n){Te.push(n)}const We=new Set;let qe=0;function Ze(){const n=Pe;do{for(;qe<Se.length;){const e=Se[qe];qe++,fe(e),Ln(e.$$)}for(fe(null),Se.length=0,qe=0;Ce.length;)Ce.pop()();for(let e=0;e<Te.length;e+=1){const t=Te[e];We.has(t)||(We.add(t),t())}Te.length=0}while(Se.length);for(;ot.length;)ot.pop()();Ge=!1,We.clear(),fe(n)}function Ln(n){if(n.fragment!==null){n.update(),te(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach($e)}}let ze;function sn(){return ze||(ze=Promise.resolve(),ze.then(()=>{ze=null})),ze}function Ee(n,e,t){n.dispatchEvent(xn(`${e?"intro":"outro"}${t}`))}const je=new Set;let ie;function ae(){ie={r:0,c:[],p:ie}}function ce(){ie.r||te(ie.c),ie=ie.p}function E(n,e){n&&n.i&&(je.delete(n),n.i(e))}function P(n,e,t,s){if(n&&n.o){if(je.has(n))return;je.add(n),ie.c.push(()=>{je.delete(n),s&&(t&&n.d(1),s())}),n.o(e)}else s&&s()}const ln={duration:0};function on(n,e,t){let s=e(n,t),l=!0,r;const o=ie;o.r+=1;function i(){const{delay:a=0,duration:c=300,easing:u=Fe,tick:f=x,css:g}=s||ln;g&&(r=Ue(n,1,0,c,a,u,g));const p=Je()+a,_=p+c;$e(()=>Ee(n,!1,"start")),Qe(y=>{if(l){if(y>=_)return f(0,1),Ee(n,!1,"end"),--o.r||te(o.c),!1;if(y>=p){const k=u((y-p)/c);f(1-k,k)}}return l})}return He(s)?sn().then(()=>{s=s(),i()}):i(),{end(a){a&&s.tick&&s.tick(1,0),l&&(r&&Xe(n,r),l=!1)}}}function rt(n,e,t,s){let l=e(n,t),r=s?0:1,o=null,i=null,a=null;function c(){a&&Xe(n,a)}function u(g,p){const _=g.b-r;return p*=Math.abs(_),{a:r,b:g.b,d:_,duration:p,start:g.start,end:g.start+p,group:g.group}}function f(g){const{delay:p=0,duration:_=300,easing:y=Fe,tick:k=x,css:$}=l||ln,w={start:Je()+p,b:g};g||(w.group=ie,ie.r+=1),o||i?i=w:($&&(c(),a=Ue(n,r,g,_,p,y,$)),g&&k(0,1),o=u(w,_),$e(()=>Ee(n,g,"start")),Qe(S=>{if(i&&S>i.start&&(o=u(i,_),i=null,Ee(n,o.b,"start"),$&&(c(),a=Ue(n,r,o.b,o.duration,0,y,l.css))),o){if(S>=o.end)k(r=o.b,1-r),Ee(n,o.b,"end"),i||(o.b?c():--o.group.r||te(o.group.c)),o=null;else if(S>=o.start){const R=S-o.start;r=o.a+o.d*y(R/o.duration),k(r,1-r)}}return!!(o||i)}))}return{run(g){He(l)?sn().then(()=>{l=l(),f(g)}):f(g)},end(){c(),o=i=null}}}function In(n,e){const t=e.token={};function s(l,r,o,i){if(e.token!==t)return;e.resolved=i;let a=e.ctx;o!==void 0&&(a=a.slice(),a[o]=i);const c=l&&(e.current=l)(a);let u=!1;e.block&&(e.blocks?e.blocks.forEach((f,g)=>{g!==r&&f&&(ae(),P(f,1,1,()=>{e.blocks[g]===f&&(e.blocks[g]=null)}),ce())}):e.block.d(1),c.c(),E(c,1),c.m(e.mount(),e.anchor),u=!0),e.block=c,e.blocks&&(e.blocks[r]=c),u&&Ze()}if(gn(n)){const l=Zt();if(n.then(r=>{fe(l),s(e.then,1,e.value,r),fe(null)},r=>{if(fe(l),s(e.catch,2,e.error,r),fe(null),!e.hasCatch)throw r}),e.current!==e.pending)return s(e.pending,0),!0}else{if(e.current!==e.then)return s(e.then,1,e.value,n),!0;e.resolved=n}}function Mn(n,e,t){const s=e.slice(),{resolved:l}=n;n.current===n.then&&(s[n.value]=l),n.current===n.catch&&(s[n.error]=l),n.block.p(s,t)}function qn(n,e){P(n,1,1,()=>{e.delete(n.key)})}function On(n,e){n.f(),qn(n,e)}function Tn(n,e,t,s,l,r,o,i,a,c,u,f){let g=n.length,p=r.length,_=g;const y={};for(;_--;)y[n[_].key]=_;const k=[],$=new Map,w=new Map;for(_=p;_--;){const L=f(l,r,_),N=t(L);let q=o.get(N);q?s&&q.p(L,e):(q=c(N,L),q.c()),$.set(N,k[_]=q),N in y&&w.set(N,Math.abs(_-y[N]))}const S=new Set,R=new Set;function I(L){E(L,1),L.m(i,u),o.set(L.key,L),u=L.first,p--}for(;g&&p;){const L=k[p-1],N=n[g-1],q=L.key,W=N.key;L===N?(u=L.first,g--,p--):$.has(W)?!o.has(q)||S.has(q)?I(L):R.has(W)?g--:w.get(q)>w.get(W)?(R.add(q),I(L)):(S.add(W),g--):(a(N,o),g--)}for(;g--;){const L=n[g];$.has(L.key)||a(L,o)}for(;p;)I(k[p-1]);return k}function F(n){n&&n.c()}function U(n,e,t,s){const{fragment:l,on_mount:r,on_destroy:o,after_update:i}=n.$$;l&&l.m(e,t),s||$e(()=>{const a=r.map(Wt).filter(He);o?o.push(...a):te(a),n.$$.on_mount=[]}),i.forEach($e)}function A(n,e){const t=n.$$;t.fragment!==null&&(te(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function jn(n,e){n.$$.dirty[0]===-1&&(Se.push(n),nn(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function Z(n,e,t,s,l,r,o,i=[-1]){const a=Pe;fe(n);const c=n.$$={fragment:null,ctx:null,props:r,update:x,not_equal:l,bound:lt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:lt(),dirty:i,skip_bound:!1,root:e.target||a.$$.root};o&&o(c.root);let u=!1;if(c.ctx=t?t(n,e.props||{},(f,g,...p)=>{const _=p.length?p[0]:g;return c.ctx&&l(c.ctx[f],c.ctx[f]=_)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](_),u&&jn(n,f)),g}):[],c.update(),u=!0,te(c.before_update),c.fragment=s?s(c.ctx):!1,e.target){if(e.hydrate){const f=$n(e.target);c.fragment&&c.fragment.l(f),f.forEach(h)}else c.fragment&&c.fragment.c();e.intro&&E(n.$$.fragment),U(n,e.target,e.anchor,e.customElement),Ze()}fe(a)}class ee{$destroy(){A(this,1),this.$destroy=x}$on(e,t){const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(t),()=>{const l=s.indexOf(t);l!==-1&&s.splice(l,1)}}$set(e){this.$$set&&!mn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const _e=[];function ue(n,e=x){let t;const s=new Set;function l(i){if(X(n,i)&&(n=i,t)){const a=!_e.length;for(const c of s)c[1](),_e.push(c,n);if(a){for(let c=0;c<_e.length;c+=2)_e[c][0](_e[c+1]);_e.length=0}}}function r(i){l(i(n))}function o(i,a=x){const c=[i,a];return s.add(c),s.size===1&&(t=e(l)||x),i(n),()=>{s.delete(c),s.size===0&&(t(),t=null)}}return{set:l,update:r,subscribe:o}}const ge=ue("setup"),Ae=ue("home"),K=ue("start"),he=ue(!1),Ke=ue(""),be=ue({}),xe=ue([]),Q=ue({name:null,theme:"orange",mode:!0,sfx:!0,bgm:!0,bgm_song:10,layout:"new",pfp_data:1,quote:""}),ye=ue(!1);function Rn(n){let e,t;const s=n[1].default,l=_n(s,n,n[0],null);return{c(){e=m("div"),l&&l.c(),d(e,"class","svelte-6zv9mh")},m(r,o){b(r,e,o),l&&l.m(e,null),t=!0},p(r,[o]){l&&l.p&&(!t||o&1)&&bn(l,s,r,r[0],t?hn(s,r[0],o,null):wn(r[0]),null)},i(r){t||(E(l,r),t=!0)},o(r){P(l,r),t=!1},d(r){r&&h(e),l&&l.d(r)}}}function Nn(n,e,t){let{$$slots:s={},$$scope:l}=e;return n.$$set=r=>{"$$scope"in r&&t(0,l=r.$$scope)},[l,s]}class re extends ee{constructor(e){super(),Z(this,e,Nn,Rn,X,{})}}var it="./assets/icon_0.ab82a5ad.svg",at="./assets/icon_1.3649891f.svg",ct="./assets/icon_10.4bd3e33c.svg",ft="./assets/icon_11.521812d2.svg",ut="./assets/icon_12.0f7ed126.svg",dt="./assets/icon_13.58e2dcbb.svg",pt="./assets/icon_14.6513f659.svg",gt="./assets/icon_15.d1b06a28.svg",mt="./assets/icon_16.e5e55f53.svg",vt="./assets/icon_17.39e35340.svg",_t="./assets/icon_18.dc1f4b4e.svg",ht="./assets/icon_19.8ad18d14.svg",bt="./assets/icon_2.03a60034.svg",wt="./assets/icon_20.d1301d19.svg",kt="./assets/icon_21.2ef6b9a3.svg",yt="./assets/icon_22.c642b6ff.svg",$t="./assets/icon_3.79effa11.svg",xt="./assets/icon_4.078d1185.svg",zt="./assets/icon_5.656d31e0.svg",St="./assets/icon_6.d72d5ba2.svg",Ct="./assets/icon_7.16e301c0.svg",Et="./assets/icon_8.515d5ae7.svg",Pt="./assets/icon_9.25c74dcc.svg",Lt="./assets/icon_err.8c194397.svg";function It(n){let e;return{c(){e=m("span"),d(e,"class","online svelte-krg3mg")},m(t,s){b(t,e,s)},d(t){t&&h(e)}}}function Dn(n){let e,t,s,l,r,o=n[2]&&It();return{c(){e=m("span"),o&&o.c(),t=z(),s=m("span"),l=m("img"),d(l,"alt",n[1]),d(l,"title",n[1]),ne(l.src,r=new URL({"./../assets/avatars/icon_0.svg":it,"./../assets/avatars/icon_1.svg":at,"./../assets/avatars/icon_10.svg":ct,"./../assets/avatars/icon_11.svg":ft,"./../assets/avatars/icon_12.svg":ut,"./../assets/avatars/icon_13.svg":dt,"./../assets/avatars/icon_14.svg":pt,"./../assets/avatars/icon_15.svg":gt,"./../assets/avatars/icon_16.svg":mt,"./../assets/avatars/icon_17.svg":vt,"./../assets/avatars/icon_18.svg":_t,"./../assets/avatars/icon_19.svg":ht,"./../assets/avatars/icon_2.svg":bt,"./../assets/avatars/icon_20.svg":wt,"./../assets/avatars/icon_21.svg":kt,"./../assets/avatars/icon_22.svg":yt,"./../assets/avatars/icon_3.svg":$t,"./../assets/avatars/icon_4.svg":xt,"./../assets/avatars/icon_5.svg":zt,"./../assets/avatars/icon_6.svg":St,"./../assets/avatars/icon_7.svg":Ct,"./../assets/avatars/icon_8.svg":Et,"./../assets/avatars/icon_9.svg":Pt,"./../assets/avatars/icon_err.svg":Lt}[`./../assets/avatars/icon_${n[0]<0?n[0]===-1?21:"err":n[0]-1}.svg`],self.location).href)||d(l,"src",r),d(l,"draggable",!1),d(l,"width","auto"),d(l,"height","100%"),d(l,"class","svelte-krg3mg"),T(l,"loading",n[0]===-1),d(s,"class","pfp svelte-krg3mg"),d(e,"class","pfp-container svelte-krg3mg"),T(e,"big",n[3])},m(i,a){b(i,e,a),o&&o.m(e,null),v(e,t),v(e,s),v(s,l)},p(i,[a]){i[2]?o||(o=It(),o.c(),o.m(e,t)):o&&(o.d(1),o=null),a&2&&d(l,"alt",i[1]),a&2&&d(l,"title",i[1]),a&1&&!ne(l.src,r=new URL({"./../assets/avatars/icon_0.svg":it,"./../assets/avatars/icon_1.svg":at,"./../assets/avatars/icon_10.svg":ct,"./../assets/avatars/icon_11.svg":ft,"./../assets/avatars/icon_12.svg":ut,"./../assets/avatars/icon_13.svg":dt,"./../assets/avatars/icon_14.svg":pt,"./../assets/avatars/icon_15.svg":gt,"./../assets/avatars/icon_16.svg":mt,"./../assets/avatars/icon_17.svg":vt,"./../assets/avatars/icon_18.svg":_t,"./../assets/avatars/icon_19.svg":ht,"./../assets/avatars/icon_2.svg":bt,"./../assets/avatars/icon_20.svg":wt,"./../assets/avatars/icon_21.svg":kt,"./../assets/avatars/icon_22.svg":yt,"./../assets/avatars/icon_3.svg":$t,"./../assets/avatars/icon_4.svg":xt,"./../assets/avatars/icon_5.svg":zt,"./../assets/avatars/icon_6.svg":St,"./../assets/avatars/icon_7.svg":Ct,"./../assets/avatars/icon_8.svg":Et,"./../assets/avatars/icon_9.svg":Pt,"./../assets/avatars/icon_err.svg":Lt}[`./../assets/avatars/icon_${i[0]<0?i[0]===-1?21:"err":i[0]-1}.svg`],self.location).href)&&d(l,"src",r),a&1&&T(l,"loading",i[0]===-1),a&8&&T(e,"big",i[3])},i:x,o:x,d(i){i&&h(e),o&&o.d()}}}function Un(n,e,t){let{icon:s=-1}=e,{alt:l="Profile picture"}=e,{online:r=!1}=e,{big:o=!1}=e;return n.$$set=i=>{"icon"in i&&t(0,s=i.icon),"alt"in i&&t(1,l=i.alt),"online"in i&&t(2,r=i.online),"big"in i&&t(3,o=i.big)},[s,l,r,o]}class et extends ee{constructor(e){super(),Z(this,e,Un,Dn,X,{icon:0,alt:1,online:2,big:3})}}function An(n){let e,t;return{c(){e=m("span"),t=C(n[0]),d(e,"title",n[1]),d(e,"class","date svelte-190wm28")},m(s,l){b(s,e,l),v(e,t)},p(s,[l]){l&1&&J(t,s[0]),l&2&&d(e,"title",s[1])},i:x,o:x,d(s){s&&h(e)}}}function Bn(n,e,t){let{date:s=0}=e,l,r;return n.$$set=o=>{"date"in o&&t(2,s=o.date)},n.$$.update=()=>{if(n.$$.dirty&4){const o=new Date(s*1e3);t(0,l=o.toLocaleString()),t(1,r=`Time is in your local timezone (UTC+${-(o.getTimezoneOffset()/60)}).
12-hour time: ${o.toLocaleString([],{hourCycle:"h11"})}
24-hour time: ${o.toLocaleString([],{hourCycle:"h23"})}
ISO: ${o.toISOString()}`)}},[l,r,s]}class Fn extends ee{constructor(e){super(),Z(this,e,Bn,An,X,{date:2})}}function de(n){return new Promise(e=>setTimeout(e,n))}const Hn=localStorage.getItem("meower_linkurl")||"wss://server.meower.org/",Be=localStorage.getItem("meower_apiurl")||"https://api.meower.org/",Wn=localStorage.getItem("meower_encodeapi")||!1;class Yn{constructor(e){return this.events={},this._numevents=1,this.ip=null,e&&this.connect(e),this}_console(e,t,s){const l=Array.from(arguments).slice(2),r="%o".repeat(l.length);console[e](`%cCLJS%c${t}%c ${r}`,"background:#0fbd8c;color:white;font-weight:bold;border-radius:4px 0 0 4px;padding:0 3px;display:inline-block","background:#000;color:white;font-weight:bold;border-radius:0 4px 4px 0;padding:0 3px;display:inline-block","",...l)}log(e,t){this._console.apply(this,["log",...arguments])}warn(e,t){this._console.apply(this,["warn",...arguments])}error(e,t){this._console.apply(this,["error",...arguments])}connect(e){return new Promise((t,s)=>{try{this.ws&&this.ws.readyState===1&&(this.log("connection","already connected, disconnecting..."),this.disconnect(1e3,"Intentional disconnect")),this.ws=new WebSocket(e),this.emit("connectionstart"),this.ws.addEventListener("open",async()=>{try{this.log("connection","connected to websockets");const l=localStorage.getItem("meower_ip");l||l===""?this.ip=l:this.ip=await(await fetch(Be+"ip")).text(),this.send({cmd:"direct",val:{cmd:"ip",val:this.ip}}),await de(100),this.send({cmd:"direct",val:{cmd:"type",val:"js"},listener:"send_type"});const r=this.sendListener({cmd:"direct",val:"meower",listener:"send_tkey"},o=>{o.cmd==="statuscode"&&(this.off(r),o.val==="I:100 | OK"?(t(),this.log("connection","successfully connected")):(s(o.val),this.error("connection","error connecting; code:",o.val)))});this.emit("connected")}catch(l){this.error("connection","error connecting:",l),s(l)}}),this.ws.addEventListener("message",l=>{const r=JSON.parse(l.data);this.log("< incoming",r),this.emit(r.cmd,r),r.listener&&this.emit("__listener_"+r.listener,r)}),this.ws.addEventListener("close",l=>{this.log("connection","disconnected with code ",l.code," and reason",l.reason),this.emit("disconnected",l)}),this.ws.addEventListener("error",l=>{this.error("connection","error:",l),this.emit("error",l)})}catch(l){s(l)}})}send(e){if(!this.ws||this.ws.readyState!==1)throw new Error("Not connected; use link.connect(server) to connect");this.log("> outgoing",e),this.ws.send(JSON.stringify(e))}sendListener(e,t){if(!e.listener)throw new Error("data must have a listener");return this.send(e),this.onListener(e.listener,t)}on(e,t){this._numevents++;const s=(this._numevents-1).toString();return this.events[s]={event:e,cb:t},s}onListener(e,t){return this.on("__listener_"+e,t)}off(e){if(!this.events[e])throw new Error("Tried to remove nonexistent listener");delete this.events[e]}once(e,t){const s=this.on(e,()=>{t(arguments),this.off(s)})}emit(e,t){Object.values(this.events).forEach(s=>{s.event===e&&s.cb(t)})}disconnect(e,t){!this.ws||this.ws.readyState!==1||(console.log(e,t),this.ws.close(e,t))}}function tt(){return{name:null,theme:"orange",mode:!0,sfx:!0,bgm:!0,bgm_song:10,layout:"new",pfp_data:1,quote:""}}let rn=null;Q.subscribe(n=>rn=n);const O=new Yn;window.cljs=O;O.log("manager","started");let Ye=null,pe=null,Oe=null,oe=null;async function Gn(){Ye&&(O.off(Ye),pe=null),pe&&(O.off(pe),pe=null),Oe&&(O.off(Oe),Oe=null),oe&&(clearInterval(oe),oe=null),Ke.set(""),O.once("connectionstart",()=>{Ye=O.on("connected",()=>{he.set(!1),oe=setInterval(()=>{O.send({cmd:"ping",val:""})},1e4)}),pe=O.on("disconnected",n=>{xe.set([]),n.reason!=="Intentional disconnect"&&he.set(!0),Q.set(tt()),oe&&(clearInterval(oe),oe=null)}),Oe=O.on("ulist",n=>{const e=n.val.split(";");e[e.length-1]===""&&e.pop(),xe.set(e)})}),he.set(!1);try{return await O.connect(Hn)}catch(n){return O.disconnect(),Ke.set(n),he.set(!0),O.error("manager","conenction error:",n),n}}async function Mt(){return O.ws?O.ws.readyState!==1?(O.log("manager","already disconnected or disconnecting, cancelling safe disconnect"),new Promise(n=>n())):(O.log("manager","safely disconnecting"),new Promise(n=>{xe.set([]),Q.set(tt()),pe&&(O.off(pe),pe=null),oe&&(clearInterval(oe),oe=null),O.once("disconnected",n),O.disconnect(1e3,"Intentional disconnect")})):(O.log("manager","websocket not present, cancelling safe disconnect"),new Promise(n=>n()))}async function ve(n){return O.log("manager","meower request",n),ye.set(!0),new Promise((e,t)=>{let s=null;const l=setTimeout(()=>{t("Timed out"),ye.set(!1)},1e4),r=O.sendListener({...n,listener:"listener_"+Math.floor(Math.random()*1e7)},o=>{o.cmd==="statuscode"?(O.off(r),ye.set(!1),clearTimeout(l),o.val==="I:100 | OK"?e(s):t(o.val)):o.cmd==="direct"&&(s=o.val)})})}async function Re(){const n=rn;return ve({cmd:"direct",val:{cmd:"update_config",val:{theme:n.theme,mode:n.mode,sfx:n.sfx,bgm:n.bgm,bgm_song:n.bgm_song,layout:n.layout,pfp_data:n.pfp_data,quote:n.quote}}})}function qt(n){let e,t,s;return t=new et({props:{icon:n[1][n[0].user]?n[1][n[0].user].pfp_data:-1,alt:n[0].user+"'s profile picture",online:n[3].includes(n[0].user)}}),{c(){e=m("button"),F(t.$$.fragment),d(e,"class","pfp svelte-15h3k5g")},m(l,r){b(l,e,r),U(t,e,null),s=!0},p(l,r){const o={};r&3&&(o.icon=l[1][l[0].user]?l[1][l[0].user].pfp_data:-1),r&1&&(o.alt=l[0].user+"'s profile picture"),r&9&&(o.online=l[3].includes(l[0].user)),t.$set(o)},i(l){s||(E(t.$$.fragment,l),s=!0)},o(l){P(t.$$.fragment,l),s=!1},d(l){l&&h(e),A(t)}}}function Kn(n){let e,t,s,l,r=n[0].user+"",o,i,a,c,u,f=n[0].content+"",g,p,_=n[2].name&&qt(n);return a=new Fn({props:{date:n[0].date}}),{c(){e=m("div"),_&&_.c(),t=z(),s=m("div"),l=m("h2"),o=C(r),i=z(),F(a.$$.fragment),c=z(),u=m("p"),g=C(f),d(l,"class","creator svelte-15h3k5g"),d(s,"class","creator svelte-15h3k5g"),d(e,"class","post-header svelte-15h3k5g")},m(y,k){b(y,e,k),_&&_.m(e,null),v(e,t),v(e,s),v(s,l),v(l,o),v(s,i),U(a,s,null),b(y,c,k),b(y,u,k),v(u,g),p=!0},p(y,k){y[2].name?_?(_.p(y,k),k&4&&E(_,1)):(_=qt(y),_.c(),E(_,1),_.m(e,t)):_&&(ae(),P(_,1,1,()=>{_=null}),ce()),(!p||k&1)&&r!==(r=y[0].user+"")&&J(o,r);const $={};k&1&&($.date=y[0].date),a.$set($),(!p||k&1)&&f!==(f=y[0].content+"")&&J(g,f)},i(y){p||(E(_),E(a.$$.fragment,y),p=!0)},o(y){P(_),P(a.$$.fragment,y),p=!1},d(y){y&&h(e),_&&_.d(),A(a),y&&h(c),y&&h(u)}}}function Jn(n){let e,t;return e=new re({props:{$$slots:{default:[Kn]},$$scope:{ctx:n}}}),{c(){F(e.$$.fragment)},m(s,l){U(e,s,l),t=!0},p(s,[l]){const r={};l&47&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){t||(E(e.$$.fragment,s),t=!0)},o(s){P(e.$$.fragment,s),t=!1},d(s){A(e,s)}}}function Vn(n,e,t){let s,l,r;V(n,be,a=>t(1,s=a)),V(n,Q,a=>t(2,l=a)),V(n,xe,a=>t(3,r=a));let{post:o={}}=e;function i(){if(!o.user||!l.name)return;const a=o.user,c=()=>{let f=s;f[a]={pfp_data:-1},be.set(f),ve({cmd:"direct",val:{cmd:"get_profile",val:a},listener:"get_profile_"+a}).then(g=>{f[a]=g.payload,be.set(f)}).catch(g=>{f[a]={error:!0,pfp_data:-2,temporary:!0},be.set(f)})},u=s;u[a]?u[a].temporary&&c():c()}return en(i),n.$$set=a=>{"post"in a&&t(0,o=a.post)},[o,s,l,r]}class Qn extends ee{constructor(e){super(),Z(this,e,Vn,Jn,X,{post:0})}}function Xn(n){let e;return{c(){e=m("span"),e.innerHTML='<span class="circle circle1 svelte-idse3p"></span><span class="circle circle2 svelte-idse3p"></span><span class="circle circle3 svelte-idse3p"></span>',d(e,"class","loading svelte-idse3p")},m(t,s){b(t,e,s)},p:x,i:x,o:x,d(t){t&&h(e)}}}class an extends ee{constructor(e){super(),Z(this,e,null,Xn,X,{})}}function cn(n){const e=n-1;return e*e*e+1}function fn(n,{delay:e=0,duration:t=400,easing:s=Fe}={}){const l=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:s,css:r=>`opacity: ${r*l}`}}function Ot(n,{delay:e=0,duration:t=400,easing:s=cn,x:l=0,y:r=0,opacity:o=0}={}){const i=getComputedStyle(n),a=+i.opacity,c=i.transform==="none"?"":i.transform,u=a*(1-o);return{delay:e,duration:t,easing:s,css:(f,g)=>`
			transform: ${c} translate(${(1-f)*l}px, ${(1-f)*r}px);
			opacity: ${a-u*g}`}}function Zn(n,{from:e,to:t},s={}){const l=getComputedStyle(n),r=l.transform==="none"?"":l.transform,[o,i]=l.transformOrigin.split(" ").map(parseFloat),a=e.left+e.width*o/t.width-(t.left+o),c=e.top+e.height*i/t.height-(t.top+i),{delay:u=0,duration:f=p=>Math.sqrt(p)*120,easing:g=cn}=s;return{delay:u,duration:He(f)?f(Math.sqrt(a*a+c*c)):f,easing:g,css:(p,_)=>{const y=_*a,k=_*c,$=p+_*e.width/t.width,w=p+_*e.height/t.height;return`transform: ${r} translate(${y}px, ${k}px) scale(${$}, ${w});`}}}function Tt(n,e,t){const s=n.slice();return s[15]=e[t],s}function es(n){let e,t;return e=new re({props:{$$slots:{default:[ts]},$$scope:{ctx:n}}}),{c(){F(e.$$.fragment)},m(s,l){U(e,s,l),t=!0},p(s,l){const r={};l&524288&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){t||(E(e.$$.fragment,s),t=!0)},o(s){P(e.$$.fragment,s),t=!1},d(s){A(e,s)}}}function ts(n){let e,t,s,l,r=n[18]+"",o;return{c(){e=m("h1"),e.textContent="Home",t=C(`
			Error loading posts. Please try again.
			`),s=m("pre"),l=m("code"),o=C(r)},m(i,a){b(i,e,a),b(i,t,a),b(i,s,a),v(s,l),v(l,o)},p:x,d(i){i&&h(e),i&&h(t),i&&h(s)}}}function ns(n){let e,t,s,l,r,o,i,a,c,u;e=new re({props:{$$slots:{default:[ss]},$$scope:{ctx:n}}});let f=n[6].name&&Rt(n);const g=[os,ls],p=[];function _(w,S){return w[0].length<1?0:1}l=_(n),r=p[l]=g[l](n);const y=[cs,as],k=[];function $(w,S){return w[2]?0:w[3]&&w[3]>w[1]?1:-1}return~(a=$(n))&&(c=k[a]=y[a](n)),{c(){F(e.$$.fragment),t=z(),f&&f.c(),s=z(),r.c(),o=z(),i=m("div"),c&&c.c(),d(i,"class","center svelte-pbdqt6")},m(w,S){U(e,w,S),b(w,t,S),f&&f.m(w,S),b(w,s,S),p[l].m(w,S),b(w,o,S),b(w,i,S),~a&&k[a].m(i,null),u=!0},p(w,S){const R={};S&524320&&(R.$$scope={dirty:S,ctx:w}),e.$set(R),w[6].name?f?f.p(w,S):(f=Rt(w),f.c(),f.m(s.parentNode,s)):f&&(f.d(1),f=null);let I=l;l=_(w),l===I?p[l].p(w,S):(ae(),P(p[I],1,1,()=>{p[I]=null}),ce(),r=p[l],r?r.p(w,S):(r=p[l]=g[l](w),r.c()),E(r,1),r.m(o.parentNode,o));let L=a;a=$(w),a===L?~a&&k[a].p(w,S):(c&&(ae(),P(k[L],1,1,()=>{k[L]=null}),ce()),~a?(c=k[a],c?c.p(w,S):(c=k[a]=y[a](w),c.c()),E(c,1),c.m(i,null)):c=null)},i(w){u||(E(e.$$.fragment,w),E(r),E(c),u=!0)},o(w){P(e.$$.fragment,w),P(r),P(c),u=!1},d(w){A(e,w),w&&h(t),f&&f.d(w),w&&h(s),p[l].d(w),w&&h(o),w&&h(i),~a&&k[a].d()}}}function jt(n){let e=" ",t,s,l=n[5].join(", ")+"",r,o;return{c(){t=C(e),s=C("("),r=C(l),o=C(")")},m(i,a){b(i,t,a),b(i,s,a),b(i,r,a),b(i,o,a)},p(i,a){a&32&&l!==(l=i[5].join(", ")+"")&&J(r,l)},d(i){i&&h(t),i&&h(s),i&&h(r),i&&h(o)}}}function ss(n){let e,t,s=n[5].length+"",l,r,o,i=n[5].length&&jt(n);return{c(){e=m("h1"),e.textContent="Home",t=C(`
			There are currently `),l=C(s),r=C(" user(s) online"),i&&i.c(),o=C(".")},m(a,c){b(a,e,c),b(a,t,c),b(a,l,c),b(a,r,c),i&&i.m(a,c),b(a,o,c)},p(a,c){c&32&&s!==(s=a[5].length+"")&&J(l,s),a[5].length?i?i.p(a,c):(i=jt(a),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},d(a){a&&h(e),a&&h(t),a&&h(l),a&&h(r),i&&i.d(a),a&&h(o)}}}function Rt(n){let e,t,s,l,r,o;return{c(){e=m("form"),e.innerHTML=`<input type="text" class="white svelte-pbdqt6" placeholder="Write something..." id="postinput" name="postinput" autocomplete="false" maxlength="250"/> 
				<button>Post</button>`,t=z(),s=m("div"),l=C(n[4]),d(e,"class","createpost svelte-pbdqt6"),d(s,"class","post-errors svelte-pbdqt6")},m(i,a){b(i,e,a),b(i,t,a),b(i,s,a),v(s,l),r||(o=j(e,"submit",ke(n[8])),r=!0)},p(i,a){a&16&&J(l,i[4])},d(i){i&&h(e),i&&h(t),i&&h(s),r=!1,o()}}}function ls(n){let e=[],t=new Map,s,l,r=n[0];const o=i=>i[15].id;for(let i=0;i<r.length;i+=1){let a=Tt(n,r,i),c=o(a);t.set(c,e[i]=Nt(c,a))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();s=Qt()},m(i,a){for(let c=0;c<e.length;c+=1)e[c].m(i,a);b(i,s,a),l=!0},p(i,a){if(a&1){r=i[0],ae();for(let c=0;c<e.length;c+=1)e[c].r();e=Tn(e,a,o,1,i,r,t,s.parentNode,On,Nt,s,Tt);for(let c=0;c<e.length;c+=1)e[c].a();ce()}},i(i){if(!l){for(let a=0;a<r.length;a+=1)E(e[a]);l=!0}},o(i){for(let a=0;a<e.length;a+=1)P(e[a]);l=!1},d(i){for(let a=0;a<e.length;a+=1)e[a].d(i);i&&h(s)}}}function os(n){let e;function t(r,o){return r[6].name?is:rs}let s=t(n),l=s(n);return{c(){l.c(),e=Qt()},m(r,o){l.m(r,o),b(r,e,o)},p(r,o){s!==(s=t(r))&&(l.d(1),l=s(r),l&&(l.c(),l.m(e.parentNode,e)))},i:x,o:x,d(r){l.d(r),r&&h(e)}}}function Nt(n,e){let t,s,l,r,o,i=x,a;return s=new Qn({props:{post:e[15]}}),{key:n,first:null,c(){t=m("div"),F(s.$$.fragment),l=z(),this.first=t},m(c,u){b(c,t,u),U(s,t,null),v(t,l),a=!0},p(c,u){e=c;const f={};u&1&&(f.post=e[15]),s.$set(f)},r(){o=t.getBoundingClientRect()},f(){Pn(t),i(),Xt(t,o)},a(){i(),i=En(t,o,Zn,{duration:250})},i(c){a||(E(s.$$.fragment,c),c&&$e(()=>{r||(r=rt(t,Ot,{y:-50,duration:250},!0)),r.run(1)}),a=!0)},o(c){P(s.$$.fragment,c),c&&(r||(r=rt(t,Ot,{y:-50,duration:250},!1)),r.run(0)),a=!1},d(c){c&&h(t),A(s),c&&r&&r.end()}}}function rs(n){let e;return{c(){e=C("No posts here. Check back later!")},m(t,s){b(t,e,s)},d(t){t&&h(e)}}}function is(n){let e;return{c(){e=C("No posts here. Check back later or be the first to post!")},m(t,s){b(t,e,s)},d(t){t&&h(e)}}}function as(n){let e,t,s;return{c(){e=m("button"),e.textContent="Load More",d(e,"class","load-more svelte-pbdqt6")},m(l,r){b(l,e,r),t||(s=j(e,"click",n[9]),t=!0)},p:x,i:x,o:x,d(l){l&&h(e),t=!1,s()}}}function cs(n){let e,t;return e=new an({}),{c(){F(e.$$.fragment)},m(s,l){U(e,s,l),t=!0},p:x,i(s){t||(E(e.$$.fragment,s),t=!0)},o(s){P(e.$$.fragment,s),t=!1},d(s){A(e,s)}}}function fs(n){let e,t,s;return t=new an({}),{c(){e=m("div"),F(t.$$.fragment),d(e,"class","fullcenter svelte-pbdqt6")},m(l,r){b(l,e,r),U(t,e,null),s=!0},p:x,i(l){s||(E(t.$$.fragment,l),s=!0)},o(l){P(t.$$.fragment,l),s=!1},d(l){l&&h(e),A(t)}}}function us(n){let e,t,s={ctx:n,current:null,token:null,hasCatch:!0,pending:fs,then:ns,catch:es,error:18,blocks:[,,,]};return In(n[7](1),s),{c(){e=m("div"),s.block.c(),d(e,"class","home svelte-pbdqt6")},m(l,r){b(l,e,r),s.block.m(e,s.anchor=null),s.mount=()=>e,s.anchor=null,t=!0},p(l,[r]){n=l,Mn(s,n,r)},i(l){t||(E(s.block),t=!0)},o(l){for(let r=0;r<3;r+=1){const o=s.blocks[r];P(o)}t=!1},d(l){l&&h(e),s.block.d(),s.token=null,s=null}}}function ds(n,e,t){let s,l;V(n,xe,w=>t(12,s=w)),V(n,Q,w=>t(6,l=w));let r=0,{posts:o=[]}=e,i=0,a=!1,c=null,u="",f=0;async function g(w){if(t(2,a=!0),w===void 0)t(0,o=[]);else{let S=w+Math.floor(f/25),R=f%25;try{let I="home?autoget&page=";Wn&&(I=encodeURIComponent(I));const L=await fetch(`${Be}${I}${S}`);if(!L.ok)throw new Error("Response code is not OK; code is "+L.status);const N=await L.json();let q=N.autoget;q.splice(0,R),t(3,c=N.pages);let W,Y;if(R>0&&i<c){if(W=await fetch(`${Be}${I}${S+1}`),!L.ok)throw new Error("Overflow response code is not OK; code is "+L.status);Y=await W.json(),q=q.concat(Y.autoget.slice(0,R))}for(const B of q)o.push({id:r++,post_id:B.post_id,user:B.u,content:B.p,date:B.t.e});t(1,i=w)}catch(I){throw t(2,a=!1),I}}return t(0,o),t(2,a=!1),o}function p(w){o.unshift({id:r++,...w}),t(0,o)}function _(){O.on("direct",w=>{w.val.post_origin==="home"&&(p({post_id:w.val.post_id,user:w.val.u,content:w.val.p,date:w.val.t.e}),f++,t(0,o))})}O.ws.readyState===1?_():O.ws.addEventListener("open",_);let y=s;xe.subscribe(w=>{t(5,y=w)});const k=w=>{const S=new RegExp(/[\u{1F346}]/ug);if(t(4,u=""),!w.target[0].value.trim())return t(4,u="You cannot send an empty post!"),!1;ye.set(!0),O.send({cmd:"direct",val:{cmd:"post_home",val:w.target[0].value.replace(S," Emoji ")},listener:"post_home"});const R=O.on("statuscode",I=>{I.listener==="post_home"&&(O.off(R),ye.set(!1),I.val==="I:100 | OK"?w.target[0].value="":I.val==="E:106 | Too many requests"?t(4,u="You're posting too fast!"):t(4,u="Unexpected "+I.val+" error!"))});return!1},$=()=>g(i+1);return n.$$set=w=>{"posts"in w&&t(0,o=w.posts)},[o,i,a,c,u,y,l,g,k,$]}class ps extends ee{constructor(e){super(),Z(this,e,ds,us,X,{posts:0})}}function Dt(n,e,t){const s=n.slice();return s[6]=e[t],s}function gs(n){let e,t,s,l,r=n[0].name+"",o,i;return t=new et({props:{online:!0,icon:n[0].pfp_data,alt:n[0].name+"'s profile picture",big:!0}}),{c(){e=m("div"),F(t.$$.fragment),s=z(),l=m("h1"),o=C(r),d(l,"class","profile-username svelte-18818d9"),d(e,"class","profile-header svelte-18818d9")},m(a,c){b(a,e,c),U(t,e,null),v(e,s),v(e,l),v(l,o),i=!0},p(a,c){const u={};c&1&&(u.icon=a[0].pfp_data),c&1&&(u.alt=a[0].name+"'s profile picture"),t.$set(u),(!i||c&1)&&r!==(r=a[0].name+"")&&J(o,r)},i(a){i||(E(t.$$.fragment,a),i=!0)},o(a){P(t.$$.fragment,a),i=!1},d(a){a&&h(e),A(t)}}}function Ut(n){let e,t,s,l,r;t=new et({props:{online:!1,icon:n[6],alt:"Profile picture "+n[6]}});function o(){return n[3](n[6])}return{c(){e=m("span"),F(t.$$.fragment),d(e,"class","pfp svelte-18818d9"),T(e,"selected",n[0].pfp_data===n[6])},m(i,a){b(i,e,a),U(t,e,null),s=!0,l||(r=j(e,"click",o),l=!0)},p(i,a){n=i,a&3&&T(e,"selected",n[0].pfp_data===n[6])},i(i){s||(E(t.$$.fragment,i),s=!0)},o(i){P(t.$$.fragment,i),s=!1},d(i){i&&h(e),A(t),l=!1,r()}}}function ms(n){let e,t,s,l,r=n[1],o=[];for(let a=0;a<r.length;a+=1)o[a]=Ut(Dt(n,r,a));const i=a=>P(o[a],1,1,()=>{o[a]=null});return{c(){e=m("h2"),e.textContent="Profile Picture",t=z(),s=m("div");for(let a=0;a<o.length;a+=1)o[a].c();d(s,"id","pfp-list"),d(s,"class","svelte-18818d9")},m(a,c){b(a,e,c),b(a,t,c),b(a,s,c);for(let u=0;u<o.length;u+=1)o[u].m(s,null);l=!0},p(a,c){if(c&7){r=a[1];let u;for(u=0;u<r.length;u+=1){const f=Dt(a,r,u);o[u]?(o[u].p(f,c),E(o[u],1)):(o[u]=Ut(f),o[u].c(),E(o[u],1),o[u].m(s,null))}for(ae(),u=r.length;u<o.length;u+=1)i(u);ce()}},i(a){if(!l){for(let c=0;c<r.length;c+=1)E(o[c]);l=!0}},o(a){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)P(o[c]);l=!1},d(a){a&&h(e),a&&h(t),a&&h(s),Vt(o,a)}}}function vs(n){let e,t,s,l,r;return t=new re({props:{$$slots:{default:[gs]},$$scope:{ctx:n}}}),l=new re({props:{$$slots:{default:[ms]},$$scope:{ctx:n}}}),{c(){e=m("div"),F(t.$$.fragment),s=z(),F(l.$$.fragment),d(e,"class","profile")},m(o,i){b(o,e,i),U(t,e,null),v(e,s),U(l,e,null),r=!0},p(o,[i]){const a={};i&513&&(a.$$scope={dirty:i,ctx:o}),t.$set(a);const c={};i&513&&(c.$$scope={dirty:i,ctx:o}),l.$set(c)},i(o){r||(E(t.$$.fragment,o),E(l.$$.fragment,o),r=!0)},o(o){P(t.$$.fragment,o),P(l.$$.fragment,o),r=!1},d(o){o&&h(e),A(t),A(l)}}}function _s(n,e,t){let s,l;V(n,Q,c=>t(4,s=c)),V(n,be,c=>t(5,l=c));let r=s;Q.subscribe(c=>t(0,r=c));const o=new Array(23).fill().map((c,u)=>u+1);function i(){if(l[s.name]){alert("upd");const c=l;delete c[s.name],be.set(c)}Re()}return[r,o,i,c=>{r.pfp_data!==c&&(t(0,r.pfp_data=c,r),i())}]}class hs extends ee{constructor(e){super(),Z(this,e,_s,vs,X,{})}}function bs(n){let e,t;return{c(){e=m("h1"),e.textContent="Settings",t=C(`
	You can change your settings here. These will save to your account, so they will carry over into other clients.`)},m(s,l){b(s,e,l),b(s,t,l)},p:x,d(s){s&&h(e),s&&h(t)}}}function ws(n){let e,t,s,l,r,o=n[5].layout+"",i,a,c,u;return{c(){e=m("div"),t=m("button"),s=z(),l=m("h2"),l.textContent="Layout",r=C(`
	The layout is currently set to `),i=C(o),a=C("."),d(t,"class","settings-button change svelte-197hig2"),T(t,"on",n[5].layout==="old"),d(e,"class","settings-controls svelte-197hig2")},m(f,g){b(f,e,g),v(e,t),b(f,s,g),b(f,l,g),b(f,r,g),b(f,i,g),b(f,a,g),c||(u=j(t,"click",n[7]),c=!0)},p(f,g){g&32&&T(t,"on",f[5].layout==="old"),g&32&&o!==(o=f[5].layout+"")&&J(i,o)},d(f){f&&h(e),f&&h(s),f&&h(l),f&&h(r),f&&h(i),f&&h(a),c=!1,u()}}}function ks(n){let e,t,s,l,r,o=n[5].theme+"",i,a,c,u;return{c(){e=m("div"),t=m("button"),s=z(),l=m("h2"),l.textContent="Theme",r=C(`
	The theme is currently set to `),i=C(o),a=C("."),d(t,"class","settings-button change svelte-197hig2"),T(t,"on",n[5].theme==="blue"),d(e,"class","settings-controls svelte-197hig2")},m(f,g){b(f,e,g),v(e,t),b(f,s,g),b(f,l,g),b(f,r,g),b(f,i,g),b(f,a,g),c||(u=j(t,"click",n[8]),c=!0)},p(f,g){g&32&&T(t,"on",f[5].theme==="blue"),g&32&&o!==(o=f[5].theme+"")&&J(i,o)},d(f){f&&h(e),f&&h(s),f&&h(l),f&&h(r),f&&h(i),f&&h(a),c=!1,u()}}}function ys(n){let e,t,s,l,r,o=n[5].mode?"disabled":"enabled",i,a,c,u;return{c(){e=m("div"),t=m("button"),s=z(),l=m("h2"),l.textContent="Dark Mode",r=C(`
	Dark mode is currently `),i=C(o),a=C("."),d(t,"class","settings-button switch svelte-197hig2"),T(t,"on",!n[5].mode),d(e,"class","settings-controls svelte-197hig2")},m(f,g){b(f,e,g),v(e,t),b(f,s,g),b(f,l,g),b(f,r,g),b(f,i,g),b(f,a,g),c||(u=j(t,"click",n[9]),c=!0)},p(f,g){g&32&&T(t,"on",!f[5].mode),g&32&&o!==(o=f[5].mode?"disabled":"enabled")&&J(i,o)},d(f){f&&h(e),f&&h(s),f&&h(l),f&&h(r),f&&h(i),f&&h(a),c=!1,u()}}}function $s(n){let e,t,s,l,r,o,i,a,c,u,f,g,p,_,y;return{c(){e=m("div"),t=m("button"),s=z(),l=m("button"),r=z(),o=m("button"),i=z(),a=m("button"),c=z(),u=m("button"),f=z(),g=m("h2"),g.textContent="Delete Account",p=C(`
	THIS CANNOT BE UNDONE. Enable all the switches to delete your account, if you are really sure.`),d(t,"class","settings-button switch svelte-197hig2"),T(t,"on",n[0]),d(l,"class","settings-button switch svelte-197hig2"),T(l,"on",n[1]),d(o,"class","settings-button switch svelte-197hig2"),T(o,"on",n[2]),d(a,"class","settings-button switch svelte-197hig2"),T(a,"on",n[3]),d(u,"class","settings-button switch svelte-197hig2"),T(u,"on",n[4]),d(e,"class","settings-controls svelte-197hig2")},m(k,$){b(k,e,$),v(e,t),v(e,s),v(e,l),v(e,r),v(e,o),v(e,i),v(e,a),v(e,c),v(e,u),b(k,f,$),b(k,g,$),b(k,p,$),_||(y=[j(t,"click",n[10]),j(l,"click",n[11]),j(o,"click",n[12]),j(a,"click",n[13]),j(u,"click",n[14])],_=!0)},p(k,$){$&1&&T(t,"on",k[0]),$&2&&T(l,"on",k[1]),$&4&&T(o,"on",k[2]),$&8&&T(a,"on",k[3]),$&16&&T(u,"on",k[4])},d(k){k&&h(e),k&&h(f),k&&h(g),k&&h(p),_=!1,te(y)}}}function xs(n){let e,t,s,l,r,o,i,a,c,u,f,g;return e=new re({props:{$$slots:{default:[bs]},$$scope:{ctx:n}}}),s=new re({props:{$$slots:{default:[ws]},$$scope:{ctx:n}}}),r=new re({props:{$$slots:{default:[ks]},$$scope:{ctx:n}}}),i=new re({props:{$$slots:{default:[ys]},$$scope:{ctx:n}}}),c=new re({props:{$$slots:{default:[$s]},$$scope:{ctx:n}}}),{c(){F(e.$$.fragment),t=z(),F(s.$$.fragment),l=z(),F(r.$$.fragment),o=z(),F(i.$$.fragment),a=z(),F(c.$$.fragment),u=z(),f=m("div"),d(f,"class","eee")},m(p,_){U(e,p,_),b(p,t,_),U(s,p,_),b(p,l,_),U(r,p,_),b(p,o,_),U(i,p,_),b(p,a,_),U(c,p,_),b(p,u,_),b(p,f,_),g=!0},p(p,[_]){const y={};_&32768&&(y.$$scope={dirty:_,ctx:p}),e.$set(y);const k={};_&32800&&(k.$$scope={dirty:_,ctx:p}),s.$set(k);const $={};_&32800&&($.$$scope={dirty:_,ctx:p}),r.$set($);const w={};_&32800&&(w.$$scope={dirty:_,ctx:p}),i.$set(w);const S={};_&32799&&(S.$$scope={dirty:_,ctx:p}),c.$set(S)},i(p){g||(E(e.$$.fragment,p),E(s.$$.fragment,p),E(r.$$.fragment,p),E(i.$$.fragment,p),E(c.$$.fragment,p),g=!0)},o(p){P(e.$$.fragment,p),P(s.$$.fragment,p),P(r.$$.fragment,p),P(i.$$.fragment,p),P(c.$$.fragment,p),g=!1},d(p){A(e,p),p&&h(t),A(s,p),p&&h(l),A(r,p),p&&h(o),A(i,p),p&&h(a),A(c,p),p&&h(u),p&&h(f)}}}function zs(n,e,t){let s;V(n,Q,w=>t(5,s=w));let l=!1,r=!1,o=!1,i=!1,a=!1;async function c(){l&&r&&o&&i&&a&&(s.name===localStorage.getItem("meower_savedusername")&&(localStorage.removeItem("meower_savedusername"),localStorage.removeItem("meower_savedpassword")),await ve({cmd:"direct",val:{cmd:"del_account",val:""}}),ge.set("setup"),await Le(),K.set("reconnect"))}return[l,r,o,i,a,s,c,()=>{const w=s;w.layout=w.layout==="new"?"old":"new",Q.set(w),Re()},()=>{const w=s;w.theme=w.theme==="orange"?"blue":"orange",Q.set(w),Re()},()=>{const w=s;w.mode=!w.mode,Q.set(w),Re()},()=>{t(0,l=!l),c()},()=>{t(1,r=!r),c()},()=>{t(2,o=!o),c()},()=>{t(3,i=!i),c()},()=>{t(4,a=!a),c()}]}class Ss extends ee{constructor(e){super(),Z(this,e,zs,xs,X,{})}}var nt="./assets/meowy.93c25f40.svg";function At(n,e,t){const s=n.slice();return s[1]=e[t],s}function Bt(n){let e,t;return{c(){e=m("img"),d(e,"class","cat svelte-vuknl4"),d(e,"alt","MEOW"),d(e,"title","MEOW"),ne(e.src,t=nt)||d(e,"src",t),d(e,"height","100"),Me(e,"left",(n[1].x||0)+"vw",!1),Me(e,"top",(n[1].y||0)+"vh",!1),Me(e,"animation-delay",-(n[1].offset||0)+"s",!1),Me(e,"animation-duration",n[1].time+"s",!1)},m(s,l){b(s,e,l)},p:x,d(s){s&&h(e)}}}function Cs(n){let e,t=n[0],s=[];for(let l=0;l<t.length;l+=1)s[l]=Bt(At(n,t,l));return{c(){e=m("div");for(let l=0;l<s.length;l+=1)s[l].c();d(e,"class","cats svelte-vuknl4")},m(l,r){b(l,e,r);for(let o=0;o<s.length;o+=1)s[o].m(e,null)},p(l,[r]){if(r&1){t=l[0];let o;for(o=0;o<t.length;o+=1){const i=At(l,t,o);s[o]?s[o].p(i,r):(s[o]=Bt(i),s[o].c(),s[o].m(e,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=t.length}},i:x,o:x,d(l){l&&h(e),Vt(s,l)}}}function Es(n){return[new Array(150).fill({}).map(t=>({x:Math.random()*100,y:Math.random()*100,offset:Math.random()*15,time:5+Math.random()*10}))]}class Ps extends ee{constructor(e){super(),Z(this,e,Es,Cs,X,{})}}function Ls(n){let e,t,s;return t=new Ps({}),{c(){e=m("div"),F(t.$$.fragment),d(e,"class","groupchat")},m(l,r){b(l,e,r),U(t,e,null),s=!0},p:x,i(l){s||(E(t.$$.fragment,l),s=!0)},o(l){P(t.$$.fragment,l),s=!1},d(l){l&&h(e),A(t)}}}class Is extends ee{constructor(e){super(),Z(this,e,null,Ls,X,{})}}var st="./assets/logo.22ae43ae.svg",Ms="./assets/home.a6e91ee5.svg",qs="./assets/profile.f90d67b3.svg",Os="./assets/settings.10cdbd27.svg",Ts="./assets/logout.32557676.svg";function Ft(n){let e,t,s,l,r,o,i,a,c,u,f,g,p,_,y,k;return{c(){e=m("button"),t=m("img"),r=z(),o=m("button"),i=m("img"),u=z(),f=m("button"),g=m("img"),ne(t.src,s=qs)||d(t,"src",s),d(t,"alt","Profile"),d(t,"width","90%"),d(t,"height","auto"),d(t,"draggable",l=!1),d(e,"class","profile-btn round svelte-n8zklt"),ne(i.src,a=Os)||d(i,"src",a),d(i,"alt","Settings"),d(i,"width","90%"),d(i,"height","auto"),d(i,"draggable",c=!1),d(o,"class","settings-btn round svelte-n8zklt"),ne(g.src,p=nt)||d(g,"src",p),d(g,"alt","Group cat"),d(g,"width","90%"),d(g,"height","auto"),d(g,"draggable",_=!1),d(f,"class","groupcat-btn round svelte-n8zklt")},m($,w){b($,e,w),v(e,t),b($,r,w),b($,o,w),v(o,i),b($,u,w),b($,f,w),v(f,g),y||(k=[j(e,"click",n[4]),j(o,"click",n[5]),j(f,"click",n[6])],y=!0)},p:x,d($){$&&h(e),$&&h(r),$&&h(o),$&&h(u),$&&h(f),y=!1,te(k)}}}function js(n){let e,t,s,l,r,o,i,a,c,u,f,g,p,_,y,k,$=n[0].name&&Ft(n);return{c(){e=m("div"),t=m("div"),s=m("span"),l=m("img"),o=z(),i=m("button"),a=m("img"),u=z(),$&&$.c(),f=z(),g=m("button"),p=m("img"),d(l,"alt","Meower"),ne(l.src,r=st)||d(l,"src",r),d(l,"draggable",!1),d(l,"height","100%"),d(l,"width","auto"),d(l,"class","svelte-n8zklt"),d(s,"class","logo-inner svelte-n8zklt"),d(t,"class","logo svelte-n8zklt"),ne(a.src,c=Ms)||d(a,"src",c),d(a,"alt","Home"),d(a,"width","90%"),d(a,"height","auto"),d(a,"draggable",!1),d(i,"class","home-btn round svelte-n8zklt"),ne(p.src,_=Ts)||d(p,"src",_),d(p,"alt","Log out"),d(p,"width","90%"),d(p,"height","auto"),d(p,"draggable",!1),d(g,"class","logout-btn round svelte-n8zklt"),d(e,"class","sidebar svelte-n8zklt")},m(w,S){b(w,e,S),v(e,t),v(t,s),v(s,l),v(e,o),v(e,i),v(i,a),v(e,u),$&&$.m(e,null),v(e,f),v(e,g),v(g,p),y||(k=[j(s,"click",n[2]),j(i,"click",n[3]),j(g,"click",n[7])],y=!0)},p(w,[S]){w[0].name?$?$.p(w,S):($=Ft(w),$.c(),$.m(e,f)):$&&($.d(1),$=null)},i:x,o:x,d(w){w&&h(e),$&&$.d(),y=!1,te(k)}}}function Rs(n,e,t){let s;V(n,Q,f=>t(0,s=f));function l(f){Ae.set("blank"),Le().then(()=>Ae.set(f))}return[s,l,()=>l("home"),()=>l("home"),()=>l("profile"),()=>l("settings"),()=>l("groupchat"),async()=>{ge.set("setup"),await Le(),K.set("reconnect")}]}class Ns extends ee{constructor(e){super(),Z(this,e,Rs,js,X,{})}}function Ds(n){let e,t,s,l,r;return{c(){e=C(`Somehow, you got to a page that doesn't exist...
			`),t=m("br"),s=C(`
			(Current page: `),l=C(n[0]),r=C(")")},m(o,i){b(o,e,i),b(o,t,i),b(o,s,i),b(o,l,i),b(o,r,i)},p(o,i){i&1&&J(l,o[0])},i:x,o:x,d(o){o&&h(e),o&&h(t),o&&h(s),o&&h(l),o&&h(r)}}}function Us(n){let e;return{c(){e=m("div")},m(t,s){b(t,e,s)},p:x,i:x,o:x,d(t){t&&h(e)}}}function As(n){let e,t;return e=new Is({}),{c(){F(e.$$.fragment)},m(s,l){U(e,s,l),t=!0},p:x,i(s){t||(E(e.$$.fragment,s),t=!0)},o(s){P(e.$$.fragment,s),t=!1},d(s){A(e,s)}}}function Bs(n){let e,t;return e=new Ss({}),{c(){F(e.$$.fragment)},m(s,l){U(e,s,l),t=!0},p:x,i(s){t||(E(e.$$.fragment,s),t=!0)},o(s){P(e.$$.fragment,s),t=!1},d(s){A(e,s)}}}function Fs(n){let e,t;return e=new hs({}),{c(){F(e.$$.fragment)},m(s,l){U(e,s,l),t=!0},p:x,i(s){t||(E(e.$$.fragment,s),t=!0)},o(s){P(e.$$.fragment,s),t=!1},d(s){A(e,s)}}}function Hs(n){let e,t;return e=new ps({}),{c(){F(e.$$.fragment)},m(s,l){U(e,s,l),t=!0},p:x,i(s){t||(E(e.$$.fragment,s),t=!0)},o(s){P(e.$$.fragment,s),t=!1},d(s){A(e,s)}}}function Ws(n){let e,t,s,l,r,o,i,a;s=new Ns({});const c=[Hs,Fs,Bs,As,Us,Ds],u=[];function f(g,p){return g[0]==="home"?0:g[0]==="profile"?1:g[0]==="settings"?2:g[0]==="groupchat"?3:g[0]==="blank"?4:5}return o=f(n),i=u[o]=c[o](n),{c(){e=m("div"),t=m("div"),F(s.$$.fragment),l=z(),r=m("div"),i.c(),d(t,"class","sidebar svelte-88zg9i"),d(r,"class","view svelte-88zg9i"),d(e,"class","main-screen svelte-88zg9i")},m(g,p){b(g,e,p),v(e,t),U(s,t,null),v(e,l),v(e,r),u[o].m(r,null),a=!0},p(g,[p]){let _=o;o=f(g),o===_?u[o].p(g,p):(ae(),P(u[_],1,1,()=>{u[_]=null}),ce(),i=u[o],i?i.p(g,p):(i=u[o]=c[o](g),i.c()),E(i,1),i.m(r,null))},i(g){a||(E(s.$$.fragment,g),E(i),a=!0)},o(g){P(s.$$.fragment,g),P(i),a=!1},d(g){g&&h(e),A(s),u[o].d()}}}function Ys(n,e,t){let s;return V(n,Ae,l=>t(0,s=l)),Ae.set("home"),[s]}class Gs extends ee{constructor(e){super(),Z(this,e,Ys,Ws,X,{})}}function Ks(n){let e,t,s,l,r,o,i,a,c;return{c(){e=C(`Somehow, you got to a page that doesn't exist...
		`),t=m("br"),s=C(`
		(Current page: `),l=C(n[6]),r=C(`)

		`),o=m("div"),i=m("button"),i.textContent="Go back!",d(i,"class","svelte-1wxvzf2"),d(o,"class","buttons svelte-1wxvzf2")},m(u,f){b(u,e,f),b(u,t,f),b(u,s,f),b(u,l,f),b(u,r,f),b(u,o,f),v(o,i),a||(c=j(i,"click",n[23]),a=!0)},p(u,f){f&64&&J(l,u[6])},i:x,o:x,d(u){u&&h(e),u&&h(t),u&&h(s),u&&h(l),u&&h(r),u&&h(o),a=!1,c()}}}function Js(n){let e;return{c(){e=m("div"),e.textContent="Let's go!",d(e,"class","fullcenter svelte-1wxvzf2")},m(t,s){b(t,e,s)},p:x,i:x,o:x,d(t){t&&h(e)}}}function Vs(n){let e;return{c(){e=m("div")},m(t,s){b(t,e,s)},p:x,i:x,o:x,d(t){t&&h(e)}}}function Qs(n){let e,t,s,l,r,o,i,a,c,u,f,g,p,_,y,k,$,w,S,R,I,L,N,q,W,Y,B,me,se,M,G,H;return{c(){e=m("div"),t=m("h1"),t.textContent="Welcome to Meower",s=z(),l=m("form"),r=m("input"),o=z(),i=m("br"),a=z(),c=m("input"),u=z(),f=m("p"),g=m("label"),p=m("input"),_=C(`
						Save this login`),y=z(),k=m("br"),$=z(),w=m("label"),S=m("input"),R=C(`
						I agree to `),I=m("a"),I.textContent="Meower's Terms of Service and Privacy Policy",L=z(),N=m("span"),q=C(n[3]),W=z(),Y=m("div"),B=m("button"),me=C("Join!"),M=m("button"),M.textContent="Go back",d(r,"type","text"),d(r,"placeholder","Username"),d(r,"maxlength","20"),d(r,"class","svelte-1wxvzf2"),d(i,"class","svelte-1wxvzf2"),d(c,"type","password"),d(c,"placeholder","Password"),d(c,"maxlength","72"),d(c,"class","svelte-1wxvzf2"),d(p,"type","checkbox"),d(p,"class","svelte-1wxvzf2"),d(g,"class","svelte-1wxvzf2"),d(k,"class","svelte-1wxvzf2"),d(S,"type","checkbox"),d(S,"class","svelte-1wxvzf2"),d(I,"href","https://meower.org/legal"),d(I,"class","svelte-1wxvzf2"),d(w,"class","svelte-1wxvzf2"),d(f,"class","checkboxes svelte-1wxvzf2"),d(N,"class","login-status svelte-1wxvzf2"),B.disabled=se=!n[4],d(B,"class","svelte-1wxvzf2"),d(M,"class","svelte-1wxvzf2"),d(Y,"class","buttons svelte-1wxvzf2"),d(l,"class","column-ui svelte-1wxvzf2"),d(e,"class","fullcenter svelte-1wxvzf2")},m(D,le){b(D,e,le),v(e,t),v(e,s),v(e,l),v(l,r),v(l,o),v(l,i),v(l,a),v(l,c),v(l,u),v(l,f),v(f,g),v(g,p),p.checked=n[5],v(g,_),v(f,y),v(f,k),v(f,$),v(f,w),v(w,S),S.checked=n[4],v(w,R),v(w,I),v(l,L),v(l,N),v(N,q),v(l,W),v(l,Y),v(Y,B),v(B,me),v(Y,M),G||(H=[j(p,"change",n[19]),j(S,"change",n[20]),j(M,"click",ke(n[21])),j(l,"submit",ke(n[22]))],G=!0)},p(D,le){le&32&&(p.checked=D[5]),le&16&&(S.checked=D[4]),le&8&&J(q,D[3]),le&16&&se!==(se=!D[4])&&(B.disabled=se)},i:x,o:x,d(D){D&&h(e),G=!1,te(H)}}}function Xs(n){let e,t,s,l,r,o,i,a,c,u,f,g,p,_,y,k,$,w,S,R,I,L,N,q,W;return{c(){e=m("div"),t=m("h1"),t.textContent="Login to Meower",s=z(),l=m("form"),r=m("input"),o=z(),i=m("br"),a=z(),c=m("input"),u=z(),f=m("p"),g=m("label"),p=m("input"),_=C(`
						Save this login`),y=z(),k=m("span"),$=C(n[3]),w=z(),S=m("div"),R=m("button"),R.textContent="Log in",I=m("button"),I.textContent="Go back",L=z(),N=m("button"),N.textContent="Clear saved login",d(r,"type","text"),d(r,"placeholder","Username"),d(r,"maxlength","20"),d(r,"class","svelte-1wxvzf2"),d(i,"class","svelte-1wxvzf2"),d(c,"type","password"),d(c,"placeholder","Password"),d(c,"maxlength","72"),d(c,"class","svelte-1wxvzf2"),d(p,"type","checkbox"),d(p,"class","svelte-1wxvzf2"),d(g,"class","svelte-1wxvzf2"),d(f,"class","checkboxes svelte-1wxvzf2"),d(k,"class","login-status svelte-1wxvzf2"),d(R,"class","svelte-1wxvzf2"),d(I,"class","svelte-1wxvzf2"),d(S,"class","buttons svelte-1wxvzf2"),d(N,"class","svelte-1wxvzf2"),d(l,"class","column-ui svelte-1wxvzf2"),d(e,"class","fullcenter svelte-1wxvzf2")},m(Y,B){b(Y,e,B),v(e,t),v(e,s),v(e,l),v(l,r),v(l,o),v(l,i),v(l,a),v(l,c),v(l,u),v(l,f),v(f,g),v(g,p),p.checked=n[5],v(g,_),v(l,y),v(l,k),v(k,$),v(l,w),v(l,S),v(S,R),v(S,I),v(l,L),v(l,N),q||(W=[j(p,"change",n[15]),j(I,"click",ke(n[16])),j(N,"click",ke(n[17])),j(l,"submit",ke(n[18]))],q=!0)},p(Y,B){B&32&&(p.checked=Y[5]),B&8&&J($,Y[3])},i:x,o:x,d(Y){Y&&h(e),q=!1,te(W)}}}function Zs(n){let e,t,s,l,r,o,i,a,c,u,f,g,p,_,y,k,$,w=localStorage.getItem("meower_savedusername"),S,R,I,L,N,q,W,Y,B,me,se,M,G=w&&sl(n);return{c(){e=m("div"),t=m("div"),s=m("div"),l=m("img"),o=z(),i=m("br"),a=m("br"),c=z(),u=m("button"),u.textContent="Log in",f=z(),g=m("br"),p=z(),_=m("button"),_.textContent="Create an account",y=z(),k=m("br"),$=z(),G&&G.c(),S=z(),R=m("button"),R.textContent="Skip",I=z(),L=m("p"),L.textContent="(Several features will be unavailable while not logged in.)",N=z(),q=m("div"),W=m("p"),W.textContent="Meower Svelte v1.1.2",Y=z(),B=m("img"),d(l,"alt","Meower"),ne(l.src,r=st)||d(l,"src",r),d(l,"class","logo-img svelte-1wxvzf2"),d(l,"height","70"),d(i,"class","svelte-1wxvzf2"),d(a,"class","svelte-1wxvzf2"),d(s,"class","svelte-1wxvzf2"),d(u,"class","svelte-1wxvzf2"),d(g,"class","svelte-1wxvzf2"),d(_,"class","svelte-1wxvzf2"),d(k,"class","svelte-1wxvzf2"),d(R,"class","svelte-1wxvzf2"),d(L,"class","small svelte-1wxvzf2"),d(W,"class","small svelte-1wxvzf2"),ne(B.src,me=nt)||d(B,"src",me),d(B,"alt",""),d(B,"height","64"),d(B,"class","svelte-1wxvzf2"),d(q,"class","svelte-1wxvzf2"),d(t,"class","column-ui svelte-1wxvzf2"),d(e,"class","fullcenter svelte-1wxvzf2")},m(H,D){b(H,e,D),v(e,t),v(t,s),v(s,l),v(s,o),v(s,i),v(s,a),v(t,c),v(t,u),v(t,f),v(t,g),v(t,p),v(t,_),v(t,y),v(t,k),v(t,$),G&&G.m(t,null),v(t,S),v(t,R),v(t,I),v(t,L),v(t,N),v(t,q),v(q,W),v(q,Y),v(q,B),se||(M=[j(u,"click",n[11]),j(_,"click",n[12]),j(R,"click",n[14])],se=!0)},p(H,D){w&&G.p(H,D)},i:x,o:x,d(H){H&&h(e),G&&G.d(),se=!1,te(M)}}}function el(n){let e;return{c(){e=m("div"),e.textContent="Reconnecting...",d(e,"class","fullcenter svelte-1wxvzf2")},m(t,s){b(t,e,s)},p:x,i:x,o:x,d(t){t&&h(e)}}}function tl(n){let e,t,s,l,r,o,i,a,c,u;return{c(){e=m("div"),t=m("div"),s=m("div"),l=m("img"),o=z(),i=m("div"),a=C(n[3]),d(l,"alt","Meower"),ne(l.src,r=st)||d(l,"src",r),d(l,"class","logo-img svelte-1wxvzf2"),d(l,"height","40"),d(s,"class","logo top svelte-1wxvzf2"),d(i,"class","connecting svelte-1wxvzf2"),d(e,"class","fullcenter svelte-1wxvzf2")},m(f,g){b(f,e,g),v(e,t),v(t,s),v(s,l),n[9](l),n[10](s),v(t,o),v(t,i),v(i,a),u=!0},p(f,g){(!u||g&8)&&J(a,f[3])},i(f){u||(c&&c.end(1),u=!0)},o(f){c=on(e,fn,{duration:300}),u=!1},d(f){f&&h(e),n[9](null),n[10](null),f&&c&&c.end()}}}function nl(n){let e,t,s,l;return{c(){e=m("div"),t=m("button"),t.textContent="Click here to continue.",d(e,"class","fullcenter svelte-1wxvzf2")},m(r,o){b(r,e,o),v(e,t),s||(l=j(t,"click",n[8]),s=!0)},p:x,i:x,o:x,d(r){r&&h(e),s=!1,l()}}}function sl(n){let e,t,s,l,r,o;return{c(){e=m("button"),e.textContent=`Use saved login (${localStorage.getItem("meower_savedusername")})`,t=z(),s=m("p"),l=C(n[3]),d(e,"class","svelte-1wxvzf2"),d(s,"class","small svelte-1wxvzf2")},m(i,a){b(i,e,a),b(i,t,a),b(i,s,a),v(s,l),r||(o=j(e,"click",n[13]),r=!0)},p(i,a){a&8&&J(l,i[3])},d(i){i&&h(e),i&&h(t),i&&h(s),r=!1,o()}}}function ll(n){let e,t,s,l,r;const o=[nl,tl,el,Zs,Xs,Qs,Vs,Js,Ks],i=[];function a(c,u){return c[6]==="start"?0:c[6]==="logo"?1:c[6]==="reconnect"?2:c[6]==="welcome"?3:c[6]==="login"?4:c[6]==="join"?5:c[6]==="blank"?6:c[6]==="go"?7:8}return t=a(n),s=i[t]=o[t](n),{c(){e=m("div"),s.c(),d(e,"class","setup white svelte-1wxvzf2")},m(c,u){b(c,e,u),i[t].m(e,null),n[24](e),r=!0},p(c,[u]){let f=t;t=a(c),t===f?i[t].p(c,u):(ae(),P(i[f],1,1,()=>{i[f]=null}),ce(),s=i[t],s?s.p(c,u):(s=i[t]=o[t](c),s.c()),E(s,1),s.m(e,null))},i(c){r||(E(s),l&&l.end(1),r=!0)},o(c){P(s),l=on(e,fn,{duration:300}),r=!1},d(c){c&&h(e),i[t].d(),n[24](null),c&&l&&l.end()}}}function ol(n,e,t){let s;V(n,K,M=>t(6,s=M));const l=O;let r,o,i,a="",c=!1;async function u(){await Mt(),Gn(),await new Promise(M=>l.once("connected",M))}let f=!1;en(()=>{K.subscribe(async M=>{!o||(t(5,f=!1),t(4,c=!1),o.classList.remove("white"),M==="start"?Mt():M==="logo"?(t(3,a=""),await Le(),o.classList.add("white"),t(2,i.height=0,i),r.classList.remove("top"),await de(300),t(2,i.height=80,i),await de(300),o.classList.remove("white"),t(2,i.height=40,i),r.classList.add("top"),await de(700),t(3,a="Connecting..."),await u(),await de(800),t(3,a=""),K.set("blank"),await de(600),K.set("welcome")):M==="reconnect"&&(await u(),await de(100),K.set("welcome")))})});function g(M,G){try{t(3,a="Logging in..."),ve({cmd:"direct",val:{cmd:"authpswd",val:{username:M,pswd:G}}}).then(async H=>{try{const D=await ve({cmd:"direct",val:{cmd:"get_profile",val:H.payload.username}});Q.update(le=>Object.assign(le,{...D.payload,name:H.payload.username})),f&&(localStorage.setItem("meower_savedusername",M),localStorage.setItem("meower_savedpassword",G)),ge.set("main")}catch(D){console.error(D),t(3,a="Unexpected "+D+" error getting user data!")}}).catch(H=>{H=="E:103 | ID not found"?t(3,a="Invalid username!"):H=="I:011 | Invalid Password"?t(3,a="Invalid password!"):H=="E:018 | Account Banned"?t(3,a="This account is banned. L :("):H=="E:107 | Packet too large"?t(3,a="The username and/or password is too long!"):H=="E:019 | Illegal characters detected"?t(3,a="Usernames must not have spaces or other special characters!"):t(3,a=`Unexpected ${H} error!`)})}catch(H){console.error(H),t(3,a="Error logging in: "+H)}}const p=()=>K.set("logo");function _(M){Ce[M?"unshift":"push"](()=>{i=M,t(2,i)})}function y(M){Ce[M?"unshift":"push"](()=>{r=M,t(0,r)})}const k=()=>K.set("login"),$=()=>K.set("join"),w=()=>{g(localStorage.getItem("meower_savedusername"),localStorage.getItem("meower_savedpassword"))},S=()=>{Q.set(tt()),t(3,a=""),K.set("blank"),ge.set("main")};function R(){f=this.checked,t(5,f)}const I=()=>(K.set("welcome"),t(3,a=""),!1),L=()=>(localStorage.removeItem("meower_savedusername"),localStorage.removeItem("meower_savedpassword"),t(3,a="Saved login cleared."),!1),N=M=>M.target[0].value&&M.target[1].value?(g(M.target[0].value,M.target[1].value),!1):(t(3,a="You must specify a username and a password to login!"),!1);function q(){f=this.checked,t(5,f)}function W(){c=this.checked,t(4,c)}const Y=()=>(K.set("welcome"),t(3,a=""),!1),B=M=>{const G=M.target[0].value,H=M.target[1].value;if(!(G&&H))return t(3,a="You must specify a username and a password to create an account!"),!1;t(3,a="Creating account..."),ve({cmd:"direct",val:{cmd:"gen_account",val:{username:G,pswd:H}},listener:"join"}).then(async D=>{if(D.mode==="auth"&&D.payload===G){t(3,a="Getting user data...");const le=await ve({cmd:"direct",val:{cmd:"get_profile",val:D.payload}});Q.update(un=>Object.assign(un,{...le.payload,name:D.payload})),t(3,a=""),f&&(localStorage.setItem("meower_savedusername",G),localStorage.setItem("meower_savedpassword",H)),K.set("go"),await de(1e3),ge.set("main")}else t(3,a="Unexpected error logging in!")}).catch(D=>{D==="I:015 | Account exists"?t(3,a="The account already exists!"):D=="E:107 | Packet too large"?t(3,a="The username and/or password is too long!"):(console.error(D),t(3,a="Unexpected "+D+" error!"))})},me=()=>K.set("page2");function se(M){Ce[M?"unshift":"push"](()=>{o=M,t(1,o)})}return[r,o,i,a,c,f,s,g,p,_,y,k,$,w,S,R,I,L,N,q,W,Y,B,me,se]}class rl extends ee{constructor(e){super(),Z(this,e,ol,ll,X,{})}}function il(n){let e;return{c(){e=m("div"),d(e,"class","spinner check svelte-o9ugf6")},m(t,s){b(t,e,s)},p:x,i:x,o:x,d(t){t&&h(e)}}}class al extends ee{constructor(e){super(),Z(this,e,null,il,X,{})}}function cl(n){let e,t;return e=new Gs({}),{c(){F(e.$$.fragment)},m(s,l){U(e,s,l),t=!0},p:x,i(s){t||(E(e.$$.fragment,s),t=!0)},o(s){P(e.$$.fragment,s),t=!1},d(s){A(e,s)}}}function fl(n){let e,t;return e=new rl({}),{c(){F(e.$$.fragment)},m(s,l){U(e,s,l),t=!0},p:x,i(s){t||(E(e.$$.fragment,s),t=!0)},o(s){P(e.$$.fragment,s),t=!1},d(s){A(e,s)}}}function ul(n){let e,t,s,l,r,o,i,a,c,u,f;function g(y,k){return y[2]===""?gl:y[2]==="E:119 | IP Blocked"?pl:dl}let p=g(n),_=p(n);return{c(){e=m("div"),t=m("div"),s=m("h1"),s.textContent="Me-owch.",l=z(),_.c(),r=z(),o=m("br"),i=m("br"),a=z(),c=m("button"),c.textContent="Reconnect!",d(t,"class","disconnected-inner"),d(e,"class","disconnected svelte-1rfvb7")},m(y,k){b(y,e,k),v(e,t),v(t,s),v(t,l),_.m(t,null),v(t,r),v(t,o),v(t,i),v(t,a),v(t,c),u||(f=j(c,"click",n[5]),u=!0)},p(y,k){p===(p=g(y))&&_?_.p(y,k):(_.d(1),_=p(y),_&&(_.c(),_.m(t,r)))},i:x,o:x,d(y){y&&h(e),_.d(),u=!1,f()}}}function dl(n){let e,t,s,l,r;return{c(){e=C(`We ran into an error trying to connect to the server.
					`),t=m("pre"),s=m("code"),l=C(n[2]),r=C(`
					Reconnect using the below button:`)},m(o,i){b(o,e,i),b(o,t,i),v(t,s),v(s,l),b(o,r,i)},p(o,i){i&4&&J(l,o[2])},d(o){o&&h(e),o&&h(t),o&&h(r)}}}function pl(n){let e,t=O.ip+"",s,l,r,o,i,a,c,u,f,g;return{c(){e=C("The server has blocked your IP address ("),s=C(t),l=C(`).
					`),r=m("br"),o=C(`
					This might be due to an extension blocking the URL used to get your IP
					`),i=m("br"),a=C(`
					address (`),c=C(Be),u=C(`ip), or the Meower team actually blocking your IP.
					`),f=m("br"),g=C(`
					Attempt reconnecting using the below button:`)},m(p,_){b(p,e,_),b(p,s,_),b(p,l,_),b(p,r,_),b(p,o,_),b(p,i,_),b(p,a,_),b(p,c,_),b(p,u,_),b(p,f,_),b(p,g,_)},p:x,d(p){p&&h(e),p&&h(s),p&&h(l),p&&h(r),p&&h(o),p&&h(i),p&&h(a),p&&h(c),p&&h(u),p&&h(f),p&&h(g)}}}function gl(n){let e;return{c(){e=C(`You have been disconnected.
					Reconnect using the below button:`)},m(t,s){b(t,e,s)},p:x,d(t){t&&h(e)}}}function Ht(n){let e,t,s;return t=new al({}),{c(){e=m("div"),F(t.$$.fragment),d(e,"class","spinner-container svelte-1rfvb7")},m(l,r){b(l,e,r),U(t,e,null),s=!0},i(l){s||(E(t.$$.fragment,l),s=!0)},o(l){P(t.$$.fragment,l),s=!1},d(l){l&&h(e),A(t)}}}function ml(n){let e,t,s,l,r;const o=[ul,fl,cl],i=[];function a(u,f){return u[1]?0:u[3]==="setup"?1:2}t=a(n),s=i[t]=o[t](n);let c=n[4]&&Ht();return{c(){e=m("main"),s.c(),l=z(),c&&c.c(),d(e,"id","main"),d(e,"class","svelte-1rfvb7"),T(e,"theme-orange",n[0].theme==="orange"),T(e,"theme-blue",n[0].theme==="blue"),T(e,"mode-light",n[0].mode!==!1),T(e,"mode-dark",n[0].mode===!1),T(e,"layout-old",n[0].layout==="old")},m(u,f){b(u,e,f),i[t].m(e,null),v(e,l),c&&c.m(e,null),r=!0},p(u,[f]){let g=t;t=a(u),t===g?i[t].p(u,f):(ae(),P(i[g],1,1,()=>{i[g]=null}),ce(),s=i[t],s?s.p(u,f):(s=i[t]=o[t](u),s.c()),E(s,1),s.m(e,l)),u[4]?c?f&16&&E(c,1):(c=Ht(),c.c(),E(c,1),c.m(e,null)):c&&(ae(),P(c,1,1,()=>{c=null}),ce()),f&1&&T(e,"theme-orange",u[0].theme==="orange"),f&1&&T(e,"theme-blue",u[0].theme==="blue"),f&1&&T(e,"mode-light",u[0].mode!==!1),f&1&&T(e,"mode-dark",u[0].mode===!1),f&1&&T(e,"layout-old",u[0].layout==="old")},i(u){r||(E(s),E(c),r=!0)},o(u){P(s),P(c),r=!1},d(u){u&&h(e),i[t].d(),c&&c.d()}}}function vl(n,e,t){let s,l,r,o,i;return V(n,Q,c=>t(0,s=c)),V(n,he,c=>t(1,l=c)),V(n,Ke,c=>t(2,r=c)),V(n,ge,c=>t(3,o=c)),V(n,ye,c=>t(4,i=c)),ge.set("setup"),K.set("start"),[s,l,r,o,i,async()=>{ge.set("setup"),he.set(!1),await Le(),K.set("reconnect")}]}class _l extends ee{constructor(e){super(),Z(this,e,vl,ml,X,{})}}new _l({target:document.getElementById("app")});
