const dn=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerpolicy&&(r.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?r.credentials="include":l.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(l){if(l.ep)return;l.ep=!0;const r=t(l);fetch(l.href,r)}};dn();function j(){}const Be=n=>n;function mn(n,e){for(const t in e)n[t]=e[t];return n}function pn(n){return n&&typeof n=="object"&&typeof n.then=="function"}function Wt(n){return n()}function lt(){return Object.create(null)}function te(n){n.forEach(Wt)}function Fe(n){return typeof n=="function"}function X(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let Le;function ne(n,e){return Le||(Le=document.createElement("a")),Le.href=e,n===Le.href}function gn(n){return Object.keys(n).length===0}function _n(n,...e){if(n==null)return j;const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function V(n,e,t){n.$$.on_destroy.push(_n(e,t))}function vn(n,e,t,s){if(n){const l=Yt(n,e,t,s);return n[0](l)}}function Yt(n,e,t,s){return n[1]&&s?mn(t.ctx.slice(),n[1](s(e))):t.ctx}function bn(n,e,t,s){if(n[2]&&s){const l=n[2](s(t));if(e.dirty===void 0)return l;if(typeof l=="object"){const r=[],o=Math.max(e.dirty.length,l.length);for(let i=0;i<o;i+=1)r[i]=e.dirty[i]|l[i];return r}return e.dirty|l}return e.dirty}function hn(n,e,t,s,l,r){if(l){const o=Yt(e,t,s,r);n.p(o,l)}}function kn(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let s=0;s<t;s++)e[s]=-1;return e}return-1}const Gt=typeof window!="undefined";let Je=Gt?()=>window.performance.now():()=>Date.now(),Ve=Gt?n=>requestAnimationFrame(n):j;const he=new Set;function Kt(n){he.forEach(e=>{e.c(n)||(he.delete(e),e.f())}),he.size!==0&&Ve(Kt)}function Qe(n){let e;return he.size===0&&Ve(Kt),{promise:new Promise(t=>{he.add(e={c:n,f:t})}),abort(){he.delete(e)}}}function _(n,e){n.appendChild(e)}function Jt(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function wn(n){const e=g("style");return yn(Jt(n),e),e.sheet}function yn(n,e){_(n.head||n,e)}function h(n,e,t){n.insertBefore(e,t||null)}function b(n){n.parentNode.removeChild(n)}function Vt(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function g(n){return document.createElement(n)}function z(n){return document.createTextNode(n)}function x(){return z(" ")}function Qt(){return z("")}function P(n,e,t,s){return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t,s)}function ke(n){return function(e){return e.preventDefault(),n.call(this,e)}}function f(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function $n(n){return Array.from(n.childNodes)}function K(n,e){e=""+e,n.wholeText!==e&&(n.data=e)}function Pe(n,e,t,s){t===null?n.style.removeProperty(e):n.style.setProperty(e,t,s?"important":"")}function J(n,e,t){n.classList[t?"add":"remove"](e)}function jn(n,e,{bubbles:t=!1,cancelable:s=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(n,t,s,e),l}const Re=new Map;let Ne=0;function xn(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function zn(n,e){const t={stylesheet:wn(e),rules:{}};return Re.set(n,t),t}function De(n,e,t,s,l,r,o,i=0){const a=16.666/s;let c=`{
`;for(let w=0;w<=1;w+=a){const $=e+(t-e)*r(w);c+=w*100+`%{${o($,1-$)}}
`}const d=c+`100% {${o(t,1-t)}}
}`,u=`__svelte_${xn(d)}_${i}`,m=Jt(n),{stylesheet:p,rules:v}=Re.get(m)||zn(m,n);v[u]||(v[u]=!0,p.insertRule(`@keyframes ${u} ${d}`,p.cssRules.length));const y=n.style.animation||"";return n.style.animation=`${y?`${y}, `:""}${u} ${s}ms linear ${l}ms 1 both`,Ne+=1,u}function Xe(n,e){const t=(n.style.animation||"").split(", "),s=t.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),l=t.length-s.length;l&&(n.style.animation=s.join(", "),Ne-=l,Ne||Sn())}function Sn(){Ve(()=>{Ne||(Re.forEach(n=>{const{stylesheet:e}=n;let t=e.cssRules.length;for(;t--;)e.deleteRule(t);n.rules={}}),Re.clear())})}function Cn(n,e,t,s){if(!e)return j;const l=n.getBoundingClientRect();if(e.left===l.left&&e.right===l.right&&e.top===l.top&&e.bottom===l.bottom)return j;const{delay:r=0,duration:o=300,easing:i=Be,start:a=Je()+r,end:c=a+o,tick:d=j,css:u}=t(n,{from:e,to:l},s);let m=!0,p=!1,v;function y(){u&&(v=De(n,0,1,o,r,i,u)),r||(p=!0)}function w(){u&&Xe(n,v),m=!1}return Qe($=>{if(!p&&$>=a&&(p=!0),p&&$>=c&&(d(1,0),w()),!m)return!1;if(p){const k=$-a,S=0+1*i(k/o);d(S,1-S)}return!0}),y(),d(0,1),w}function En(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:s}=e,l=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=s,Xt(n,l)}}function Xt(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const s=getComputedStyle(n),l=s.transform==="none"?"":s.transform;n.style.transform=`${l} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let Ce;function ue(n){Ce=n}function Zt(){if(!Ce)throw new Error("Function called outside component initialization");return Ce}function en(n){Zt().$$.on_mount.push(n)}const xe=[],ze=[],Me=[],ot=[],tn=Promise.resolve();let Ge=!1;function nn(){Ge||(Ge=!0,tn.then(Ze))}function Ee(){return nn(),tn}function ye(n){Me.push(n)}const We=new Set;let qe=0;function Ze(){const n=Ce;do{for(;qe<xe.length;){const e=xe[qe];qe++,ue(e),Ln(e.$$)}for(ue(null),xe.length=0,qe=0;ze.length;)ze.pop()();for(let e=0;e<Me.length;e+=1){const t=Me[e];We.has(t)||(We.add(t),t())}Me.length=0}while(xe.length);for(;ot.length;)ot.pop()();Ge=!1,We.clear(),ue(n)}function Ln(n){if(n.fragment!==null){n.update(),te(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(ye)}}let je;function sn(){return je||(je=Promise.resolve(),je.then(()=>{je=null})),je}function Se(n,e,t){n.dispatchEvent(jn(`${e?"intro":"outro"}${t}`))}const Oe=new Set;let re;function ie(){re={r:0,c:[],p:re}}function ae(){re.r||te(re.c),re=re.p}function C(n,e){n&&n.i&&(Oe.delete(n),n.i(e))}function E(n,e,t,s){if(n&&n.o){if(Oe.has(n))return;Oe.add(n),re.c.push(()=>{Oe.delete(n),s&&(t&&n.d(1),s())}),n.o(e)}else s&&s()}const ln={duration:0};function on(n,e,t){let s=e(n,t),l=!0,r;const o=re;o.r+=1;function i(){const{delay:a=0,duration:c=300,easing:d=Be,tick:u=j,css:m}=s||ln;m&&(r=De(n,1,0,c,a,d,m));const p=Je()+a,v=p+c;ye(()=>Se(n,!1,"start")),Qe(y=>{if(l){if(y>=v)return u(0,1),Se(n,!1,"end"),--o.r||te(o.c),!1;if(y>=p){const w=d((y-p)/c);u(1-w,w)}}return l})}return Fe(s)?sn().then(()=>{s=s(),i()}):i(),{end(a){a&&s.tick&&s.tick(1,0),l&&(r&&Xe(n,r),l=!1)}}}function rt(n,e,t,s){let l=e(n,t),r=s?0:1,o=null,i=null,a=null;function c(){a&&Xe(n,a)}function d(m,p){const v=m.b-r;return p*=Math.abs(v),{a:r,b:m.b,d:v,duration:p,start:m.start,end:m.start+p,group:m.group}}function u(m){const{delay:p=0,duration:v=300,easing:y=Be,tick:w=j,css:$}=l||ln,k={start:Je()+p,b:m};m||(k.group=re,re.r+=1),o||i?i=k:($&&(c(),a=De(n,r,m,v,p,y,$)),m&&w(0,1),o=d(k,v),ye(()=>Se(n,m,"start")),Qe(S=>{if(i&&S>i.start&&(o=d(i,v),i=null,Se(n,o.b,"start"),$&&(c(),a=De(n,r,o.b,o.duration,0,y,l.css))),o){if(S>=o.end)w(r=o.b,1-r),Se(n,o.b,"end"),i||(o.b?c():--o.group.r||te(o.group.c)),o=null;else if(S>=o.start){const M=S-o.start;r=o.a+o.d*y(M/o.duration),w(r,1-r)}}return!!(o||i)}))}return{run(m){Fe(l)?sn().then(()=>{l=l(),u(m)}):u(m)},end(){c(),o=i=null}}}function Pn(n,e){const t=e.token={};function s(l,r,o,i){if(e.token!==t)return;e.resolved=i;let a=e.ctx;o!==void 0&&(a=a.slice(),a[o]=i);const c=l&&(e.current=l)(a);let d=!1;e.block&&(e.blocks?e.blocks.forEach((u,m)=>{m!==r&&u&&(ie(),E(u,1,1,()=>{e.blocks[m]===u&&(e.blocks[m]=null)}),ae())}):e.block.d(1),c.c(),C(c,1),c.m(e.mount(),e.anchor),d=!0),e.block=c,e.blocks&&(e.blocks[r]=c),d&&Ze()}if(pn(n)){const l=Zt();if(n.then(r=>{ue(l),s(e.then,1,e.value,r),ue(null)},r=>{if(ue(l),s(e.catch,2,e.error,r),ue(null),!e.hasCatch)throw r}),e.current!==e.pending)return s(e.pending,0),!0}else{if(e.current!==e.then)return s(e.then,1,e.value,n),!0;e.resolved=n}}function qn(n,e,t){const s=e.slice(),{resolved:l}=n;n.current===n.then&&(s[n.value]=l),n.current===n.catch&&(s[n.error]=l),n.block.p(s,t)}function In(n,e){E(n,1,1,()=>{e.delete(n.key)})}function Mn(n,e){n.f(),In(n,e)}function On(n,e,t,s,l,r,o,i,a,c,d,u){let m=n.length,p=r.length,v=m;const y={};for(;v--;)y[n[v].key]=v;const w=[],$=new Map,k=new Map;for(v=p;v--;){const L=u(l,r,v),N=t(L);let T=o.get(N);T?s&&T.p(L,e):(T=c(N,L),T.c()),$.set(N,w[v]=T),N in y&&k.set(N,Math.abs(v-y[N]))}const S=new Set,M=new Set;function I(L){C(L,1),L.m(i,d),o.set(L.key,L),d=L.first,p--}for(;m&&p;){const L=w[p-1],N=n[m-1],T=L.key,F=N.key;L===N?(d=L.first,m--,p--):$.has(F)?!o.has(T)||S.has(T)?I(L):M.has(F)?m--:k.get(T)>k.get(F)?(M.add(T),I(L)):(S.add(F),m--):(a(N,o),m--)}for(;m--;){const L=n[m];$.has(L.key)||a(L,o)}for(;p;)I(w[p-1]);return w}function A(n){n&&n.c()}function D(n,e,t,s){const{fragment:l,on_mount:r,on_destroy:o,after_update:i}=n.$$;l&&l.m(e,t),s||ye(()=>{const a=r.map(Wt).filter(Fe);o?o.push(...a):te(a),n.$$.on_mount=[]}),i.forEach(ye)}function U(n,e){const t=n.$$;t.fragment!==null&&(te(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Tn(n,e){n.$$.dirty[0]===-1&&(xe.push(n),nn(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function Z(n,e,t,s,l,r,o,i=[-1]){const a=Ce;ue(n);const c=n.$$={fragment:null,ctx:null,props:r,update:j,not_equal:l,bound:lt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:lt(),dirty:i,skip_bound:!1,root:e.target||a.$$.root};o&&o(c.root);let d=!1;if(c.ctx=t?t(n,e.props||{},(u,m,...p)=>{const v=p.length?p[0]:m;return c.ctx&&l(c.ctx[u],c.ctx[u]=v)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](v),d&&Tn(n,u)),m}):[],c.update(),d=!0,te(c.before_update),c.fragment=s?s(c.ctx):!1,e.target){if(e.hydrate){const u=$n(e.target);c.fragment&&c.fragment.l(u),u.forEach(b)}else c.fragment&&c.fragment.c();e.intro&&C(n.$$.fragment),D(n,e.target,e.anchor,e.customElement),Ze()}ue(a)}class ee{$destroy(){U(this,1),this.$destroy=j}$on(e,t){const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(t),()=>{const l=s.indexOf(t);l!==-1&&s.splice(l,1)}}$set(e){this.$$set&&!gn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const _e=[];function fe(n,e=j){let t;const s=new Set;function l(i){if(X(n,i)&&(n=i,t)){const a=!_e.length;for(const c of s)c[1](),_e.push(c,n);if(a){for(let c=0;c<_e.length;c+=2)_e[c][0](_e[c+1]);_e.length=0}}}function r(i){l(i(n))}function o(i,a=j){const c=[i,a];return s.add(c),s.size===1&&(t=e(l)||j),i(n),()=>{s.delete(c),s.size===0&&(t(),t=null)}}return{set:l,update:r,subscribe:o}}const pe=fe("setup"),Ue=fe("home"),G=fe("start"),ve=fe(!1),Ke=fe(""),be=fe({}),$e=fe([]),Q=fe({name:null,theme:"orange",mode:!0,sfx:!0,bgm:!0,bgm_song:10,layout:"new",pfp_data:1,quote:""}),we=fe(!1);function Rn(n){let e,t;const s=n[1].default,l=vn(s,n,n[0],null);return{c(){e=g("div"),l&&l.c(),f(e,"class","svelte-6zv9mh")},m(r,o){h(r,e,o),l&&l.m(e,null),t=!0},p(r,[o]){l&&l.p&&(!t||o&1)&&hn(l,s,r,r[0],t?bn(s,r[0],o,null):kn(r[0]),null)},i(r){t||(C(l,r),t=!0)},o(r){E(l,r),t=!1},d(r){r&&b(e),l&&l.d(r)}}}function Nn(n,e,t){let{$$slots:s={},$$scope:l}=e;return n.$$set=r=>{"$$scope"in r&&t(0,l=r.$$scope)},[l,s]}class oe extends ee{constructor(e){super(),Z(this,e,Nn,Rn,X,{})}}var it="./assets/icon_0.ab82a5ad.svg",at="./assets/icon_1.3649891f.svg",ct="./assets/icon_10.4bd3e33c.svg",ut="./assets/icon_11.521812d2.svg",ft="./assets/icon_12.0f7ed126.svg",dt="./assets/icon_13.58e2dcbb.svg",mt="./assets/icon_14.6513f659.svg",pt="./assets/icon_15.d1b06a28.svg",gt="./assets/icon_16.e5e55f53.svg",_t="./assets/icon_17.39e35340.svg",vt="./assets/icon_18.dc1f4b4e.svg",bt="./assets/icon_19.8ad18d14.svg",ht="./assets/icon_2.03a60034.svg",kt="./assets/icon_20.d1301d19.svg",wt="./assets/icon_21.2ef6b9a3.svg",yt="./assets/icon_22.c642b6ff.svg",$t="./assets/icon_3.79effa11.svg",jt="./assets/icon_4.078d1185.svg",xt="./assets/icon_5.656d31e0.svg",zt="./assets/icon_6.d72d5ba2.svg",St="./assets/icon_7.16e301c0.svg",Ct="./assets/icon_8.515d5ae7.svg",Et="./assets/icon_9.25c74dcc.svg",Lt="./assets/icon_err.8c194397.svg";function Pt(n){let e;return{c(){e=g("span"),f(e,"class","online svelte-krg3mg")},m(t,s){h(t,e,s)},d(t){t&&b(e)}}}function Dn(n){let e,t,s,l,r,o=n[2]&&Pt();return{c(){e=g("span"),o&&o.c(),t=x(),s=g("span"),l=g("img"),f(l,"alt",n[1]),f(l,"title",n[1]),ne(l.src,r=new URL({"./../assets/avatars/icon_0.svg":it,"./../assets/avatars/icon_1.svg":at,"./../assets/avatars/icon_10.svg":ct,"./../assets/avatars/icon_11.svg":ut,"./../assets/avatars/icon_12.svg":ft,"./../assets/avatars/icon_13.svg":dt,"./../assets/avatars/icon_14.svg":mt,"./../assets/avatars/icon_15.svg":pt,"./../assets/avatars/icon_16.svg":gt,"./../assets/avatars/icon_17.svg":_t,"./../assets/avatars/icon_18.svg":vt,"./../assets/avatars/icon_19.svg":bt,"./../assets/avatars/icon_2.svg":ht,"./../assets/avatars/icon_20.svg":kt,"./../assets/avatars/icon_21.svg":wt,"./../assets/avatars/icon_22.svg":yt,"./../assets/avatars/icon_3.svg":$t,"./../assets/avatars/icon_4.svg":jt,"./../assets/avatars/icon_5.svg":xt,"./../assets/avatars/icon_6.svg":zt,"./../assets/avatars/icon_7.svg":St,"./../assets/avatars/icon_8.svg":Ct,"./../assets/avatars/icon_9.svg":Et,"./../assets/avatars/icon_err.svg":Lt}[`./../assets/avatars/icon_${n[0]<1?n[0]===-1?21:"err":n[0]<=23?n[0]-1:"err"}.svg`],self.location).href)||f(l,"src",r),f(l,"draggable",!1),f(l,"width","auto"),f(l,"height","100%"),f(l,"class","svelte-krg3mg"),J(l,"loading",n[0]===-1),f(s,"class","pfp svelte-krg3mg"),f(e,"class","pfp-container svelte-krg3mg"),J(e,"big",n[3])},m(i,a){h(i,e,a),o&&o.m(e,null),_(e,t),_(e,s),_(s,l)},p(i,[a]){i[2]?o||(o=Pt(),o.c(),o.m(e,t)):o&&(o.d(1),o=null),a&2&&f(l,"alt",i[1]),a&2&&f(l,"title",i[1]),a&1&&!ne(l.src,r=new URL({"./../assets/avatars/icon_0.svg":it,"./../assets/avatars/icon_1.svg":at,"./../assets/avatars/icon_10.svg":ct,"./../assets/avatars/icon_11.svg":ut,"./../assets/avatars/icon_12.svg":ft,"./../assets/avatars/icon_13.svg":dt,"./../assets/avatars/icon_14.svg":mt,"./../assets/avatars/icon_15.svg":pt,"./../assets/avatars/icon_16.svg":gt,"./../assets/avatars/icon_17.svg":_t,"./../assets/avatars/icon_18.svg":vt,"./../assets/avatars/icon_19.svg":bt,"./../assets/avatars/icon_2.svg":ht,"./../assets/avatars/icon_20.svg":kt,"./../assets/avatars/icon_21.svg":wt,"./../assets/avatars/icon_22.svg":yt,"./../assets/avatars/icon_3.svg":$t,"./../assets/avatars/icon_4.svg":jt,"./../assets/avatars/icon_5.svg":xt,"./../assets/avatars/icon_6.svg":zt,"./../assets/avatars/icon_7.svg":St,"./../assets/avatars/icon_8.svg":Ct,"./../assets/avatars/icon_9.svg":Et,"./../assets/avatars/icon_err.svg":Lt}[`./../assets/avatars/icon_${i[0]<1?i[0]===-1?21:"err":i[0]<=23?i[0]-1:"err"}.svg`],self.location).href)&&f(l,"src",r),a&1&&J(l,"loading",i[0]===-1),a&8&&J(e,"big",i[3])},i:j,o:j,d(i){i&&b(e),o&&o.d()}}}function Un(n,e,t){let{icon:s=-1}=e,{alt:l="Profile picture"}=e,{online:r=!1}=e,{big:o=!1}=e;return n.$$set=i=>{"icon"in i&&t(0,s=i.icon),"alt"in i&&t(1,l=i.alt),"online"in i&&t(2,r=i.online),"big"in i&&t(3,o=i.big)},[s,l,r,o]}class et extends ee{constructor(e){super(),Z(this,e,Un,Dn,X,{icon:0,alt:1,online:2,big:3})}}function An(n){let e,t;return{c(){e=g("span"),t=z(n[0]),f(e,"title",n[1]),f(e,"class","date svelte-190wm28")},m(s,l){h(s,e,l),_(e,t)},p(s,[l]){l&1&&K(t,s[0]),l&2&&f(e,"title",s[1])},i:j,o:j,d(s){s&&b(e)}}}function Bn(n,e,t){let{date:s=0}=e,l,r;return n.$$set=o=>{"date"in o&&t(2,s=o.date)},n.$$.update=()=>{if(n.$$.dirty&4){const o=new Date(s*1e3);t(0,l=o.toLocaleString()),t(1,r=`Time is in your local timezone (UTC+${-(o.getTimezoneOffset()/60)}).
12-hour time: ${o.toLocaleString([],{hourCycle:"h11"})}
24-hour time: ${o.toLocaleString([],{hourCycle:"h23"})}
ISO: ${o.toISOString()}`)}},[l,r,s]}class Fn extends ee{constructor(e){super(),Z(this,e,Bn,An,X,{date:2})}}function de(n){return new Promise(e=>setTimeout(e,n))}const Hn=localStorage.getItem("meower_linkurl")||"wss://server.meower.org/",Ae=localStorage.getItem("meower_apiurl")||"https://api.meower.org/",Wn=localStorage.getItem("meower_encodeapi")||!1;class Yn{constructor(e){return this.events={},this._numevents=1,this.ip=null,e&&this.connect(e),this}_console(e,t,s){const l=Array.from(arguments).slice(2),r="%o".repeat(l.length);console[e](`%cCLJS%c${t}%c ${r}`,"background:#0fbd8c;color:white;font-weight:bold;border-radius:4px 0 0 4px;padding:0 3px;display:inline-block","background:#000;color:white;font-weight:bold;border-radius:0 4px 4px 0;padding:0 3px;display:inline-block","",...l)}log(e,t){this._console.apply(this,["log",...arguments])}warn(e,t){this._console.apply(this,["warn",...arguments])}error(e,t){this._console.apply(this,["error",...arguments])}connect(e){return new Promise((t,s)=>{try{this.ws&&this.ws.readyState===1&&(this.log("connection","already connected, disconnecting..."),this.disconnect(1e3,"Intentional disconnect")),this.ws=new WebSocket(e),this.emit("connectionstart"),this.ws.addEventListener("open",async()=>{try{this.log("connection","connected to websockets");const l=localStorage.getItem("meower_ip");l||l===""?this.ip=l:this.ip=await(await fetch(Ae+"ip")).text(),this.send({cmd:"direct",val:{cmd:"ip",val:this.ip}}),await de(100),this.send({cmd:"direct",val:{cmd:"type",val:"js"},listener:"send_type"});const r=this.sendListener({cmd:"direct",val:"meower",listener:"send_tkey"},o=>{o.cmd==="statuscode"&&(this.off(r),o.val==="I:100 | OK"?(t(),this.log("connection","successfully connected")):(s(o.val),this.error("connection","error connecting; code:",o.val)))});this.emit("connected")}catch(l){this.error("connection","error connecting:",l),s(l)}}),this.ws.addEventListener("message",l=>{const r=JSON.parse(l.data);this.log("< incoming",r),this.emit(r.cmd,r),r.listener&&this.emit("__listener_"+r.listener,r)}),this.ws.addEventListener("close",l=>{this.log("connection","disconnected with code ",l.code," and reason",l.reason),this.emit("disconnected",l)}),this.ws.addEventListener("error",l=>{this.error("connection","error:",l),this.emit("error",l)})}catch(l){s(l)}})}send(e){if(!this.ws||this.ws.readyState!==1)throw new Error("Not connected; use link.connect(server) to connect");this.log("> outgoing",e),this.ws.send(JSON.stringify(e))}sendListener(e,t){if(!e.listener)throw new Error("data must have a listener");return this.send(e),this.onListener(e.listener,t)}on(e,t){this._numevents++;const s=(this._numevents-1).toString();return this.events[s]={event:e,cb:t},s}onListener(e,t){return this.on("__listener_"+e,t)}off(e){if(!this.events[e])throw new Error("Tried to remove nonexistent listener");delete this.events[e]}once(e,t){const s=this.on(e,()=>{t(arguments),this.off(s)})}emit(e,t){Object.values(this.events).forEach(s=>{s.event===e&&s.cb(t)})}disconnect(e,t){!this.ws||this.ws.readyState!==1||(console.log(e,t),this.ws.close(e,t))}}function tt(){return{name:null,theme:"orange",mode:!0,sfx:!0,bgm:!0,bgm_song:10,layout:"new",pfp_data:1,quote:""}}let rn=null;Q.subscribe(n=>rn=n);const O=new Yn;window.cljs=O;O.log("manager","started");let Ye=null,me=null,Ie=null,le=null;async function Gn(){Ye&&(O.off(Ye),me=null),me&&(O.off(me),me=null),Ie&&(O.off(Ie),Ie=null),le&&(clearInterval(le),le=null),Ke.set(""),O.once("connectionstart",()=>{Ye=O.on("connected",()=>{ve.set(!1),le=setInterval(()=>{O.send({cmd:"ping",val:""})},1e4)}),me=O.on("disconnected",n=>{$e.set([]),n.reason!=="Intentional disconnect"&&ve.set(!0),Q.set(tt()),le&&(clearInterval(le),le=null)}),Ie=O.on("ulist",n=>{const e=n.val.split(";");e[e.length-1]===""&&e.pop(),$e.set(e)})}),ve.set(!1);try{return await O.connect(Hn)}catch(n){return O.disconnect(),Ke.set(n),ve.set(!0),O.error("manager","conenction error:",n),n}}async function qt(){return O.ws?O.ws.readyState!==1?(O.log("manager","already disconnected or disconnecting, cancelling safe disconnect"),new Promise(n=>n())):(O.log("manager","safely disconnecting"),new Promise(n=>{$e.set([]),Q.set(tt()),me&&(O.off(me),me=null),le&&(clearInterval(le),le=null),O.once("disconnected",n),O.disconnect(1e3,"Intentional disconnect")})):(O.log("manager","websocket not present, cancelling safe disconnect"),new Promise(n=>n()))}async function ge(n){return O.log("manager","meower request",n),we.set(!0),new Promise((e,t)=>{let s=null;const l=setTimeout(()=>{t("Timed out"),we.set(!1)},1e4),r=O.sendListener({...n,listener:"listener_"+Math.floor(Math.random()*1e7)},o=>{o.cmd==="statuscode"?(O.off(r),we.set(!1),clearTimeout(l),o.val==="I:100 | OK"?e(s):t(o.val)):o.cmd==="direct"&&(s=o.val)})})}async function Te(){const n=rn;return ge({cmd:"direct",val:{cmd:"update_config",val:{theme:n.theme,mode:n.mode,sfx:n.sfx,bgm:n.bgm,bgm_song:n.bgm_song,layout:n.layout,pfp_data:n.pfp_data,quote:n.quote}}})}function It(n){let e,t,s;return t=new et({props:{icon:n[1][n[0].user]?n[1][n[0].user].pfp_data:-1,alt:n[0].user+"'s profile picture",online:n[3].includes(n[0].user)}}),{c(){e=g("button"),A(t.$$.fragment),f(e,"class","pfp svelte-1mflmfx")},m(l,r){h(l,e,r),D(t,e,null),s=!0},p(l,r){const o={};r&3&&(o.icon=l[1][l[0].user]?l[1][l[0].user].pfp_data:-1),r&1&&(o.alt=l[0].user+"'s profile picture"),r&9&&(o.online=l[3].includes(l[0].user)),t.$set(o)},i(l){s||(C(t.$$.fragment,l),s=!0)},o(l){E(t.$$.fragment,l),s=!1},d(l){l&&b(e),U(t)}}}function Kn(n){let e,t,s,l,r=n[0].user+"",o,i,a,c,d,u=n[0].content+"",m,p,v=n[2].name&&It(n);return a=new Fn({props:{date:n[0].date}}),{c(){e=g("div"),v&&v.c(),t=x(),s=g("div"),l=g("h2"),o=z(r),i=x(),A(a.$$.fragment),c=x(),d=g("p"),m=z(u),f(l,"class","creator svelte-1mflmfx"),f(s,"class","creator svelte-1mflmfx"),f(e,"class","post-header svelte-1mflmfx")},m(y,w){h(y,e,w),v&&v.m(e,null),_(e,t),_(e,s),_(s,l),_(l,o),_(s,i),D(a,s,null),h(y,c,w),h(y,d,w),_(d,m),p=!0},p(y,w){y[2].name?v?(v.p(y,w),w&4&&C(v,1)):(v=It(y),v.c(),C(v,1),v.m(e,t)):v&&(ie(),E(v,1,1,()=>{v=null}),ae()),(!p||w&1)&&r!==(r=y[0].user+"")&&K(o,r);const $={};w&1&&($.date=y[0].date),a.$set($),(!p||w&1)&&u!==(u=y[0].content+"")&&K(m,u)},i(y){p||(C(v),C(a.$$.fragment,y),p=!0)},o(y){E(v),E(a.$$.fragment,y),p=!1},d(y){y&&b(e),v&&v.d(),U(a),y&&b(c),y&&b(d)}}}function Jn(n){let e,t;return e=new oe({props:{$$slots:{default:[Kn]},$$scope:{ctx:n}}}),{c(){A(e.$$.fragment)},m(s,l){D(e,s,l),t=!0},p(s,[l]){const r={};l&47&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){t||(C(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function Vn(n,e,t){let s,l,r;V(n,be,a=>t(1,s=a)),V(n,Q,a=>t(2,l=a)),V(n,$e,a=>t(3,r=a));let{post:o={}}=e;function i(){if(!o.user||!l.name)return;const a=o.user,c=()=>{let u=s;u[a]={pfp_data:-1},be.set(u),ge({cmd:"direct",val:{cmd:"get_profile",val:a},listener:"get_profile_"+a}).then(m=>{u[a]=m.payload,be.set(u)}).catch(m=>{u[a]={error:!0,pfp_data:-2,temporary:!0},be.set(u)})},d=s;d[a]?d[a].temporary&&c():c()}return en(i),n.$$set=a=>{"post"in a&&t(0,o=a.post)},[o,s,l,r]}class Qn extends ee{constructor(e){super(),Z(this,e,Vn,Jn,X,{post:0})}}function Xn(n){let e;return{c(){e=g("span"),e.innerHTML='<span class="circle circle1 svelte-idse3p"></span><span class="circle circle2 svelte-idse3p"></span><span class="circle circle3 svelte-idse3p"></span>',f(e,"class","loading svelte-idse3p")},m(t,s){h(t,e,s)},p:j,i:j,o:j,d(t){t&&b(e)}}}class an extends ee{constructor(e){super(),Z(this,e,null,Xn,X,{})}}function cn(n){const e=n-1;return e*e*e+1}function un(n,{delay:e=0,duration:t=400,easing:s=Be}={}){const l=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:s,css:r=>`opacity: ${r*l}`}}function Mt(n,{delay:e=0,duration:t=400,easing:s=cn,x:l=0,y:r=0,opacity:o=0}={}){const i=getComputedStyle(n),a=+i.opacity,c=i.transform==="none"?"":i.transform,d=a*(1-o);return{delay:e,duration:t,easing:s,css:(u,m)=>`
			transform: ${c} translate(${(1-u)*l}px, ${(1-u)*r}px);
			opacity: ${a-d*m}`}}function Zn(n,{from:e,to:t},s={}){const l=getComputedStyle(n),r=l.transform==="none"?"":l.transform,[o,i]=l.transformOrigin.split(" ").map(parseFloat),a=e.left+e.width*o/t.width-(t.left+o),c=e.top+e.height*i/t.height-(t.top+i),{delay:d=0,duration:u=p=>Math.sqrt(p)*120,easing:m=cn}=s;return{delay:d,duration:Fe(u)?u(Math.sqrt(a*a+c*c)):u,easing:m,css:(p,v)=>{const y=v*a,w=v*c,$=p+v*e.width/t.width,k=p+v*e.height/t.height;return`transform: ${r} translate(${y}px, ${w}px) scale(${$}, ${k});`}}}function Ot(n,e,t){const s=n.slice();return s[15]=e[t],s}function es(n){let e,t;return e=new oe({props:{$$slots:{default:[ts]},$$scope:{ctx:n}}}),{c(){A(e.$$.fragment)},m(s,l){D(e,s,l),t=!0},p(s,l){const r={};l&524288&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){t||(C(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function ts(n){let e,t,s,l,r=n[18]+"",o;return{c(){e=g("h1"),e.textContent="Home",t=z(`
			Error loading posts. Please try again.
			`),s=g("pre"),l=g("code"),o=z(r)},m(i,a){h(i,e,a),h(i,t,a),h(i,s,a),_(s,l),_(l,o)},p:j,d(i){i&&b(e),i&&b(t),i&&b(s)}}}function ns(n){let e,t,s,l,r,o,i,a,c,d;e=new oe({props:{$$slots:{default:[ss]},$$scope:{ctx:n}}});let u=n[6].name&&Rt(n);const m=[os,ls],p=[];function v(k,S){return k[0].length<1?0:1}l=v(n),r=p[l]=m[l](n);const y=[cs,as],w=[];function $(k,S){return k[2]?0:k[3]&&k[3]>k[1]?1:-1}return~(a=$(n))&&(c=w[a]=y[a](n)),{c(){A(e.$$.fragment),t=x(),u&&u.c(),s=x(),r.c(),o=x(),i=g("div"),c&&c.c(),f(i,"class","center svelte-pbdqt6")},m(k,S){D(e,k,S),h(k,t,S),u&&u.m(k,S),h(k,s,S),p[l].m(k,S),h(k,o,S),h(k,i,S),~a&&w[a].m(i,null),d=!0},p(k,S){const M={};S&524320&&(M.$$scope={dirty:S,ctx:k}),e.$set(M),k[6].name?u?u.p(k,S):(u=Rt(k),u.c(),u.m(s.parentNode,s)):u&&(u.d(1),u=null);let I=l;l=v(k),l===I?p[l].p(k,S):(ie(),E(p[I],1,1,()=>{p[I]=null}),ae(),r=p[l],r?r.p(k,S):(r=p[l]=m[l](k),r.c()),C(r,1),r.m(o.parentNode,o));let L=a;a=$(k),a===L?~a&&w[a].p(k,S):(c&&(ie(),E(w[L],1,1,()=>{w[L]=null}),ae()),~a?(c=w[a],c?c.p(k,S):(c=w[a]=y[a](k),c.c()),C(c,1),c.m(i,null)):c=null)},i(k){d||(C(e.$$.fragment,k),C(r),C(c),d=!0)},o(k){E(e.$$.fragment,k),E(r),E(c),d=!1},d(k){U(e,k),k&&b(t),u&&u.d(k),k&&b(s),p[l].d(k),k&&b(o),k&&b(i),~a&&w[a].d()}}}function Tt(n){let e=" ",t,s,l=n[5].join(", ")+"",r,o;return{c(){t=z(e),s=z("("),r=z(l),o=z(")")},m(i,a){h(i,t,a),h(i,s,a),h(i,r,a),h(i,o,a)},p(i,a){a&32&&l!==(l=i[5].join(", ")+"")&&K(r,l)},d(i){i&&b(t),i&&b(s),i&&b(r),i&&b(o)}}}function ss(n){let e,t,s=n[5].length+"",l,r,o,i=n[5].length&&Tt(n);return{c(){e=g("h1"),e.textContent="Home",t=z(`
			There are currently `),l=z(s),r=z(" user(s) online"),i&&i.c(),o=z(".")},m(a,c){h(a,e,c),h(a,t,c),h(a,l,c),h(a,r,c),i&&i.m(a,c),h(a,o,c)},p(a,c){c&32&&s!==(s=a[5].length+"")&&K(l,s),a[5].length?i?i.p(a,c):(i=Tt(a),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},d(a){a&&b(e),a&&b(t),a&&b(l),a&&b(r),i&&i.d(a),a&&b(o)}}}function Rt(n){let e,t,s,l,r,o;return{c(){e=g("form"),e.innerHTML=`<input type="text" class="white svelte-pbdqt6" placeholder="Write something..." id="postinput" name="postinput" autocomplete="false" maxlength="250"/> 
				<button>Post</button>`,t=x(),s=g("div"),l=z(n[4]),f(e,"class","createpost svelte-pbdqt6"),f(s,"class","post-errors svelte-pbdqt6")},m(i,a){h(i,e,a),h(i,t,a),h(i,s,a),_(s,l),r||(o=P(e,"submit",ke(n[8])),r=!0)},p(i,a){a&16&&K(l,i[4])},d(i){i&&b(e),i&&b(t),i&&b(s),r=!1,o()}}}function ls(n){let e=[],t=new Map,s,l,r=n[0];const o=i=>i[15].id;for(let i=0;i<r.length;i+=1){let a=Ot(n,r,i),c=o(a);t.set(c,e[i]=Nt(c,a))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();s=Qt()},m(i,a){for(let c=0;c<e.length;c+=1)e[c].m(i,a);h(i,s,a),l=!0},p(i,a){if(a&1){r=i[0],ie();for(let c=0;c<e.length;c+=1)e[c].r();e=On(e,a,o,1,i,r,t,s.parentNode,Mn,Nt,s,Ot);for(let c=0;c<e.length;c+=1)e[c].a();ae()}},i(i){if(!l){for(let a=0;a<r.length;a+=1)C(e[a]);l=!0}},o(i){for(let a=0;a<e.length;a+=1)E(e[a]);l=!1},d(i){for(let a=0;a<e.length;a+=1)e[a].d(i);i&&b(s)}}}function os(n){let e;function t(r,o){return r[6].name?is:rs}let s=t(n),l=s(n);return{c(){l.c(),e=Qt()},m(r,o){l.m(r,o),h(r,e,o)},p(r,o){s!==(s=t(r))&&(l.d(1),l=s(r),l&&(l.c(),l.m(e.parentNode,e)))},i:j,o:j,d(r){l.d(r),r&&b(e)}}}function Nt(n,e){let t,s,l,r,o,i=j,a;return s=new Qn({props:{post:e[15]}}),{key:n,first:null,c(){t=g("div"),A(s.$$.fragment),l=x(),this.first=t},m(c,d){h(c,t,d),D(s,t,null),_(t,l),a=!0},p(c,d){e=c;const u={};d&1&&(u.post=e[15]),s.$set(u)},r(){o=t.getBoundingClientRect()},f(){En(t),i(),Xt(t,o)},a(){i(),i=Cn(t,o,Zn,{duration:250})},i(c){a||(C(s.$$.fragment,c),c&&ye(()=>{r||(r=rt(t,Mt,{y:-50,duration:250},!0)),r.run(1)}),a=!0)},o(c){E(s.$$.fragment,c),c&&(r||(r=rt(t,Mt,{y:-50,duration:250},!1)),r.run(0)),a=!1},d(c){c&&b(t),U(s),c&&r&&r.end()}}}function rs(n){let e;return{c(){e=z("No posts here. Check back later!")},m(t,s){h(t,e,s)},d(t){t&&b(e)}}}function is(n){let e;return{c(){e=z("No posts here. Check back later or be the first to post!")},m(t,s){h(t,e,s)},d(t){t&&b(e)}}}function as(n){let e,t,s;return{c(){e=g("button"),e.textContent="Load More",f(e,"class","load-more svelte-pbdqt6")},m(l,r){h(l,e,r),t||(s=P(e,"click",n[9]),t=!0)},p:j,i:j,o:j,d(l){l&&b(e),t=!1,s()}}}function cs(n){let e,t;return e=new an({}),{c(){A(e.$$.fragment)},m(s,l){D(e,s,l),t=!0},p:j,i(s){t||(C(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function us(n){let e,t,s;return t=new an({}),{c(){e=g("div"),A(t.$$.fragment),f(e,"class","fullcenter svelte-pbdqt6")},m(l,r){h(l,e,r),D(t,e,null),s=!0},p:j,i(l){s||(C(t.$$.fragment,l),s=!0)},o(l){E(t.$$.fragment,l),s=!1},d(l){l&&b(e),U(t)}}}function fs(n){let e,t,s={ctx:n,current:null,token:null,hasCatch:!0,pending:us,then:ns,catch:es,error:18,blocks:[,,,]};return Pn(n[7](1),s),{c(){e=g("div"),s.block.c(),f(e,"class","home svelte-pbdqt6")},m(l,r){h(l,e,r),s.block.m(e,s.anchor=null),s.mount=()=>e,s.anchor=null,t=!0},p(l,[r]){n=l,qn(s,n,r)},i(l){t||(C(s.block),t=!0)},o(l){for(let r=0;r<3;r+=1){const o=s.blocks[r];E(o)}t=!1},d(l){l&&b(e),s.block.d(),s.token=null,s=null}}}function ds(n,e,t){let s,l;V(n,$e,k=>t(12,s=k)),V(n,Q,k=>t(6,l=k));let r=0,{posts:o=[]}=e,i=0,a=!1,c=null,d="",u=0;async function m(k){if(t(2,a=!0),k===void 0)t(0,o=[]);else{let S=k+Math.floor(u/25),M=u%25;try{let I="home?autoget&page=";Wn&&(I=encodeURIComponent(I));const L=await fetch(`${Ae}${I}${S}`);if(!L.ok)throw new Error("Response code is not OK; code is "+L.status);const N=await L.json();let T=N.autoget;T.splice(0,M),t(3,c=N.pages);let F,W;if(M>0&&i<c){if(F=await fetch(`${Ae}${I}${S+1}`),!L.ok)throw new Error("Overflow response code is not OK; code is "+L.status);W=await F.json(),T=T.concat(W.autoget.slice(0,M))}for(const H of T)o.push({id:r++,post_id:H.post_id,user:H.u,content:H.p,date:H.t.e});t(1,i=k)}catch(I){throw t(2,a=!1),I}}return t(0,o),t(2,a=!1),o}function p(k){o.unshift({id:r++,...k}),t(0,o)}function v(){O.on("direct",k=>{k.val.post_origin==="home"&&(p({post_id:k.val.post_id,user:k.val.u,content:k.val.p,date:k.val.t.e}),u++,t(0,o))})}O.ws.readyState===1?v():O.ws.addEventListener("open",v);let y=s;$e.subscribe(k=>{t(5,y=k)});const w=k=>{const S=new RegExp(/[\u{1F346}]/ug);if(t(4,d=""),!k.target[0].value.trim())return t(4,d="You cannot send an empty post!"),!1;we.set(!0),O.send({cmd:"direct",val:{cmd:"post_home",val:k.target[0].value.replace(S," Emoji ")},listener:"post_home"});const M=O.on("statuscode",I=>{I.listener==="post_home"&&(O.off(M),we.set(!1),I.val==="I:100 | OK"?k.target[0].value="":I.val==="E:106 | Too many requests"?t(4,d="You're posting too fast!"):t(4,d="Unexpected "+I.val+" error!"))});return!1},$=()=>m(i+1);return n.$$set=k=>{"posts"in k&&t(0,o=k.posts)},[o,i,a,c,d,y,l,m,w,$]}class ms extends ee{constructor(e){super(),Z(this,e,ds,fs,X,{posts:0})}}function Dt(n,e,t){const s=n.slice();return s[6]=e[t],s}function ps(n){let e,t,s,l,r=n[0].name+"",o,i;return t=new et({props:{online:!0,icon:n[0].pfp_data,alt:n[0].name+"'s profile picture",big:!0}}),{c(){e=g("div"),A(t.$$.fragment),s=x(),l=g("h1"),o=z(r),f(l,"class","profile-username svelte-18818d9"),f(e,"class","profile-header svelte-18818d9")},m(a,c){h(a,e,c),D(t,e,null),_(e,s),_(e,l),_(l,o),i=!0},p(a,c){const d={};c&1&&(d.icon=a[0].pfp_data),c&1&&(d.alt=a[0].name+"'s profile picture"),t.$set(d),(!i||c&1)&&r!==(r=a[0].name+"")&&K(o,r)},i(a){i||(C(t.$$.fragment,a),i=!0)},o(a){E(t.$$.fragment,a),i=!1},d(a){a&&b(e),U(t)}}}function Ut(n){let e,t,s,l,r;t=new et({props:{online:!1,icon:n[6],alt:"Profile picture "+n[6]}});function o(){return n[3](n[6])}return{c(){e=g("span"),A(t.$$.fragment),f(e,"class","pfp svelte-18818d9"),J(e,"selected",n[0].pfp_data===n[6])},m(i,a){h(i,e,a),D(t,e,null),s=!0,l||(r=P(e,"click",o),l=!0)},p(i,a){n=i,a&3&&J(e,"selected",n[0].pfp_data===n[6])},i(i){s||(C(t.$$.fragment,i),s=!0)},o(i){E(t.$$.fragment,i),s=!1},d(i){i&&b(e),U(t),l=!1,r()}}}function gs(n){let e,t,s,l,r=n[1],o=[];for(let a=0;a<r.length;a+=1)o[a]=Ut(Dt(n,r,a));const i=a=>E(o[a],1,1,()=>{o[a]=null});return{c(){e=g("h2"),e.textContent="Profile Picture",t=x(),s=g("div");for(let a=0;a<o.length;a+=1)o[a].c();f(s,"id","pfp-list"),f(s,"class","svelte-18818d9")},m(a,c){h(a,e,c),h(a,t,c),h(a,s,c);for(let d=0;d<o.length;d+=1)o[d].m(s,null);l=!0},p(a,c){if(c&7){r=a[1];let d;for(d=0;d<r.length;d+=1){const u=Dt(a,r,d);o[d]?(o[d].p(u,c),C(o[d],1)):(o[d]=Ut(u),o[d].c(),C(o[d],1),o[d].m(s,null))}for(ie(),d=r.length;d<o.length;d+=1)i(d);ae()}},i(a){if(!l){for(let c=0;c<r.length;c+=1)C(o[c]);l=!0}},o(a){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)E(o[c]);l=!1},d(a){a&&b(e),a&&b(t),a&&b(s),Vt(o,a)}}}function _s(n){let e,t,s,l,r;return t=new oe({props:{$$slots:{default:[ps]},$$scope:{ctx:n}}}),l=new oe({props:{$$slots:{default:[gs]},$$scope:{ctx:n}}}),{c(){e=g("div"),A(t.$$.fragment),s=x(),A(l.$$.fragment),f(e,"class","profile")},m(o,i){h(o,e,i),D(t,e,null),_(e,s),D(l,e,null),r=!0},p(o,[i]){const a={};i&513&&(a.$$scope={dirty:i,ctx:o}),t.$set(a);const c={};i&513&&(c.$$scope={dirty:i,ctx:o}),l.$set(c)},i(o){r||(C(t.$$.fragment,o),C(l.$$.fragment,o),r=!0)},o(o){E(t.$$.fragment,o),E(l.$$.fragment,o),r=!1},d(o){o&&b(e),U(t),U(l)}}}function vs(n,e,t){let s,l;V(n,Q,c=>t(4,s=c)),V(n,be,c=>t(5,l=c));let r=s;Q.subscribe(c=>t(0,r=c));const o=new Array(23).fill().map((c,d)=>d+1);function i(){if(l[s.name]){alert("upd");const c=l;delete c[s.name],be.set(c)}Te()}return[r,o,i,c=>{r.pfp_data!==c&&(t(0,r.pfp_data=c,r),i())}]}class bs extends ee{constructor(e){super(),Z(this,e,vs,_s,X,{})}}function hs(n){let e,t;return{c(){e=g("h1"),e.textContent="Settings",t=z(`
	You can change your settings here. These will save to your account, so they will carry over into other clients.`)},m(s,l){h(s,e,l),h(s,t,l)},p:j,d(s){s&&b(e),s&&b(t)}}}function ks(n){let e,t,s,l,r,o=n[5].layout+"",i,a,c,d;return{c(){e=g("div"),t=g("button"),s=x(),l=g("h2"),l.textContent="Layout",r=z(`
	The layout is currently set to `),i=z(o),a=z("."),f(t,"class","circle settings svelte-1undfiq"),f(e,"class","settings-controls svelte-1undfiq")},m(u,m){h(u,e,m),_(e,t),h(u,s,m),h(u,l,m),h(u,r,m),h(u,i,m),h(u,a,m),c||(d=P(t,"click",n[7]),c=!0)},p(u,m){m&32&&o!==(o=u[5].layout+"")&&K(i,o)},d(u){u&&b(e),u&&b(s),u&&b(l),u&&b(r),u&&b(i),u&&b(a),c=!1,d()}}}function ws(n){let e,t,s,l,r,o=n[5].theme+"",i,a,c,d;return{c(){e=g("div"),t=g("button"),s=x(),l=g("h2"),l.textContent="Theme",r=z(`
	The theme is currently set to `),i=z(o),a=z("."),f(t,"class","circle settings svelte-1undfiq"),f(e,"class","settings-controls svelte-1undfiq")},m(u,m){h(u,e,m),_(e,t),h(u,s,m),h(u,l,m),h(u,r,m),h(u,i,m),h(u,a,m),c||(d=P(t,"click",n[8]),c=!0)},p(u,m){m&32&&o!==(o=u[5].theme+"")&&K(i,o)},d(u){u&&b(e),u&&b(s),u&&b(l),u&&b(r),u&&b(i),u&&b(a),c=!1,d()}}}function ys(n){let e,t,s,l,r,o,i=n[5].mode?"disabled":"enabled",a,c,d,u;return{c(){e=g("div"),t=g("input"),l=x(),r=g("h2"),r.textContent="Dark Mode",o=z(`
	Dark mode is currently `),a=z(i),c=z("."),f(t,"type","checkbox"),t.value=s=!n[5].mode,f(t,"class","svelte-1undfiq"),f(e,"class","settings-controls svelte-1undfiq")},m(m,p){h(m,e,p),_(e,t),h(m,l,p),h(m,r,p),h(m,o,p),h(m,a,p),h(m,c,p),d||(u=P(t,"change",n[9]),d=!0)},p(m,p){p&32&&s!==(s=!m[5].mode)&&(t.value=s),p&32&&i!==(i=m[5].mode?"disabled":"enabled")&&K(a,i)},d(m){m&&b(e),m&&b(l),m&&b(r),m&&b(o),m&&b(a),m&&b(c),d=!1,u()}}}function $s(n){let e,t,s,l,r,o,i,a,c,d,u,m,p,v,y;return{c(){e=g("div"),t=g("input"),s=x(),l=g("input"),r=x(),o=g("input"),i=x(),a=g("input"),c=x(),d=g("input"),u=x(),m=g("h2"),m.textContent="Delete Account",p=z(`
	THIS CANNOT BE UNDONE. Enable all the switches to delete your account, if you are really sure.`),f(t,"type","checkbox"),f(t,"class","svelte-1undfiq"),f(l,"type","checkbox"),f(l,"class","svelte-1undfiq"),f(o,"type","checkbox"),f(o,"class","svelte-1undfiq"),f(a,"type","checkbox"),f(a,"class","svelte-1undfiq"),f(d,"type","checkbox"),f(d,"class","svelte-1undfiq"),f(e,"class","settings-controls svelte-1undfiq")},m(w,$){h(w,e,$),_(e,t),t.checked=n[0],_(e,s),_(e,l),l.checked=n[1],_(e,r),_(e,o),o.checked=n[2],_(e,i),_(e,a),a.checked=n[3],_(e,c),_(e,d),d.checked=n[4],h(w,u,$),h(w,m,$),h(w,p,$),v||(y=[P(t,"change",n[10]),P(t,"change",n[6]),P(l,"change",n[11]),P(l,"change",n[6]),P(o,"change",n[12]),P(o,"change",n[6]),P(a,"change",n[13]),P(a,"change",n[6]),P(d,"change",n[14]),P(d,"change",n[6])],v=!0)},p(w,$){$&1&&(t.checked=w[0]),$&2&&(l.checked=w[1]),$&4&&(o.checked=w[2]),$&8&&(a.checked=w[3]),$&16&&(d.checked=w[4])},d(w){w&&b(e),w&&b(u),w&&b(m),w&&b(p),v=!1,te(y)}}}function js(n){let e,t,s,l,r,o,i,a,c,d,u,m;return e=new oe({props:{$$slots:{default:[hs]},$$scope:{ctx:n}}}),s=new oe({props:{$$slots:{default:[ks]},$$scope:{ctx:n}}}),r=new oe({props:{$$slots:{default:[ws]},$$scope:{ctx:n}}}),i=new oe({props:{$$slots:{default:[ys]},$$scope:{ctx:n}}}),c=new oe({props:{$$slots:{default:[$s]},$$scope:{ctx:n}}}),{c(){A(e.$$.fragment),t=x(),A(s.$$.fragment),l=x(),A(r.$$.fragment),o=x(),A(i.$$.fragment),a=x(),A(c.$$.fragment),d=x(),u=g("div"),f(u,"class","eee")},m(p,v){D(e,p,v),h(p,t,v),D(s,p,v),h(p,l,v),D(r,p,v),h(p,o,v),D(i,p,v),h(p,a,v),D(c,p,v),h(p,d,v),h(p,u,v),m=!0},p(p,[v]){const y={};v&32768&&(y.$$scope={dirty:v,ctx:p}),e.$set(y);const w={};v&32800&&(w.$$scope={dirty:v,ctx:p}),s.$set(w);const $={};v&32800&&($.$$scope={dirty:v,ctx:p}),r.$set($);const k={};v&32800&&(k.$$scope={dirty:v,ctx:p}),i.$set(k);const S={};v&32799&&(S.$$scope={dirty:v,ctx:p}),c.$set(S)},i(p){m||(C(e.$$.fragment,p),C(s.$$.fragment,p),C(r.$$.fragment,p),C(i.$$.fragment,p),C(c.$$.fragment,p),m=!0)},o(p){E(e.$$.fragment,p),E(s.$$.fragment,p),E(r.$$.fragment,p),E(i.$$.fragment,p),E(c.$$.fragment,p),m=!1},d(p){U(e,p),p&&b(t),U(s,p),p&&b(l),U(r,p),p&&b(o),U(i,p),p&&b(a),U(c,p),p&&b(d),p&&b(u)}}}function xs(n,e,t){let s;V(n,Q,k=>t(5,s=k));let l=!1,r=!1,o=!1,i=!1,a=!1;async function c(){l&&r&&o&&i&&a&&(s.name===localStorage.getItem("meower_savedusername")&&(localStorage.removeItem("meower_savedusername"),localStorage.removeItem("meower_savedpassword")),await ge({cmd:"direct",val:{cmd:"del_account",val:""}}),pe.set("setup"),await Ee(),G.set("reconnect"))}const d=()=>{const k=s;k.layout=k.layout==="new"?"old":"new",Q.set(k),Te()},u=()=>{const k=s;k.theme=k.theme==="orange"?"blue":"orange",Q.set(k),Te()},m=()=>{const k=s;k.mode=!k.mode,Q.set(k),Te()};function p(){l=this.checked,t(0,l)}function v(){r=this.checked,t(1,r)}function y(){o=this.checked,t(2,o)}function w(){i=this.checked,t(3,i)}function $(){a=this.checked,t(4,a)}return[l,r,o,i,a,s,c,d,u,m,p,v,y,w,$]}class zs extends ee{constructor(e){super(),Z(this,e,xs,js,X,{})}}var nt="./assets/meowy.93c25f40.svg";function At(n,e,t){const s=n.slice();return s[1]=e[t],s}function Bt(n){let e,t;return{c(){e=g("img"),f(e,"class","cat svelte-vuknl4"),f(e,"alt","MEOW"),f(e,"title","MEOW"),ne(e.src,t=nt)||f(e,"src",t),f(e,"height","100"),Pe(e,"left",(n[1].x||0)+"vw",!1),Pe(e,"top",(n[1].y||0)+"vh",!1),Pe(e,"animation-delay",-(n[1].offset||0)+"s",!1),Pe(e,"animation-duration",n[1].time+"s",!1)},m(s,l){h(s,e,l)},p:j,d(s){s&&b(e)}}}function Ss(n){let e,t=n[0],s=[];for(let l=0;l<t.length;l+=1)s[l]=Bt(At(n,t,l));return{c(){e=g("div");for(let l=0;l<s.length;l+=1)s[l].c();f(e,"class","cats svelte-vuknl4")},m(l,r){h(l,e,r);for(let o=0;o<s.length;o+=1)s[o].m(e,null)},p(l,[r]){if(r&1){t=l[0];let o;for(o=0;o<t.length;o+=1){const i=At(l,t,o);s[o]?s[o].p(i,r):(s[o]=Bt(i),s[o].c(),s[o].m(e,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=t.length}},i:j,o:j,d(l){l&&b(e),Vt(s,l)}}}function Cs(n){return[new Array(150).fill({}).map(t=>({x:Math.random()*100,y:Math.random()*100,offset:Math.random()*15,time:5+Math.random()*10}))]}class Es extends ee{constructor(e){super(),Z(this,e,Cs,Ss,X,{})}}function Ls(n){let e,t,s;return t=new Es({}),{c(){e=g("div"),A(t.$$.fragment),f(e,"class","groupchat")},m(l,r){h(l,e,r),D(t,e,null),s=!0},p:j,i(l){s||(C(t.$$.fragment,l),s=!0)},o(l){E(t.$$.fragment,l),s=!1},d(l){l&&b(e),U(t)}}}class Ps extends ee{constructor(e){super(),Z(this,e,null,Ls,X,{})}}var st="./assets/logo.22ae43ae.svg",qs="./assets/home.a6e91ee5.svg",Is="./assets/profile.f90d67b3.svg",Ms="./assets/settings.10cdbd27.svg",Os="./assets/logout.32557676.svg";function Ft(n){let e,t,s,l,r,o,i,a,c,d,u,m,p,v,y,w;return{c(){e=g("button"),t=g("img"),r=x(),o=g("button"),i=g("img"),d=x(),u=g("button"),m=g("img"),ne(t.src,s=Is)||f(t,"src",s),f(t,"alt","Profile"),f(t,"width","90%"),f(t,"height","auto"),f(t,"draggable",l=!1),f(e,"class","profile-btn round svelte-n8zklt"),ne(i.src,a=Ms)||f(i,"src",a),f(i,"alt","Settings"),f(i,"width","90%"),f(i,"height","auto"),f(i,"draggable",c=!1),f(o,"class","settings-btn round svelte-n8zklt"),ne(m.src,p=nt)||f(m,"src",p),f(m,"alt","Group cat"),f(m,"width","90%"),f(m,"height","auto"),f(m,"draggable",v=!1),f(u,"class","groupcat-btn round svelte-n8zklt")},m($,k){h($,e,k),_(e,t),h($,r,k),h($,o,k),_(o,i),h($,d,k),h($,u,k),_(u,m),y||(w=[P(e,"click",n[4]),P(o,"click",n[5]),P(u,"click",n[6])],y=!0)},p:j,d($){$&&b(e),$&&b(r),$&&b(o),$&&b(d),$&&b(u),y=!1,te(w)}}}function Ts(n){let e,t,s,l,r,o,i,a,c,d,u,m,p,v,y,w,$=n[0].name&&Ft(n);return{c(){e=g("div"),t=g("div"),s=g("span"),l=g("img"),o=x(),i=g("button"),a=g("img"),d=x(),$&&$.c(),u=x(),m=g("button"),p=g("img"),f(l,"alt","Meower"),ne(l.src,r=st)||f(l,"src",r),f(l,"draggable",!1),f(l,"height","100%"),f(l,"width","auto"),f(l,"class","svelte-n8zklt"),f(s,"class","logo-inner svelte-n8zklt"),f(t,"class","logo svelte-n8zklt"),ne(a.src,c=qs)||f(a,"src",c),f(a,"alt","Home"),f(a,"width","90%"),f(a,"height","auto"),f(a,"draggable",!1),f(i,"class","home-btn round svelte-n8zklt"),ne(p.src,v=Os)||f(p,"src",v),f(p,"alt","Log out"),f(p,"width","90%"),f(p,"height","auto"),f(p,"draggable",!1),f(m,"class","logout-btn round svelte-n8zklt"),f(e,"class","sidebar svelte-n8zklt")},m(k,S){h(k,e,S),_(e,t),_(t,s),_(s,l),_(e,o),_(e,i),_(i,a),_(e,d),$&&$.m(e,null),_(e,u),_(e,m),_(m,p),y||(w=[P(s,"click",n[2]),P(i,"click",n[3]),P(m,"click",n[7])],y=!0)},p(k,[S]){k[0].name?$?$.p(k,S):($=Ft(k),$.c(),$.m(e,u)):$&&($.d(1),$=null)},i:j,o:j,d(k){k&&b(e),$&&$.d(),y=!1,te(w)}}}function Rs(n,e,t){let s;V(n,Q,u=>t(0,s=u));function l(u){Ue.set("blank"),Ee().then(()=>Ue.set(u))}return[s,l,()=>l("home"),()=>l("home"),()=>l("profile"),()=>l("settings"),()=>l("groupchat"),async()=>{pe.set("setup"),await Ee(),G.set("reconnect")}]}class Ns extends ee{constructor(e){super(),Z(this,e,Rs,Ts,X,{})}}function Ds(n){let e,t,s,l,r;return{c(){e=z(`Somehow, you got to a page that doesn't exist...
			`),t=g("br"),s=z(`
			(Current page: `),l=z(n[0]),r=z(")")},m(o,i){h(o,e,i),h(o,t,i),h(o,s,i),h(o,l,i),h(o,r,i)},p(o,i){i&1&&K(l,o[0])},i:j,o:j,d(o){o&&b(e),o&&b(t),o&&b(s),o&&b(l),o&&b(r)}}}function Us(n){let e;return{c(){e=g("div")},m(t,s){h(t,e,s)},p:j,i:j,o:j,d(t){t&&b(e)}}}function As(n){let e,t;return e=new Ps({}),{c(){A(e.$$.fragment)},m(s,l){D(e,s,l),t=!0},p:j,i(s){t||(C(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function Bs(n){let e,t;return e=new zs({}),{c(){A(e.$$.fragment)},m(s,l){D(e,s,l),t=!0},p:j,i(s){t||(C(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function Fs(n){let e,t;return e=new bs({}),{c(){A(e.$$.fragment)},m(s,l){D(e,s,l),t=!0},p:j,i(s){t||(C(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function Hs(n){let e,t;return e=new ms({}),{c(){A(e.$$.fragment)},m(s,l){D(e,s,l),t=!0},p:j,i(s){t||(C(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function Ws(n){let e,t,s,l,r,o,i,a;s=new Ns({});const c=[Hs,Fs,Bs,As,Us,Ds],d=[];function u(m,p){return m[0]==="home"?0:m[0]==="profile"?1:m[0]==="settings"?2:m[0]==="groupchat"?3:m[0]==="blank"?4:5}return o=u(n),i=d[o]=c[o](n),{c(){e=g("div"),t=g("div"),A(s.$$.fragment),l=x(),r=g("div"),i.c(),f(t,"class","sidebar svelte-88zg9i"),f(r,"class","view svelte-88zg9i"),f(e,"class","main-screen svelte-88zg9i")},m(m,p){h(m,e,p),_(e,t),D(s,t,null),_(e,l),_(e,r),d[o].m(r,null),a=!0},p(m,[p]){let v=o;o=u(m),o===v?d[o].p(m,p):(ie(),E(d[v],1,1,()=>{d[v]=null}),ae(),i=d[o],i?i.p(m,p):(i=d[o]=c[o](m),i.c()),C(i,1),i.m(r,null))},i(m){a||(C(s.$$.fragment,m),C(i),a=!0)},o(m){E(s.$$.fragment,m),E(i),a=!1},d(m){m&&b(e),U(s),d[o].d()}}}function Ys(n,e,t){let s;return V(n,Ue,l=>t(0,s=l)),Ue.set("home"),[s]}class Gs extends ee{constructor(e){super(),Z(this,e,Ys,Ws,X,{})}}function Ks(n){let e,t,s,l,r,o,i,a,c;return{c(){e=z(`Somehow, you got to a page that doesn't exist...
		`),t=g("br"),s=z(`
		(Current page: `),l=z(n[6]),r=z(`)

		`),o=g("div"),i=g("button"),i.textContent="Go back!",f(i,"class","svelte-jkmb3d"),f(o,"class","buttons svelte-jkmb3d")},m(d,u){h(d,e,u),h(d,t,u),h(d,s,u),h(d,l,u),h(d,r,u),h(d,o,u),_(o,i),a||(c=P(i,"click",n[23]),a=!0)},p(d,u){u&64&&K(l,d[6])},i:j,o:j,d(d){d&&b(e),d&&b(t),d&&b(s),d&&b(l),d&&b(r),d&&b(o),a=!1,c()}}}function Js(n){let e;return{c(){e=g("div"),e.textContent="Let's go!",f(e,"class","fullcenter svelte-jkmb3d")},m(t,s){h(t,e,s)},p:j,i:j,o:j,d(t){t&&b(e)}}}function Vs(n){let e;return{c(){e=g("div")},m(t,s){h(t,e,s)},p:j,i:j,o:j,d(t){t&&b(e)}}}function Qs(n){let e,t,s,l,r,o,i,a,c,d,u,m,p,v,y,w,$,k,S,M,I,L,N,T,F,W,H,ce,se,q,Y;return{c(){e=g("div"),t=g("h1"),t.textContent="Welcome to Meower",s=x(),l=g("form"),r=g("input"),o=x(),i=g("br"),a=x(),c=g("input"),d=x(),u=g("p"),m=g("input"),p=x(),v=g("label"),v.textContent="Save this login",y=x(),w=g("br"),$=x(),k=g("input"),S=x(),M=g("label"),M.innerHTML='I agree to <a href="https://meower.org/legal" class="svelte-jkmb3d">Meower&#39;s Terms of Service and Privacy Policy</a>',I=x(),L=g("span"),N=z(n[3]),T=x(),F=g("div"),W=g("button"),H=z("Join!"),se=g("button"),se.textContent="Go back",f(r,"type","text"),f(r,"placeholder","Username"),f(r,"maxlength","20"),f(r,"class","svelte-jkmb3d"),f(i,"class","svelte-jkmb3d"),f(c,"type","password"),f(c,"placeholder","Password"),f(c,"maxlength","72"),f(c,"class","svelte-jkmb3d"),f(m,"id","remember-me"),f(m,"type","checkbox"),f(m,"class","svelte-jkmb3d"),f(v,"for","remember-me"),f(v,"class","svelte-jkmb3d"),f(w,"class","svelte-jkmb3d"),f(k,"id","accept-terms"),f(k,"type","checkbox"),f(k,"class","svelte-jkmb3d"),f(M,"for","accept-terms"),f(M,"class","svelte-jkmb3d"),f(u,"class","checkboxes svelte-jkmb3d"),f(L,"class","login-status svelte-jkmb3d"),W.disabled=ce=!n[4],f(W,"class","svelte-jkmb3d"),f(se,"class","svelte-jkmb3d"),f(F,"class","buttons svelte-jkmb3d"),f(l,"class","column-ui svelte-jkmb3d"),f(e,"class","fullcenter svelte-jkmb3d")},m(R,B){h(R,e,B),_(e,t),_(e,s),_(e,l),_(l,r),_(l,o),_(l,i),_(l,a),_(l,c),_(l,d),_(l,u),_(u,m),m.checked=n[5],_(u,p),_(u,v),_(u,y),_(u,w),_(u,$),_(u,k),k.checked=n[4],_(u,S),_(u,M),_(l,I),_(l,L),_(L,N),_(l,T),_(l,F),_(F,W),_(W,H),_(F,se),q||(Y=[P(m,"change",n[19]),P(k,"change",n[20]),P(se,"click",ke(n[21])),P(l,"submit",ke(n[22]))],q=!0)},p(R,B){B&32&&(m.checked=R[5]),B&16&&(k.checked=R[4]),B&8&&K(N,R[3]),B&16&&ce!==(ce=!R[4])&&(W.disabled=ce)},i:j,o:j,d(R){R&&b(e),q=!1,te(Y)}}}function Xs(n){let e,t,s,l,r,o,i,a,c,d,u,m,p,v,y,w,$,k,S,M,I,L,N,T,F;return{c(){e=g("div"),t=g("h1"),t.textContent="Login to Meower",s=x(),l=g("form"),r=g("input"),o=x(),i=g("br"),a=x(),c=g("input"),d=x(),u=g("p"),m=g("input"),p=x(),v=g("label"),v.textContent="Save this login",y=x(),w=g("span"),$=z(n[3]),k=x(),S=g("div"),M=g("button"),M.textContent="Log in",I=g("button"),I.textContent="Go back",L=x(),N=g("button"),N.textContent="Clear saved login",f(r,"type","text"),f(r,"placeholder","Username"),f(r,"maxlength","20"),f(r,"class","svelte-jkmb3d"),f(i,"class","svelte-jkmb3d"),f(c,"type","password"),f(c,"placeholder","Password"),f(c,"maxlength","72"),f(c,"class","svelte-jkmb3d"),f(m,"id","remember-me"),f(m,"type","checkbox"),f(m,"class","svelte-jkmb3d"),f(v,"for","remember-me"),f(v,"class","svelte-jkmb3d"),f(u,"class","checkboxes svelte-jkmb3d"),f(w,"class","login-status svelte-jkmb3d"),f(M,"class","svelte-jkmb3d"),f(I,"class","svelte-jkmb3d"),f(S,"class","buttons svelte-jkmb3d"),f(N,"class","svelte-jkmb3d"),f(l,"class","column-ui svelte-jkmb3d"),f(e,"class","fullcenter svelte-jkmb3d")},m(W,H){h(W,e,H),_(e,t),_(e,s),_(e,l),_(l,r),_(l,o),_(l,i),_(l,a),_(l,c),_(l,d),_(l,u),_(u,m),m.checked=n[5],_(u,p),_(u,v),_(l,y),_(l,w),_(w,$),_(l,k),_(l,S),_(S,M),_(S,I),_(l,L),_(l,N),T||(F=[P(m,"change",n[15]),P(I,"click",ke(n[16])),P(N,"click",ke(n[17])),P(l,"submit",ke(n[18]))],T=!0)},p(W,H){H&32&&(m.checked=W[5]),H&8&&K($,W[3])},i:j,o:j,d(W){W&&b(e),T=!1,te(F)}}}function Zs(n){let e,t,s,l,r,o,i,a,c,d,u,m,p,v,y,w,$,k=localStorage.getItem("meower_savedusername"),S,M,I,L,N,T,F,W,H,ce,se,q,Y=k&&sl(n);return{c(){e=g("div"),t=g("div"),s=g("div"),l=g("img"),o=x(),i=g("br"),a=g("br"),c=x(),d=g("button"),d.textContent="Log in",u=x(),m=g("br"),p=x(),v=g("button"),v.textContent="Create an account",y=x(),w=g("br"),$=x(),Y&&Y.c(),S=x(),M=g("button"),M.textContent="Skip",I=x(),L=g("p"),L.textContent="(Several features will be unavailable while not logged in.)",N=x(),T=g("div"),F=g("p"),F.textContent="Meower Svelte v1.1.3",W=x(),H=g("img"),f(l,"alt","Meower"),ne(l.src,r=st)||f(l,"src",r),f(l,"class","logo-img svelte-jkmb3d"),f(l,"height","70"),f(i,"class","svelte-jkmb3d"),f(a,"class","svelte-jkmb3d"),f(s,"class","svelte-jkmb3d"),f(d,"class","svelte-jkmb3d"),f(m,"class","svelte-jkmb3d"),f(v,"class","svelte-jkmb3d"),f(w,"class","svelte-jkmb3d"),f(M,"class","svelte-jkmb3d"),f(L,"class","small svelte-jkmb3d"),f(F,"class","small svelte-jkmb3d"),ne(H.src,ce=nt)||f(H,"src",ce),f(H,"alt",""),f(H,"height","64"),f(H,"class","svelte-jkmb3d"),f(T,"class","svelte-jkmb3d"),f(t,"class","column-ui svelte-jkmb3d"),f(e,"class","fullcenter svelte-jkmb3d")},m(R,B){h(R,e,B),_(e,t),_(t,s),_(s,l),_(s,o),_(s,i),_(s,a),_(t,c),_(t,d),_(t,u),_(t,m),_(t,p),_(t,v),_(t,y),_(t,w),_(t,$),Y&&Y.m(t,null),_(t,S),_(t,M),_(t,I),_(t,L),_(t,N),_(t,T),_(T,F),_(T,W),_(T,H),se||(q=[P(d,"click",n[11]),P(v,"click",n[12]),P(M,"click",n[14])],se=!0)},p(R,B){k&&Y.p(R,B)},i:j,o:j,d(R){R&&b(e),Y&&Y.d(),se=!1,te(q)}}}function el(n){let e;return{c(){e=g("div"),e.textContent="Reconnecting...",f(e,"class","fullcenter svelte-jkmb3d")},m(t,s){h(t,e,s)},p:j,i:j,o:j,d(t){t&&b(e)}}}function tl(n){let e,t,s,l,r,o,i,a,c,d;return{c(){e=g("div"),t=g("div"),s=g("div"),l=g("img"),o=x(),i=g("div"),a=z(n[3]),f(l,"alt","Meower"),ne(l.src,r=st)||f(l,"src",r),f(l,"class","logo-img svelte-jkmb3d"),f(l,"height","40"),f(s,"class","logo top svelte-jkmb3d"),f(i,"class","connecting svelte-jkmb3d"),f(e,"class","fullcenter svelte-jkmb3d")},m(u,m){h(u,e,m),_(e,t),_(t,s),_(s,l),n[9](l),n[10](s),_(t,o),_(t,i),_(i,a),d=!0},p(u,m){(!d||m&8)&&K(a,u[3])},i(u){d||(c&&c.end(1),d=!0)},o(u){c=on(e,un,{duration:300}),d=!1},d(u){u&&b(e),n[9](null),n[10](null),u&&c&&c.end()}}}function nl(n){let e,t,s,l;return{c(){e=g("div"),t=g("button"),t.textContent="Click here to continue.",f(e,"class","fullcenter svelte-jkmb3d")},m(r,o){h(r,e,o),_(e,t),s||(l=P(t,"click",n[8]),s=!0)},p:j,i:j,o:j,d(r){r&&b(e),s=!1,l()}}}function sl(n){let e,t,s,l,r,o;return{c(){e=g("button"),e.textContent=`Use saved login (${localStorage.getItem("meower_savedusername")})`,t=x(),s=g("p"),l=z(n[3]),f(e,"class","svelte-jkmb3d"),f(s,"class","small svelte-jkmb3d")},m(i,a){h(i,e,a),h(i,t,a),h(i,s,a),_(s,l),r||(o=P(e,"click",n[13]),r=!0)},p(i,a){a&8&&K(l,i[3])},d(i){i&&b(e),i&&b(t),i&&b(s),r=!1,o()}}}function ll(n){let e,t,s,l,r;const o=[nl,tl,el,Zs,Xs,Qs,Vs,Js,Ks],i=[];function a(c,d){return c[6]==="start"?0:c[6]==="logo"?1:c[6]==="reconnect"?2:c[6]==="welcome"?3:c[6]==="login"?4:c[6]==="join"?5:c[6]==="blank"?6:c[6]==="go"?7:8}return t=a(n),s=i[t]=o[t](n),{c(){e=g("div"),s.c(),f(e,"class","setup white svelte-jkmb3d")},m(c,d){h(c,e,d),i[t].m(e,null),n[24](e),r=!0},p(c,[d]){let u=t;t=a(c),t===u?i[t].p(c,d):(ie(),E(i[u],1,1,()=>{i[u]=null}),ae(),s=i[t],s?s.p(c,d):(s=i[t]=o[t](c),s.c()),C(s,1),s.m(e,null))},i(c){r||(C(s),l&&l.end(1),r=!0)},o(c){E(s),l=on(e,un,{duration:300}),r=!1},d(c){c&&b(e),i[t].d(),n[24](null),c&&l&&l.end()}}}function ol(n,e,t){let s;V(n,G,q=>t(6,s=q));const l=O;let r,o,i,a="",c=!1;async function d(){await qt(),Gn(),await new Promise(q=>l.once("connected",q))}let u=!1;en(()=>{G.subscribe(async q=>{!o||(t(5,u=!1),t(4,c=!1),o.classList.remove("white"),q==="start"?qt():q==="logo"?(t(3,a=""),await Ee(),o.classList.add("white"),t(2,i.height=0,i),r.classList.remove("top"),await de(300),t(2,i.height=80,i),await de(300),o.classList.remove("white"),t(2,i.height=40,i),r.classList.add("top"),await de(700),t(3,a="Connecting..."),await d(),await de(800),t(3,a=""),G.set("blank"),await de(600),G.set("welcome")):q==="reconnect"&&(await d(),await de(100),G.set("welcome")))})});function m(q,Y){try{t(3,a="Logging in..."),ge({cmd:"direct",val:{cmd:"authpswd",val:{username:q,pswd:Y}}}).then(async R=>{try{const B=await ge({cmd:"direct",val:{cmd:"get_profile",val:R.payload.username}});Q.update(He=>Object.assign(He,{...B.payload,name:R.payload.username})),u&&(localStorage.setItem("meower_savedusername",q),localStorage.setItem("meower_savedpassword",Y)),pe.set("main")}catch(B){console.error(B),t(3,a="Unexpected "+B+" error getting user data!")}}).catch(R=>{R=="E:103 | ID not found"?t(3,a="Invalid username!"):R=="I:011 | Invalid Password"?t(3,a="Invalid password!"):R=="E:018 | Account Banned"?t(3,a="This account is banned. L :("):R=="E:107 | Packet too large"?t(3,a="The username and/or password is too long!"):R=="E:019 | Illegal characters detected"?t(3,a="Usernames must not have spaces or other special characters!"):t(3,a=`Unexpected ${R} error!`)})}catch(R){console.error(R),t(3,a="Error logging in: "+R)}}const p=()=>G.set("logo");function v(q){ze[q?"unshift":"push"](()=>{i=q,t(2,i)})}function y(q){ze[q?"unshift":"push"](()=>{r=q,t(0,r)})}const w=()=>G.set("login"),$=()=>G.set("join"),k=()=>{m(localStorage.getItem("meower_savedusername"),localStorage.getItem("meower_savedpassword"))},S=()=>{Q.set(tt()),t(3,a=""),G.set("blank"),pe.set("main")};function M(){u=this.checked,t(5,u)}const I=()=>(G.set("welcome"),t(3,a=""),!1),L=()=>(localStorage.removeItem("meower_savedusername"),localStorage.removeItem("meower_savedpassword"),t(3,a="Saved login cleared."),!1),N=q=>q.target[0].value&&q.target[1].value?(m(q.target[0].value,q.target[1].value),!1):(t(3,a="You must specify a username and a password to login!"),!1);function T(){u=this.checked,t(5,u)}function F(){c=this.checked,t(4,c)}const W=()=>(G.set("welcome"),t(3,a=""),!1),H=q=>{const Y=q.target[0].value,R=q.target[1].value;if(!(Y&&R))return t(3,a="You must specify a username and a password to create an account!"),!1;t(3,a="Creating account..."),ge({cmd:"direct",val:{cmd:"gen_account",val:{username:Y,pswd:R}},listener:"join"}).then(async B=>{if(B.mode==="auth"&&B.payload===Y){t(3,a="Getting user data...");const He=await ge({cmd:"direct",val:{cmd:"get_profile",val:B.payload}});Q.update(fn=>Object.assign(fn,{...He.payload,name:B.payload})),t(3,a=""),u&&(localStorage.setItem("meower_savedusername",Y),localStorage.setItem("meower_savedpassword",R)),G.set("go"),await de(1e3),pe.set("main")}else t(3,a="Unexpected error logging in!")}).catch(B=>{B==="I:015 | Account exists"?t(3,a="The account already exists!"):B=="E:107 | Packet too large"?t(3,a="The username and/or password is too long!"):(console.error(B),t(3,a="Unexpected "+B+" error!"))})},ce=()=>G.set("page2");function se(q){ze[q?"unshift":"push"](()=>{o=q,t(1,o)})}return[r,o,i,a,c,u,s,m,p,v,y,w,$,k,S,M,I,L,N,T,F,W,H,ce,se]}class rl extends ee{constructor(e){super(),Z(this,e,ol,ll,X,{})}}function il(n){let e;return{c(){e=g("div"),f(e,"class","spinner check svelte-o9ugf6")},m(t,s){h(t,e,s)},p:j,i:j,o:j,d(t){t&&b(e)}}}class al extends ee{constructor(e){super(),Z(this,e,null,il,X,{})}}function cl(n){let e,t;return e=new Gs({}),{c(){A(e.$$.fragment)},m(s,l){D(e,s,l),t=!0},p:j,i(s){t||(C(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function ul(n){let e,t;return e=new rl({}),{c(){A(e.$$.fragment)},m(s,l){D(e,s,l),t=!0},p:j,i(s){t||(C(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function fl(n){let e,t,s,l,r,o,i,a,c,d,u;function m(y,w){return y[2]===""?pl:y[2]==="E:119 | IP Blocked"?ml:dl}let p=m(n),v=p(n);return{c(){e=g("div"),t=g("div"),s=g("h1"),s.textContent="Me-owch.",l=x(),v.c(),r=x(),o=g("br"),i=g("br"),a=x(),c=g("button"),c.textContent="Reconnect!",f(t,"class","disconnected-inner"),f(e,"class","disconnected svelte-1rfvb7")},m(y,w){h(y,e,w),_(e,t),_(t,s),_(t,l),v.m(t,null),_(t,r),_(t,o),_(t,i),_(t,a),_(t,c),d||(u=P(c,"click",n[5]),d=!0)},p(y,w){p===(p=m(y))&&v?v.p(y,w):(v.d(1),v=p(y),v&&(v.c(),v.m(t,r)))},i:j,o:j,d(y){y&&b(e),v.d(),d=!1,u()}}}function dl(n){let e,t,s,l,r;return{c(){e=z(`We ran into an error trying to connect to the server.
					`),t=g("pre"),s=g("code"),l=z(n[2]),r=z(`
					Reconnect using the below button:`)},m(o,i){h(o,e,i),h(o,t,i),_(t,s),_(s,l),h(o,r,i)},p(o,i){i&4&&K(l,o[2])},d(o){o&&b(e),o&&b(t),o&&b(r)}}}function ml(n){let e,t=O.ip+"",s,l,r,o,i,a,c,d,u,m;return{c(){e=z("The server has blocked your IP address ("),s=z(t),l=z(`).
					`),r=g("br"),o=z(`
					This might be due to an extension blocking the URL used to get your IP
					`),i=g("br"),a=z(`
					address (`),c=z(Ae),d=z(`ip), or the Meower team actually blocking your IP.
					`),u=g("br"),m=z(`
					Attempt reconnecting using the below button:`)},m(p,v){h(p,e,v),h(p,s,v),h(p,l,v),h(p,r,v),h(p,o,v),h(p,i,v),h(p,a,v),h(p,c,v),h(p,d,v),h(p,u,v),h(p,m,v)},p:j,d(p){p&&b(e),p&&b(s),p&&b(l),p&&b(r),p&&b(o),p&&b(i),p&&b(a),p&&b(c),p&&b(d),p&&b(u),p&&b(m)}}}function pl(n){let e;return{c(){e=z(`You have been disconnected.
					Reconnect using the below button:`)},m(t,s){h(t,e,s)},p:j,d(t){t&&b(e)}}}function Ht(n){let e,t,s;return t=new al({}),{c(){e=g("div"),A(t.$$.fragment),f(e,"class","spinner-container svelte-1rfvb7")},m(l,r){h(l,e,r),D(t,e,null),s=!0},i(l){s||(C(t.$$.fragment,l),s=!0)},o(l){E(t.$$.fragment,l),s=!1},d(l){l&&b(e),U(t)}}}function gl(n){let e,t,s,l,r;const o=[fl,ul,cl],i=[];function a(d,u){return d[1]?0:d[3]==="setup"?1:2}t=a(n),s=i[t]=o[t](n);let c=n[4]&&Ht();return{c(){e=g("main"),s.c(),l=x(),c&&c.c(),f(e,"id","main"),f(e,"class","svelte-1rfvb7"),J(e,"theme-orange",n[0].theme==="orange"),J(e,"theme-blue",n[0].theme==="blue"),J(e,"mode-light",n[0].mode!==!1),J(e,"mode-dark",n[0].mode===!1),J(e,"layout-old",n[0].layout==="old")},m(d,u){h(d,e,u),i[t].m(e,null),_(e,l),c&&c.m(e,null),r=!0},p(d,[u]){let m=t;t=a(d),t===m?i[t].p(d,u):(ie(),E(i[m],1,1,()=>{i[m]=null}),ae(),s=i[t],s?s.p(d,u):(s=i[t]=o[t](d),s.c()),C(s,1),s.m(e,l)),d[4]?c?u&16&&C(c,1):(c=Ht(),c.c(),C(c,1),c.m(e,null)):c&&(ie(),E(c,1,1,()=>{c=null}),ae()),u&1&&J(e,"theme-orange",d[0].theme==="orange"),u&1&&J(e,"theme-blue",d[0].theme==="blue"),u&1&&J(e,"mode-light",d[0].mode!==!1),u&1&&J(e,"mode-dark",d[0].mode===!1),u&1&&J(e,"layout-old",d[0].layout==="old")},i(d){r||(C(s),C(c),r=!0)},o(d){E(s),E(c),r=!1},d(d){d&&b(e),i[t].d(),c&&c.d()}}}function _l(n,e,t){let s,l,r,o,i;return V(n,Q,c=>t(0,s=c)),V(n,ve,c=>t(1,l=c)),V(n,Ke,c=>t(2,r=c)),V(n,pe,c=>t(3,o=c)),V(n,we,c=>t(4,i=c)),pe.set("setup"),G.set("start"),[s,l,r,o,i,async()=>{pe.set("setup"),ve.set(!1),await Ee(),G.set("reconnect")}]}class vl extends ee{constructor(e){super(),Z(this,e,_l,gl,X,{})}}new vl({target:document.getElementById("app")});
