function Ra(){import("data:text/javascript,")}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerpolicy&&(r.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?r.credentials="include":l.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(l){if(l.ep)return;l.ep=!0;const r=t(l);fetch(l.href,r)}})();function P(){}const It=s=>s;function Vl(s,e){for(const t in e)s[t]=e[t];return s}function Xl(s){return s&&typeof s=="object"&&typeof s.then=="function"}function El(s){return s()}function ln(){return Object.create(null)}function se(s){s.forEach(El)}function ct(s){return typeof s=="function"}function V(s,e){return s!=s?e==e:s!==e||s&&typeof s=="object"||typeof s=="function"}let ht;function be(s,e){return ht||(ht=document.createElement("a")),ht.href=e,s===ht.href}function Zl(s){return Object.keys(s).length===0}function xl(s,...e){if(s==null)return P;const t=s.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function z(s,e,t){s.$$.on_destroy.push(xl(e,t))}function Tt(s,e,t,n){if(s){const l=Il(s,e,t,n);return s[0](l)}}function Il(s,e,t,n){return s[1]&&n?Vl(t.ctx.slice(),s[1](n(e))):t.ctx}function Nt(s,e,t,n){if(s[2]&&n){const l=s[2](n(t));if(e.dirty===void 0)return l;if(typeof l=="object"){const r=[],c=Math.max(e.dirty.length,l.length);for(let i=0;i<c;i+=1)r[i]=e.dirty[i]|l[i];return r}return e.dirty|l}return e.dirty}function At(s,e,t,n,l,r){if(l){const c=Il(e,t,n,r);s.p(c,l)}}function zt(s){if(s.ctx.length>32){const e=[],t=s.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function G(s,e,t){return s.set(t),e}function Ml(s){return s&&ct(s.destroy)?s.destroy:P}const Rl=typeof window<"u";let Yt=Rl?()=>window.performance.now():()=>Date.now(),Gt=Rl?s=>requestAnimationFrame(s):P;const Ve=new Set;function Ul(s){Ve.forEach(e=>{e.c(s)||(Ve.delete(e),e.f())}),Ve.size!==0&&Gt(Ul)}function Kt(s){let e;return Ve.size===0&&Gt(Ul),{promise:new Promise(t=>{Ve.add(e={c:s,f:t})}),abort(){Ve.delete(e)}}}function f(s,e){s.appendChild(e)}function jl(s){if(!s)return document;const e=s.getRootNode?s.getRootNode():s.ownerDocument;return e&&e.host?e:s.ownerDocument}function es(s){const e=m("style");return ts(jl(s),e),e.sheet}function ts(s,e){f(s.head||s,e)}function w(s,e,t){s.insertBefore(e,t||null)}function k(s){s.parentNode.removeChild(s)}function Ft(s,e){for(let t=0;t<s.length;t+=1)s[t]&&s[t].d(e)}function m(s){return document.createElement(s)}function E(s){return document.createTextNode(s)}function S(){return E(" ")}function Ce(){return E("")}function N(s,e,t,n){return s.addEventListener(e,t,n),()=>s.removeEventListener(e,t,n)}function he(s){return function(e){return e.preventDefault(),s.call(this,e)}}function d(s,e,t){t==null?s.removeAttribute(e):s.getAttribute(e)!==t&&s.setAttribute(e,t)}function ns(s){return Array.from(s.childNodes)}function K(s,e){e=""+e,s.wholeText!==e&&(s.data=e)}function Xe(s,e){s.value=e==null?"":e}function Ae(s,e,t,n){t===null?s.style.removeProperty(e):s.style.setProperty(e,t,n?"important":"")}function pe(s,e,t){s.classList[t?"add":"remove"](e)}function Ol(s,e,{bubbles:t=!1,cancelable:n=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(s,t,n,e),l}const Ct=new Map;let St=0;function ls(s){let e=5381,t=s.length;for(;t--;)e=(e<<5)-e^s.charCodeAt(t);return e>>>0}function ss(s,e){const t={stylesheet:es(e),rules:{}};return Ct.set(s,t),t}function Lt(s,e,t,n,l,r,c,i=0){const o=16.666/n;let a=`{
`;for(let h=0;h<=1;h+=o){const $=e+(t-e)*r(h);a+=h*100+`%{${c($,1-$)}}
`}const u=a+`100% {${c(t,1-t)}}
}`,_=`__svelte_${ls(u)}_${i}`,p=jl(s),{stylesheet:b,rules:g}=Ct.get(p)||ss(p,s);g[_]||(g[_]=!0,b.insertRule(`@keyframes ${_} ${u}`,b.cssRules.length));const v=s.style.animation||"";return s.style.animation=`${v?`${v}, `:""}${_} ${n}ms linear ${l}ms 1 both`,St+=1,_}function Jt(s,e){const t=(s.style.animation||"").split(", "),n=t.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),l=t.length-n.length;l&&(s.style.animation=n.join(", "),St-=l,St||rs())}function rs(){Gt(()=>{St||(Ct.forEach(s=>{const{stylesheet:e}=s;let t=e.cssRules.length;for(;t--;)e.deleteRule(t);s.rules={}}),Ct.clear())})}function at(s,e,t,n){if(!e)return P;const l=s.getBoundingClientRect();if(e.left===l.left&&e.right===l.right&&e.top===l.top&&e.bottom===l.bottom)return P;const{delay:r=0,duration:c=300,easing:i=It,start:o=Yt()+r,end:a=o+c,tick:u=P,css:_}=t(s,{from:e,to:l},n);let p=!0,b=!1,g;function v(){_&&(g=Lt(s,0,1,c,r,i,_)),r||(b=!0)}function h(){_&&Jt(s,g),p=!1}return Kt($=>{if(!b&&$>=o&&(b=!0),b&&$>=a&&(u(1,0),h()),!p)return!1;if(b){const y=$-o,I=0+1*i(y/c);u(I,1-I)}return!0}),v(),u(0,1),h}function ut(s){const e=getComputedStyle(s);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:n}=e,l=s.getBoundingClientRect();s.style.position="absolute",s.style.width=t,s.style.height=n,xe(s,l)}}function xe(s,e){const t=s.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const n=getComputedStyle(s),l=n.transform==="none"?"":n.transform;s.style.transform=`${l} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let it;function Re(s){it=s}function Mt(){if(!it)throw new Error("Function called outside component initialization");return it}function Qt(s){Mt().$$.on_mount.push(s)}function os(s){Mt().$$.on_destroy.push(s)}function is(){const s=Mt();return(e,t,{cancelable:n=!1}={})=>{const l=s.$$.callbacks[e];if(l){const r=Ol(e,t,{cancelable:n});return l.slice().forEach(c=>{c.call(s,r)}),!r.defaultPrevented}return!0}}const st=[],De=[],kt=[],sn=[],Tl=Promise.resolve();let Dt=!1;function Nl(){Dt||(Dt=!0,Tl.then(Vt))}function we(){return Nl(),Tl}function Se(s){kt.push(s)}const Ut=new Set;let gt=0;function Vt(){const s=it;do{for(;gt<st.length;){const e=st[gt];gt++,Re(e),cs(e.$$)}for(Re(null),st.length=0,gt=0;De.length;)De.pop()();for(let e=0;e<kt.length;e+=1){const t=kt[e];Ut.has(t)||(Ut.add(t),t())}kt.length=0}while(st.length);for(;sn.length;)sn.pop()();Dt=!1,Ut.clear(),Re(s)}function cs(s){if(s.fragment!==null){s.update(),se(s.before_update);const e=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,e),s.after_update.forEach(Se)}}let lt;function Al(){return lt||(lt=Promise.resolve(),lt.then(()=>{lt=null})),lt}function rt(s,e,t){s.dispatchEvent(Ol(`${e?"intro":"outro"}${t}`))}const wt=new Set;let qe;function te(){qe={r:0,c:[],p:qe}}function ne(){qe.r||se(qe.c),qe=qe.p}function C(s,e){s&&s.i&&(wt.delete(s),s.i(e))}function L(s,e,t,n){if(s&&s.o){if(wt.has(s))return;wt.add(s),qe.c.push(()=>{wt.delete(s),n&&(t&&s.d(1),n())}),s.o(e)}else n&&n()}const zl={duration:0};function Dl(s,e,t){let n=e(s,t),l=!0,r;const c=qe;c.r+=1;function i(){const{delay:o=0,duration:a=300,easing:u=It,tick:_=P,css:p}=n||zl;p&&(r=Lt(s,1,0,a,o,u,p));const b=Yt()+o,g=b+a;Se(()=>rt(s,!1,"start")),Kt(v=>{if(l){if(v>=g)return _(0,1),rt(s,!1,"end"),--c.r||se(c.c),!1;if(v>=b){const h=u((v-b)/a);_(1-h,h)}}return l})}return ct(n)?Al().then(()=>{n=n(),i()}):i(),{end(o){o&&n.tick&&n.tick(1,0),l&&(r&&Jt(s,r),l=!1)}}}function ye(s,e,t,n){let l=e(s,t),r=n?0:1,c=null,i=null,o=null;function a(){o&&Jt(s,o)}function u(p,b){const g=p.b-r;return b*=Math.abs(g),{a:r,b:p.b,d:g,duration:b,start:p.start,end:p.start+b,group:p.group}}function _(p){const{delay:b=0,duration:g=300,easing:v=It,tick:h=P,css:$}=l||zl,y={start:Yt()+b,b:p};p||(y.group=qe,qe.r+=1),c||i?i=y:($&&(a(),o=Lt(s,r,p,g,b,v,$)),p&&h(0,1),c=u(y,g),Se(()=>rt(s,p,"start")),Kt(I=>{if(i&&I>i.start&&(c=u(i,g),i=null,rt(s,c.b,"start"),$&&(a(),o=Lt(s,r,c.b,c.duration,0,v,l.css))),c){if(I>=c.end)h(r=c.b,1-r),rt(s,c.b,"end"),i||(c.b?a():--c.group.r||se(c.group.c)),c=null;else if(I>=c.start){const q=I-c.start;r=c.a+c.d*v(q/c.duration),h(r,1-r)}}return!!(c||i)}))}return{run(p){ct(l)?Al().then(()=>{l=l(),_(p)}):_(p)},end(){a(),c=i=null}}}function Ge(s,e){const t=e.token={};function n(l,r,c,i){if(e.token!==t)return;e.resolved=i;let o=e.ctx;c!==void 0&&(o=o.slice(),o[c]=i);const a=l&&(e.current=l)(o);let u=!1;e.block&&(e.blocks?e.blocks.forEach((_,p)=>{p!==r&&_&&(te(),L(_,1,1,()=>{e.blocks[p]===_&&(e.blocks[p]=null)}),ne())}):e.block.d(1),a.c(),C(a,1),a.m(e.mount(),e.anchor),u=!0),e.block=a,e.blocks&&(e.blocks[r]=a),u&&Vt()}if(Xl(s)){const l=Mt();if(s.then(r=>{Re(l),n(e.then,1,e.value,r),Re(null)},r=>{if(Re(l),n(e.catch,2,e.error,r),Re(null),!e.hasCatch)throw r}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,s),!0;e.resolved=s}}function et(s,e,t){const n=e.slice(),{resolved:l}=s;s.current===s.then&&(n[s.value]=l),s.current===s.catch&&(n[s.error]=l),s.block.p(n,t)}function as(s,e){L(s,1,1,()=>{e.delete(s.key)})}function ft(s,e){s.f(),as(s,e)}function dt(s,e,t,n,l,r,c,i,o,a,u,_){let p=s.length,b=r.length,g=p;const v={};for(;g--;)v[s[g].key]=g;const h=[],$=new Map,y=new Map;for(g=b;g--;){const R=_(l,r,g),T=t(R);let M=c.get(T);M?n&&M.p(R,e):(M=a(T,R),M.c()),$.set(T,h[g]=M),T in v&&y.set(T,Math.abs(g-v[T]))}const I=new Set,q=new Set;function A(R){C(R,1),R.m(i,u),c.set(R.key,R),u=R.first,b--}for(;p&&b;){const R=h[b-1],T=s[p-1],M=R.key,Y=T.key;R===T?(u=R.first,p--,b--):$.has(Y)?!c.has(M)||I.has(M)?A(R):q.has(Y)?p--:y.get(M)>y.get(Y)?(q.add(M),A(R)):(I.add(Y),p--):(o(T,c),p--)}for(;p--;){const R=s[p];$.has(R.key)||o(R,c)}for(;b;)A(h[b-1]);return h}function O(s){s&&s.c()}function U(s,e,t,n){const{fragment:l,on_mount:r,on_destroy:c,after_update:i}=s.$$;l&&l.m(e,t),n||Se(()=>{const o=r.map(El).filter(ct);c?c.push(...o):se(o),s.$$.on_mount=[]}),i.forEach(Se)}function j(s,e){const t=s.$$;t.fragment!==null&&(se(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function us(s,e){s.$$.dirty[0]===-1&&(st.push(s),Nl(),s.$$.dirty.fill(0)),s.$$.dirty[e/31|0]|=1<<e%31}function X(s,e,t,n,l,r,c,i=[-1]){const o=it;Re(s);const a=s.$$={fragment:null,ctx:null,props:r,update:P,not_equal:l,bound:ln(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:ln(),dirty:i,skip_bound:!1,root:e.target||o.$$.root};c&&c(a.root);let u=!1;if(a.ctx=t?t(s,e.props||{},(_,p,...b)=>{const g=b.length?b[0]:p;return a.ctx&&l(a.ctx[_],a.ctx[_]=g)&&(!a.skip_bound&&a.bound[_]&&a.bound[_](g),u&&us(s,_)),p}):[],a.update(),u=!0,se(a.before_update),a.fragment=n?n(a.ctx):!1,e.target){if(e.hydrate){const _=ns(e.target);a.fragment&&a.fragment.l(_),_.forEach(k)}else a.fragment&&a.fragment.c();e.intro&&C(s.$$.fragment),U(s,e.target,e.anchor,e.customElement),Vt()}Re(o)}class Z{$destroy(){j(this,1),this.$destroy=P}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const l=n.indexOf(t);l!==-1&&n.splice(l,1)}}$set(e){this.$$set&&!Zl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Qe=[];function ce(s,e=P){let t;const n=new Set;function l(i){if(V(s,i)&&(s=i,t)){const o=!Qe.length;for(const a of n)a[1](),Qe.push(a,s);if(o){for(let a=0;a<Qe.length;a+=2)Qe[a][0](Qe[a+1]);Qe.length=0}}}function r(i){l(i(s))}function c(i,o=P){const a=[i,o];return n.add(a),n.size===1&&(t=e(l)||P),i(s),()=>{n.delete(a),n.size===0&&(t(),t=null)}}return{set:l,update:r,subscribe:c}}const Be=ce("setup"),ue=ce("home"),me=ce("logo"),B=ce(!1),ae=ce(""),Me=ce(!1),ot=ce(""),Pt=ce(0),Ye=ce(""),ke=ce(""),Ke=ce([]),Bt=ce(""),Ue=ce([]),qt=ce({}),Fe=ce(""),Xt=ce(""),Ze=ce({}),re=ce({name:null,lvl:0,unread_inbox:!1,theme:"orange",mode:!0,sfx:!0,bgm:!0,bgm_song:2,layout:"new",pfp_data:1,quote:""}),He=ce(!1);window.onkeydown=function(s){s||(s=window.event),Je=s.shiftKey};window.onkeyup=function(s){s||(s=window.event),Je=s.shiftKey};window.onmousemove=function(s){s||(s=window.event),Je=s.shiftKey};let Je;function fs(){var s=new Audio("../src/assets/menu_notify.wav");s.play()}function Bl(){fs()}function ds(s){let e,t;const n=s[1].default,l=Tt(n,s,s[0],null);return{c(){e=m("div"),l&&l.c(),d(e,"class","svelte-6zv9mh")},m(r,c){w(r,e,c),l&&l.m(e,null),t=!0},p(r,[c]){l&&l.p&&(!t||c&1)&&At(l,n,r,r[0],t?Nt(n,r[0],c,null):zt(r[0]),null)},i(r){t||(C(l,r),t=!0)},o(r){L(l,r),t=!1},d(r){r&&k(e),l&&l.d(r)}}}function _s(s,e,t){let{$$slots:n={},$$scope:l}=e;return s.$$set=r=>{"$$scope"in r&&t(0,l=r.$$scope)},[l,n]}class oe extends Z{constructor(e){super(),X(this,e,_s,ds,V,{})}}const rn=""+new URL("icon_0.ab82a5ad.svg",import.meta.url).href,on=""+new URL("icon_1.3649891f.svg",import.meta.url).href,cn=""+new URL("icon_10.4bd3e33c.svg",import.meta.url).href,an=""+new URL("icon_100.026e1a7d.svg",import.meta.url).href,un=""+new URL("icon_101.0a8d8a50.svg",import.meta.url).href,fn=""+new URL("icon_11.521812d2.svg",import.meta.url).href,dn=""+new URL("icon_12.0f7ed126.svg",import.meta.url).href,_n=""+new URL("icon_13.58e2dcbb.svg",import.meta.url).href,pn=""+new URL("icon_14.6513f659.svg",import.meta.url).href,mn=""+new URL("icon_15.d1b06a28.svg",import.meta.url).href,hn=""+new URL("icon_16.e5e55f53.svg",import.meta.url).href,gn=""+new URL("icon_17.39e35340.svg",import.meta.url).href,bn=""+new URL("icon_18.dc1f4b4e.svg",import.meta.url).href,vn=""+new URL("icon_19.8ad18d14.svg",import.meta.url).href,$n=""+new URL("icon_2.03a60034.svg",import.meta.url).href,kn=""+new URL("icon_20.d1301d19.svg",import.meta.url).href,wn=""+new URL("icon_21.2ef6b9a3.svg",import.meta.url).href,yn=""+new URL("icon_22.c642b6ff.svg",import.meta.url).href,Cn=""+new URL("icon_23.cd7c45d1.svg",import.meta.url).href,Sn=""+new URL("icon_24.6026f708.svg",import.meta.url).href,Ln=""+new URL("icon_25.cc78b147.svg",import.meta.url).href,Pn=""+new URL("icon_26.1722b6b8.svg",import.meta.url).href,qn=""+new URL("icon_27.89761f19.svg",import.meta.url).href,En=""+new URL("icon_3.79effa11.svg",import.meta.url).href,In=""+new URL("icon_4.078d1185.svg",import.meta.url).href,Mn=""+new URL("icon_5.656d31e0.svg",import.meta.url).href,Rn=""+new URL("icon_6.d72d5ba2.svg",import.meta.url).href,Un=""+new URL("icon_7.16e301c0.svg",import.meta.url).href,jn=""+new URL("icon_8.515d5ae7.svg",import.meta.url).href,On=""+new URL("icon_9.25c74dcc.svg",import.meta.url).href,Tn=""+new URL("icon_err.8c194397.svg",import.meta.url).href;function Nn(s){let e;return{c(){e=m("span"),d(e,"class","online svelte-is4478")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function ps(s){let e,t,n,l,r,c,i,o=s[2]&&Nn();return{c(){e=m("span"),o&&o.c(),t=S(),n=m("span"),l=m("img"),d(l,"alt",s[1]),d(l,"title",s[1]),be(l.src,r=new URL(Object.assign({"../assets/avatars/icon_0.svg":rn,"../assets/avatars/icon_1.svg":on,"../assets/avatars/icon_10.svg":cn,"../assets/avatars/icon_100.svg":an,"../assets/avatars/icon_101.svg":un,"../assets/avatars/icon_11.svg":fn,"../assets/avatars/icon_12.svg":dn,"../assets/avatars/icon_13.svg":_n,"../assets/avatars/icon_14.svg":pn,"../assets/avatars/icon_15.svg":mn,"../assets/avatars/icon_16.svg":hn,"../assets/avatars/icon_17.svg":gn,"../assets/avatars/icon_18.svg":bn,"../assets/avatars/icon_19.svg":vn,"../assets/avatars/icon_2.svg":$n,"../assets/avatars/icon_20.svg":kn,"../assets/avatars/icon_21.svg":wn,"../assets/avatars/icon_22.svg":yn,"../assets/avatars/icon_23.svg":Cn,"../assets/avatars/icon_24.svg":Sn,"../assets/avatars/icon_25.svg":Ln,"../assets/avatars/icon_26.svg":Pn,"../assets/avatars/icon_27.svg":qn,"../assets/avatars/icon_3.svg":En,"../assets/avatars/icon_4.svg":In,"../assets/avatars/icon_5.svg":Mn,"../assets/avatars/icon_6.svg":Rn,"../assets/avatars/icon_7.svg":Un,"../assets/avatars/icon_8.svg":jn,"../assets/avatars/icon_9.svg":On,"../assets/avatars/icon_err.svg":Tn})[`./../assets/avatars/icon_${s[0]===-1?21:s[0]===-2?"err":s[0]-1}.svg`],self.location).href)||d(l,"src",r),d(l,"draggable",!1),d(l,"width","auto"),d(l,"height","100%"),d(l,"class","svelte-is4478"),pe(l,"loading",s[0]===-1),d(n,"class","pfp svelte-is4478"),d(e,"class","pfp-container svelte-is4478"),Ae(e,"--size",s[3],!1)},m(a,u){w(a,e,u),o&&o.m(e,null),f(e,t),f(e,n),f(n,l),c||(i=N(l,"error",s[4],{once:!0}),c=!0)},p(a,[u]){a[2]?o||(o=Nn(),o.c(),o.m(e,t)):o&&(o.d(1),o=null),u&2&&d(l,"alt",a[1]),u&2&&d(l,"title",a[1]),u&1&&!be(l.src,r=new URL(Object.assign({"../assets/avatars/icon_0.svg":rn,"../assets/avatars/icon_1.svg":on,"../assets/avatars/icon_10.svg":cn,"../assets/avatars/icon_100.svg":an,"../assets/avatars/icon_101.svg":un,"../assets/avatars/icon_11.svg":fn,"../assets/avatars/icon_12.svg":dn,"../assets/avatars/icon_13.svg":_n,"../assets/avatars/icon_14.svg":pn,"../assets/avatars/icon_15.svg":mn,"../assets/avatars/icon_16.svg":hn,"../assets/avatars/icon_17.svg":gn,"../assets/avatars/icon_18.svg":bn,"../assets/avatars/icon_19.svg":vn,"../assets/avatars/icon_2.svg":$n,"../assets/avatars/icon_20.svg":kn,"../assets/avatars/icon_21.svg":wn,"../assets/avatars/icon_22.svg":yn,"../assets/avatars/icon_23.svg":Cn,"../assets/avatars/icon_24.svg":Sn,"../assets/avatars/icon_25.svg":Ln,"../assets/avatars/icon_26.svg":Pn,"../assets/avatars/icon_27.svg":qn,"../assets/avatars/icon_3.svg":En,"../assets/avatars/icon_4.svg":In,"../assets/avatars/icon_5.svg":Mn,"../assets/avatars/icon_6.svg":Rn,"../assets/avatars/icon_7.svg":Un,"../assets/avatars/icon_8.svg":jn,"../assets/avatars/icon_9.svg":On,"../assets/avatars/icon_err.svg":Tn})[`./../assets/avatars/icon_${a[0]===-1?21:a[0]===-2?"err":a[0]-1}.svg`],self.location).href)&&d(l,"src",r),u&1&&pe(l,"loading",a[0]===-1),u&8&&Ae(e,"--size",a[3],!1)},i:P,o:P,d(a){a&&k(e),o&&o.d(),c=!1,i()}}}function ms(s,e,t){let{icon:n=-1}=e,{alt:l="Profile picture"}=e,{online:r=!1}=e,{size:c=1}=e;const i=()=>t(0,n=-2);return s.$$set=o=>{"icon"in o&&t(0,n=o.icon),"alt"in o&&t(1,l=o.alt),"online"in o&&t(2,r=o.online),"size"in o&&t(3,c=o.size)},[n,l,r,c,i]}class tt extends Z{constructor(e){super(),X(this,e,ms,ps,V,{icon:0,alt:1,online:2,size:3})}}function hs(s){let e,t;return{c(){e=m("span"),t=E(s[0]),d(e,"title",s[1]),d(e,"class","date svelte-190wm28")},m(n,l){w(n,e,l),f(e,t)},p(n,[l]){l&1&&K(t,n[0]),l&2&&d(e,"title",n[1])},i:P,o:P,d(n){n&&k(e)}}}function gs(s,e,t){let{date:n=0}=e,l,r;return s.$$set=c=>{"date"in c&&t(2,n=c.date)},s.$$.update=()=>{if(s.$$.dirty&4){const c=new Date(n*1e3);t(0,l=c.toLocaleString()),t(1,r=`Time is in your local timezone (UTC+${-(c.getTimezoneOffset()/60)}).
12-hour time: ${c.toLocaleString([],{hourCycle:"h11"})}
24-hour time: ${c.toLocaleString([],{hourCycle:"h23"})}
ISO: ${c.toISOString()}`)}},[l,r,n]}class bs extends Z{constructor(e){super(),X(this,e,gs,hs,V,{date:2})}}function We(s){return new Promise(e=>setTimeout(e,s))}const vs=localStorage.getItem("meower_linkurl")||"wss://server.meower.org/",je=localStorage.getItem("meower_apiurl")||"https://api.meower.org/",_t=localStorage.getItem("meower_encodeapi")||!1;class $s{constructor(e){return this.events={},this._numevents=1,this.ip=null,e&&this.connect(e),this}_console(e,t,n){const l=Array.from(arguments).slice(2),r="%o".repeat(l.length);console[e](`%cCLJS%c${t}%c ${r}`,"background:#0fbd8c;color:white;font-weight:bold;border-radius:4px 0 0 4px;padding:0 3px;display:inline-block","background:#000;color:white;font-weight:bold;border-radius:0 4px 4px 0;padding:0 3px;display:inline-block","",...l)}log(e,t){this._console.apply(this,["log",...arguments])}warn(e,t){this._console.apply(this,["warn",...arguments])}error(e,t){this._console.apply(this,["error",...arguments])}connect(e){return new Promise((t,n)=>{try{this.ws&&this.ws.readyState===1&&(this.log("connection","already connected, disconnecting..."),this.disconnect(1e3,"Intentional disconnect")),this.ws=new WebSocket(e),this.emit("connectionstart"),this.ws.addEventListener("open",async()=>{try{this.log("connection","connected to websockets");const l=localStorage.getItem("meower_ip");l||l===""?this.ip=l:this.ip=await(await fetch(je+"ip")).text(),this.send({cmd:"direct",val:{cmd:"ip",val:this.ip}}),await We(100),this.send({cmd:"direct",val:{cmd:"type",val:"js"},listener:"send_type"});const r=this.sendListener({cmd:"direct",val:"meower",listener:"send_tkey"},c=>{c.cmd==="statuscode"&&(this.off(r),c.val==="I:100 | OK"?(t(),this.log("connection","successfully connected")):(n(c.val),this.error("connection","error connecting; code:",c.val)))});this.emit("connected")}catch(l){this.error("connection","error connecting:",l),n(l)}}),this.ws.addEventListener("message",l=>{const r=JSON.parse(l.data);this.log("< incoming",r),this.emit(r.cmd,r),r.listener&&this.emit("__listener_"+r.listener,r)}),this.ws.addEventListener("close",l=>{this.log("connection","disconnected with code ",l.code," and reason",l.reason),this.emit("disconnected",l)}),this.ws.addEventListener("error",l=>{this.error("connection","error:",l),this.emit("error",l)})}catch(l){n(l)}})}send(e){if(!this.ws||this.ws.readyState!==1)throw new Error("Not connected; use link.connect(server) to connect");this.log("> outgoing",e),this.ws.send(JSON.stringify(e))}sendListener(e,t){if(!e.listener)throw new Error("data must have a listener");return this.send(e),this.onListener(e.listener,t)}on(e,t){this._numevents++;const n=(this._numevents-1).toString();return this.events[n]={event:e,cb:t},n}onListener(e,t){return this.on("__listener_"+e,t)}off(e){if(!this.events[e])throw new Error("Tried to remove nonexistent listener");delete this.events[e]}once(e,t){const n=this.on(e,()=>{t(arguments),this.off(n)})}emit(e,t){Object.values(this.events).forEach(n=>{n.event===e&&n.cb(t)})}disconnect(e,t){!this.ws||this.ws.readyState!==1||(console.log(e,t),this.ws.close(e,t))}}function Zt(){return{name:null,theme:"orange",mode:!0,sfx:!0,bgm:!0,bgm_song:2,layout:"new",pfp_data:1,quote:""}}let Ee=null;re.subscribe(s=>{Ee=s,Ee.name&&localStorage.setItem("meower_savedconfig",JSON.stringify({theme:Ee.theme,mode:Ee.mode}))});if(localStorage.getItem("meower_savedconfig")){const s=Ee,e=JSON.parse(localStorage.getItem("meower_savedconfig"));s.theme=e.theme,s.mode=e.mode,re.set(s)}const W=new $s;window.cljs=W;W.log("manager","started");let jt=null,Ne=null,bt=null,vt=null,$t=null,Le=null;async function Hl(){jt&&(W.off(jt),Ne=null),Ne&&(W.off(Ne),Ne=null),bt&&(W.off(bt),bt=null),vt&&(W.off(vt),vt=null),$t&&(W.off($t),$t=null),Le&&(clearInterval(Le),Le=null),Me.set(!1),ot.set(""),W.once("connectionstart",()=>{jt=W.on("connected",()=>{Me.set(!1),Le=setInterval(()=>{W.send({cmd:"ping",val:""})},1e4)}),Ne=W.on("disconnected",s=>{Ue.set([]),s.reason!=="Intentional disconnect"&&Me.set(!0);let e=Zt();e.theme=Ee.theme,e.mode=Ee.mode,re.set(e),Le&&(clearInterval(Le),Le=null)}),bt=W.on("ulist",s=>{const e=s.val.split(";");e[e.length-1]===""&&e.pop(),Ue.set(e)}),vt=W.on("direct",s=>{s.val.mode=="inbox_message"&&(Ee.unread_inbox=!0,re.set(Ee))}),$t=W.on("direct",s=>{(s.val=="E:018 | Account Banned"||s.val=="E:020 | Kicked"||s.val=="E:110 | ID conflict"||s.val=="E:119 | IP Blocked")&&(W.disconnect(),ot.set(s.val),Me.set(!0),W.log("manager","requested disconnect:",s.val))})}),Me.set(!1);try{return await W.connect(vs)}catch(s){return W.disconnect(),ot.set(s),Me.set(!0),W.error("manager","conenction error:",s),s}}async function Ht(){return W.ws?W.ws.readyState!==1?(W.log("manager","already disconnected or disconnecting, cancelling safe disconnect"),new Promise(s=>s())):(W.log("manager","safely disconnecting"),new Promise(s=>{Ue.set([]),re.set(Zt()),Ne&&(W.off(Ne),Ne=null),Le&&(clearInterval(Le),Le=null),W.once("disconnected",s),W.disconnect(1e3,"Intentional disconnect")})):(W.log("manager","websocket not present, cancelling safe disconnect"),new Promise(s=>s()))}async function ie(s){return W.log("manager","meower request",s),He.set(!0),new Promise((e,t)=>{let n=null;const l=setTimeout(()=>{t("Timed out"),He.set(!1)},1e4),r=W.sendListener({...s,listener:"listener_"+Math.floor(Math.random()*1e7)},c=>{c.cmd==="statuscode"?(W.off(r),He.set(!1),clearTimeout(l),c.val==="I:100 | OK"?e(n):t(c.val)):c.cmd==="direct"&&(n=c.val)})})}async function ze(){const s=Ee;return ie({cmd:"direct",val:{cmd:"update_config",val:{unread_inbox:s.unread_inbox,theme:s.theme,mode:s.mode,sfx:s.sfx,bgm:s.bgm,bgm_song:s.bgm_song,layout:s.layout,pfp_data:s.pfp_data,quote:s.quote}}})}const ks=Object.freeze(Object.defineProperty({__proto__:null,link:W,connect:Hl,disconnect:Ht,meowerRequest:ie,updateProfile:ze},Symbol.toStringTag,{value:"Module"})),Pe=ce({});let de;Pe.subscribe(s=>de=s);async function Et(s){if(de[s]&&!de[s].temporary)return de[s];if(s==="Notification")return de[s]={pfp_data:101},Pe.set(de),de[s];if(s==="Announcement")return de[s]={pfp_data:102},Pe.set(de),de[s];if(s==="Server")return de[s]={pfp_data:102},Pe.set(de),de[s];de[s]={pfp_data:-1},Pe.set(de);try{const e=await fetch(`${je}/users/${s}`);if(!e.ok)throw new Error("response code not OK; code "+e.status);const t=await e.json();de[s]=t,Pe.set(de)}catch(e){throw console.log(e),de[s]={error:!0,pfp_data:-2,temporary:!0},Pe.set(de),e}return de[s]}function An(s){let e,t,n=s[1]&&s[0].user!=="Notification"&&s[0].user!=="Announcement"&&zn(s);function l(i,o){return i[4].lvl>=1||i[0].user===i[4].name?ys:ws}let r=l(s),c=r(s);return{c(){n&&n.c(),e=S(),c.c(),t=Ce()},m(i,o){n&&n.m(i,o),w(i,e,o),c.m(i,o),w(i,t,o)},p(i,o){i[1]&&i[0].user!=="Notification"&&i[0].user!=="Announcement"?n?n.p(i,o):(n=zn(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),r===(r=l(i))&&c?c.p(i,o):(c.d(1),c=r(i),c&&(c.c(),c.m(t.parentNode,t)))},d(i){n&&n.d(i),i&&k(e),c.d(i),i&&k(t)}}}function zn(s){let e,t,n;return{c(){e=m("button"),d(e,"class","circle join svelte-r298n5")},m(l,r){w(l,e,r),t||(n=N(e,"click",s[8]),t=!0)},p:P,d(l){l&&k(e),t=!1,n()}}}function ws(s){let e,t,n;return{c(){e=m("button"),d(e,"class","circle report svelte-r298n5")},m(l,r){w(l,e,r),t||(n=N(e,"click",s[10]),t=!0)},p:P,d(l){l&&k(e),t=!1,n()}}}function ys(s){let e,t,n;return{c(){e=m("button"),d(e,"class","circle close svelte-r298n5")},m(l,r){w(l,e,r),t||(n=N(e,"click",s[9]),t=!0)},p:P,d(l){l&&k(e),t=!1,n()}}}function Dn(s){let e;return{c(){e=m("i"),e.textContent="[BRIDGED]"},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Cs(s){let e,t,n,l,r,c,i,o,a=s[0].user+"",u,_,p,b,g,v,h=s[0].content+"",$,y,I,q,A=s[2]&&s[4].name&&s[5]!=="livechat"&&s[0].user!=="Server"&&An(s);r=new tt({props:{icon:s[6][s[0].user]?s[6][s[0].user].pfp_data:-3,alt:s[0].user+"'s profile picture",online:s[7].includes(s[0].user)}}),p=new bs({props:{date:s[0].date}});let R=s[3]&&Dn();return{c(){e=m("div"),t=m("div"),A&&A.c(),n=S(),l=m("button"),O(r.$$.fragment),c=S(),i=m("div"),o=m("h2"),u=E(a),_=S(),O(p.$$.fragment),b=S(),R&&R.c(),g=S(),v=m("p"),$=E(h),d(t,"class","settings-controls svelte-r298n5"),d(l,"class","pfp svelte-r298n5"),d(o,"class","creator svelte-r298n5"),d(i,"class","creator svelte-r298n5"),d(e,"class","post-header svelte-r298n5"),d(v,"class","post-content svelte-r298n5")},m(T,M){w(T,e,M),f(e,t),A&&A.m(t,null),f(e,n),f(e,l),U(r,l,null),f(e,c),f(e,i),f(i,o),f(o,u),f(i,_),U(p,i,null),f(i,b),R&&R.m(i,null),w(T,g,M),w(T,v,M),f(v,$),y=!0,I||(q=N(l,"click",s[11]),I=!0)},p(T,M){T[2]&&T[4].name&&T[5]!=="livechat"&&T[0].user!=="Server"?A?A.p(T,M):(A=An(T),A.c(),A.m(t,null)):A&&(A.d(1),A=null);const Y={};M&65&&(Y.icon=T[6][T[0].user]?T[6][T[0].user].pfp_data:-3),M&1&&(Y.alt=T[0].user+"'s profile picture"),M&129&&(Y.online=T[7].includes(T[0].user)),r.$set(Y),(!y||M&1)&&a!==(a=T[0].user+"")&&K(u,a);const Q={};M&1&&(Q.date=T[0].date),p.$set(Q),T[3]?R||(R=Dn(),R.c(),R.m(i,null)):R&&(R.d(1),R=null),(!y||M&1)&&h!==(h=T[0].content+"")&&K($,h)},i(T){y||(C(r.$$.fragment,T),C(p.$$.fragment,T),y=!0)},o(T){L(r.$$.fragment,T),L(p.$$.fragment,T),y=!1},d(T){T&&k(e),A&&A.d(),j(r),j(p),R&&R.d(),T&&k(g),T&&k(v),I=!1,q()}}}function Ss(s){let e,t;return e=new oe({props:{$$slots:{default:[Cs]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p(n,[l]){const r={};l&8447&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Ls(s,e,t){let n,l,r,c;z(s,re,h=>t(4,n=h)),z(s,ke,h=>t(5,l=h)),z(s,Pe,h=>t(6,r=h)),z(s,Ue,h=>t(7,c=h));let{post:i={}}=e,{buttons:o=!0}=e,{input:a=null}=e,u=!1;function _(){!i.user||(i.user=="Discord"&&i.content.includes(":")&&t(3,u=!0),i.user=="Discord"&&i.content.includes(":")&&(t(0,i.user=i.content.split(": ")[0],i),t(0,i.content=i.content.slice(i.content.indexOf(": ")+1),i)),Et(i.user))}Qt(_);const p=()=>{let h=a.value;const $=/^@\w+\s*/i,y="@"+i.user+" ";$.test(h)?t(1,a.value=h.trim().replace($,y),a):t(1,a.value=y+h.trim(),a),a.focus()},b=()=>{if(Je){ie({cmd:"direct",val:{cmd:"delete_post",val:i.post_id}});return}qt.set(i),ae.set("deletePost"),B.set(!0)},g=()=>{qt.set(i),ae.set("reportPost"),B.set(!0)},v=()=>{i.user==="Notification"||i.user==="Announcement"||i.user==="Server"||(Fe.set(i.user),ue.set("profile"))};return s.$$set=h=>{"post"in h&&t(0,i=h.post),"buttons"in h&&t(2,o=h.buttons),"input"in h&&t(1,a=h.input)},[i,a,o,u,n,l,r,c,p,b,g,v]}class nt extends Z{constructor(e){super(),X(this,e,Ls,Ss,V,{post:0,buttons:2,input:1})}}function Ps(s){let e;return{c(){e=m("span"),e.innerHTML='<span class="circle circle1 svelte-idse3p"></span><span class="circle circle2 svelte-idse3p"></span><span class="circle circle3 svelte-idse3p"></span>',d(e,"class","loading svelte-idse3p")},m(t,n){w(t,e,n)},p:P,i:P,o:P,d(t){t&&k(e)}}}class ve extends Z{constructor(e){super(),X(this,e,null,Ps,V,{})}}let yt={},$e={};W.on("direct",s=>{if(s.val.state===100?Bn(s.val.chatid,s.val.u):s.val.chatid==="livechat"&&s.val.state===101&&Bn("home",s.val.u),s.val.type===1){if(!$e[s.val.post_origin])return;$e[s.val.post_origin]=$e[s.val.post_origin].filter(e=>e!==s.val.u),Rt.set($e)}});function Bn(s,e){let t=new Date*1;yt[s]||(yt[s]={}),yt[s][e]=t,$e[s]||($e[s]=[]),$e[s].includes(e)||($e[s].push(e),Rt.set($e)),setTimeout(function(){qs(s,e,t)},3e3)}function qs(s,e,t){yt[s][e]===t&&($e[s]=$e[s].filter(n=>n!==e),Rt.set($e))}let Rt=ce({});function Hn(s){let e,t;return e=new oe({props:{$$slots:{default:[Rs]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p(n,l){const r={};l&17&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Es(s){let e,t,n=s[0].splice(s[0].length-1,1).join(", ")+"",l,r,c=s[0][s[0].length-1]+"",i,o;return{c(){e=m("span"),t=m("b"),l=E(n),r=E(" and "),i=E(c),o=E(" are typing..."),d(e,"class","text svelte-1u9lhqm")},m(a,u){w(a,e,u),f(e,t),f(t,l),f(t,r),f(t,i),f(e,o)},p(a,u){u&1&&n!==(n=a[0].splice(a[0].length-1,1).join(", ")+"")&&K(l,n),u&1&&c!==(c=a[0][a[0].length-1]+"")&&K(i,c)},d(a){a&&k(e)}}}function Is(s){let e;return{c(){e=m("span"),e.textContent="5 or more people are typing..",d(e,"class","text svelte-1u9lhqm")},m(t,n){w(t,e,n)},p:P,d(t){t&&k(e)}}}function Ms(s){let e,t,n=s[0][0]+"",l,r;return{c(){e=m("span"),t=m("b"),l=E(n),r=E(" is typing..."),d(e,"class","text svelte-1u9lhqm")},m(c,i){w(c,e,i),f(e,t),f(t,l),f(e,r)},p(c,i){i&1&&n!==(n=c[0][0]+"")&&K(l,n)},d(c){c&&k(e)}}}function Rs(s){let e,t,n,l,r,c,i;function o(_,p){return _[0].length===1?Ms:_[0].length>=5?Is:Es}let a=o(s),u=a(s);return{c(){e=m("span"),t=m("span"),n=S(),l=m("span"),r=S(),c=m("span"),i=S(),u.c(),d(t,"class","circle circle1 svelte-1u9lhqm"),d(l,"class","circle circle2 svelte-1u9lhqm"),d(c,"class","circle circle3 svelte-1u9lhqm"),d(e,"class","loading svelte-1u9lhqm")},m(_,p){w(_,e,p),f(e,t),f(e,n),f(e,l),f(e,r),f(e,c),f(e,i),u.m(e,null)},p(_,p){a===(a=o(_))&&u?u.p(_,p):(u.d(1),u=a(_),u&&(u.c(),u.m(e,null)))},d(_){_&&k(e),u.d()}}}function Us(s){let e,t,n=(s[1]==="home"||s[1]=="groupchat")&&s[0].length>0&&Hn(s);return{c(){n&&n.c(),e=Ce()},m(l,r){n&&n.m(l,r),w(l,e,r),t=!0},p(l,[r]){(l[1]==="home"||l[1]=="groupchat")&&l[0].length>0?n?(n.p(l,r),r&3&&C(n,1)):(n=Hn(l),n.c(),C(n,1),n.m(e.parentNode,e)):n&&(te(),L(n,1,1,()=>{n=null}),ne())},i(l){t||(C(n),t=!0)},o(l){L(n),t=!1},d(l){n&&n.d(l),l&&k(e)}}}function js(s,e,t){let n,l,r;z(s,re,i=>t(2,n=i)),z(s,ke,i=>t(3,l=i)),z(s,ue,i=>t(1,r=i));let c=[];return Rt.subscribe(i=>{r==="home"&&t(0,c=i.home),r==="groupchat"&&t(0,c=i[l]),c===void 0&&t(0,c=[]),t(0,c=c.filter(o=>o!==n.name))}),[c,r]}class Wl extends Z{constructor(e){super(),X(this,e,js,Us,V,{})}}const Ot=(...s)=>s.map(parseFloat).reduce((e,t)=>e+t,0),Os=typeof document<"u"?!!document.documentElement.currentStyle:!1,Ts=(s,e)=>e.reduce((t,n)=>(t[n]=s[n],t),{}),Ns=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"];function As(s){const e=window.getComputedStyle(s);if(e===null)return null;let t=Ts(e,Ns);const{boxSizing:n}=t;if(n==="")return null;Os&&n==="border-box"&&(t.width=Ot(t.width,t.borderRightWidth,t.borderLeftWidth,t.paddingRight,t.paddingLeft)+"px");const l=Ot(t.paddingBottom,t.paddingTop),r=Ot(t.borderBottomWidth,t.borderTopWidth);return{sizingStyle:t,paddingSize:l,borderSize:r}}const zs={"min-height":"0","max-height":"none",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"};function Wn(s){return Object.entries(zs).forEach(([e,t])=>s.style.setProperty(e,t,"important"))}let ge;const Ds=(s,e)=>{const t=s.scrollHeight;return e.sizingStyle.boxSizing==="border-box"?t+e.borderSize:t-e.paddingSize};function Bs(s,e){ge||(ge=document.createElement("textarea"),ge.setAttribute("tab-index","-1"),ge.setAttribute("aria-hidden","true"),ge.setAttribute("rows","1"),Wn(ge)),ge.parentNode===null&&document.body.appendChild(ge);const{paddingSize:t,borderSize:n,sizingStyle:l}=s,{boxSizing:r}=l;Object.entries(l).forEach(([a,u])=>ge.style[a]=u),Wn(ge),ge.value=e;let c=Ds(ge,s);ge.value="x";let o=ge.scrollHeight-t;return r==="border-box"&&(o=o+t+n),Math.max(o,c)}function Yl(s){const e=()=>{const t=As(s);if(!t)return;const n=Bs(t,s.value||s.placeholder||"x");s.style.setProperty("height",`${n}px`,"important")};s.addEventListener("input",e),window.addEventListener("resize",e),e()}function xt(s){const e=s-1;return e*e*e+1}function Gl(s,{delay:e=0,duration:t=400,easing:n=It}={}){const l=+getComputedStyle(s).opacity;return{delay:e,duration:t,easing:n,css:r=>`opacity: ${r*l}`}}function Ie(s,{delay:e=0,duration:t=400,easing:n=xt,x:l=0,y:r=0,opacity:c=0}={}){const i=getComputedStyle(s),o=+i.opacity,a=i.transform==="none"?"":i.transform,u=o*(1-c);return{delay:e,duration:t,easing:n,css:(_,p)=>`
			transform: ${a} translate(${(1-_)*l}px, ${(1-_)*r}px);
			opacity: ${o-u*p}`}}function Yn(s,{delay:e=0,duration:t=400,easing:n=xt,start:l=0,opacity:r=0}={}){const c=getComputedStyle(s),i=+c.opacity,o=c.transform==="none"?"":c.transform,a=1-l,u=i*(1-r);return{delay:e,duration:t,easing:n,css:(_,p)=>`
			transform: ${o} scale(${1-a*p});
			opacity: ${i-u*p}
		`}}function pt(s,{from:e,to:t},n={}){const l=getComputedStyle(s),r=l.transform==="none"?"":l.transform,[c,i]=l.transformOrigin.split(" ").map(parseFloat),o=e.left+e.width*c/t.width-(t.left+c),a=e.top+e.height*i/t.height-(t.top+i),{delay:u=0,duration:_=b=>Math.sqrt(b)*120,easing:p=xt}=n;return{delay:u,duration:ct(_)?_(Math.sqrt(o*o+a*a)):_,easing:p,css:(b,g)=>{const v=g*o,h=g*a,$=b+g*e.width/t.width,y=b+g*e.height/t.height;return`transform: ${r} translate(${v}px, ${h}px) scale(${$}, ${y});`}}}function Gn(s,e,t){const n=s.slice();return n[21]=e[t],n}function Hs(s){let e,t;return e=new oe({props:{$$slots:{default:[Ws]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p(n,l){const r={};l&33554432&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Ws(s){let e,t,n,l,r=s[24]+"",c;return{c(){e=m("h1"),e.textContent="Home",t=E(`\r
			Error loading posts. Please try again.\r
			`),n=m("pre"),l=m("code"),c=E(r)},m(i,o){w(i,e,o),w(i,t,o),w(i,n,o),f(n,l),f(l,c)},p:P,d(i){i&&k(e),i&&k(t),i&&k(n)}}}function Ys(s){let e,t,n,l,r,c,i,o,a,u,_,p;e=new oe({props:{$$slots:{default:[Gs]},$$scope:{ctx:s}}});let b=s[7].name&&Fn(s);l=new Wl({});const g=[Fs,Ks],v=[];function h(q,A){return q[0].length<1?0:1}c=h(s),i=v[c]=g[c](s);const $=[Xs,Vs],y=[];function I(q,A){return q[2]?0:q[3]&&q[3]>q[1]?1:-1}return~(u=I(s))&&(_=y[u]=$[u](s)),{c(){O(e.$$.fragment),t=S(),b&&b.c(),n=S(),O(l.$$.fragment),r=S(),i.c(),o=S(),a=m("div"),_&&_.c(),d(a,"class","center svelte-tgtdz3")},m(q,A){U(e,q,A),w(q,t,A),b&&b.m(q,A),w(q,n,A),U(l,q,A),w(q,r,A),v[c].m(q,A),w(q,o,A),w(q,a,A),~u&&y[u].m(a,null),p=!0},p(q,A){const R={};A&33554496&&(R.$$scope={dirty:A,ctx:q}),e.$set(R),q[7].name?b?b.p(q,A):(b=Fn(q),b.c(),b.m(n.parentNode,n)):b&&(b.d(1),b=null);let T=c;c=h(q),c===T?v[c].p(q,A):(te(),L(v[T],1,1,()=>{v[T]=null}),ne(),i=v[c],i?i.p(q,A):(i=v[c]=g[c](q),i.c()),C(i,1),i.m(o.parentNode,o));let M=u;u=I(q),u===M?~u&&y[u].p(q,A):(_&&(te(),L(y[M],1,1,()=>{y[M]=null}),ne()),~u?(_=y[u],_?_.p(q,A):(_=y[u]=$[u](q),_.c()),C(_,1),_.m(a,null)):_=null)},i(q){p||(C(e.$$.fragment,q),C(l.$$.fragment,q),C(i),C(_),p=!0)},o(q){L(e.$$.fragment,q),L(l.$$.fragment,q),L(i),L(_),p=!1},d(q){j(e,q),q&&k(t),b&&b.d(q),q&&k(n),j(l,q),q&&k(r),v[c].d(q),q&&k(o),q&&k(a),~u&&y[u].d()}}}function Kn(s){let e=" ",t,n,l=s[6].join(", ")+"",r,c;return{c(){t=E(e),n=E("("),r=E(l),c=E(")")},m(i,o){w(i,t,o),w(i,n,o),w(i,r,o),w(i,c,o)},p(i,o){o&64&&l!==(l=i[6].join(", ")+"")&&K(r,l)},d(i){i&&k(t),i&&k(n),i&&k(r),i&&k(c)}}}function Gs(s){let e,t,n=s[6].length+"",l,r,c,i=s[6].length&&Kn(s);return{c(){e=m("h1"),e.textContent="Home",t=E(`\r
			There are currently `),l=E(n),r=E(" user(s) online"),i&&i.c(),c=E(".")},m(o,a){w(o,e,a),w(o,t,a),w(o,l,a),w(o,r,a),i&&i.m(o,a),w(o,c,a)},p(o,a){a&64&&n!==(n=o[6].length+"")&&K(l,n),o[6].length?i?i.p(o,a):(i=Kn(o),i.c(),i.m(c.parentNode,c)):i&&(i.d(1),i=null)},d(o){o&&k(e),o&&k(t),o&&k(l),o&&k(r),i&&i.d(o),o&&k(c)}}}function Fn(s){let e,t,n,l,r,c,i,o,a;return{c(){e=m("form"),t=m("textarea"),n=S(),l=m("button"),l.textContent="Post",r=S(),c=m("div"),i=E(s[4]),d(t,"type","text"),d(t,"class","white svelte-tgtdz3"),d(t,"placeholder","Write something..."),d(t,"id","postinput"),d(t,"name","postinput"),d(t,"autocomplete","false"),d(t,"maxlength","360"),d(t,"rows","1"),d(l,"id","submitpost"),d(e,"class","createpost svelte-tgtdz3"),d(e,"autocomplete","off"),d(c,"class","post-errors svelte-tgtdz3")},m(u,_){w(u,e,_),f(e,t),s[12](t),f(e,n),f(e,l),w(u,r,_),w(u,c,_),f(c,i),o||(a=[Ml(Yl.call(null,t)),N(t,"input",s[10]),N(t,"keydown",s[11]),N(e,"submit",he(s[13]))],o=!0)},p(u,_){_&16&&K(i,u[4])},d(u){u&&k(e),s[12](null),u&&k(r),u&&k(c),o=!1,se(a)}}}function Ks(s){let e=[],t=new Map,n,l,r=s[0];const c=i=>i[21].id;for(let i=0;i<r.length;i+=1){let o=Gn(s,r,i),a=c(o);t.set(a,e[i]=Jn(a,o))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();n=Ce()},m(i,o){for(let a=0;a<e.length;a+=1)e[a].m(i,o);w(i,n,o),l=!0},p(i,o){if(o&33){r=i[0],te();for(let a=0;a<e.length;a+=1)e[a].r();e=dt(e,o,c,1,i,r,t,n.parentNode,ft,Jn,n,Gn);for(let a=0;a<e.length;a+=1)e[a].a();ne()}},i(i){if(!l){for(let o=0;o<r.length;o+=1)C(e[o]);l=!0}},o(i){for(let o=0;o<e.length;o+=1)L(e[o]);l=!1},d(i){for(let o=0;o<e.length;o+=1)e[o].d(i);i&&k(n)}}}function Fs(s){let e;function t(r,c){return r[7].name?Qs:Js}let n=t(s),l=n(s);return{c(){l.c(),e=Ce()},m(r,c){l.m(r,c),w(r,e,c)},p(r,c){n!==(n=t(r))&&(l.d(1),l=n(r),l&&(l.c(),l.m(e.parentNode,e)))},i:P,o:P,d(r){l.d(r),r&&k(e)}}}function Jn(s,e){let t,n,l,r,c,i=P,o;return n=new nt({props:{post:e[21],input:e[5]}}),{key:s,first:null,c(){t=m("div"),O(n.$$.fragment),l=S(),this.first=t},m(a,u){w(a,t,u),U(n,t,null),f(t,l),o=!0},p(a,u){e=a;const _={};u&1&&(_.post=e[21]),u&32&&(_.input=e[5]),n.$set(_)},r(){c=t.getBoundingClientRect()},f(){ut(t),i(),xe(t,c)},a(){i(),i=at(t,c,pt,{duration:250})},i(a){o||(C(n.$$.fragment,a),a&&Se(()=>{r||(r=ye(t,Ie,{y:-50,duration:250},!0)),r.run(1)}),o=!0)},o(a){L(n.$$.fragment,a),a&&(r||(r=ye(t,Ie,{y:-50,duration:250},!1)),r.run(0)),o=!1},d(a){a&&k(t),j(n),a&&r&&r.end()}}}function Js(s){let e;return{c(){e=E("No posts here. Check back later!")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Qs(s){let e;return{c(){e=E("No posts here. Check back later or be the first to post!")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Vs(s){let e,t,n;return{c(){e=m("button"),e.textContent="Load More",d(e,"class","load-more svelte-tgtdz3")},m(l,r){w(l,e,r),t||(n=N(e,"click",s[14]),t=!0)},p:P,i:P,o:P,d(l){l&&k(e),t=!1,n()}}}function Xs(s){let e,t;return e=new ve({}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p:P,i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Zs(s){let e,t,n;return t=new ve({}),{c(){e=m("div"),O(t.$$.fragment),d(e,"class","fullcenter svelte-tgtdz3")},m(l,r){w(l,e,r),U(t,e,null),n=!0},p:P,i(l){n||(C(t.$$.fragment,l),n=!0)},o(l){L(t.$$.fragment,l),n=!1},d(l){l&&k(e),j(t)}}}function xs(s){let e,t,n={ctx:s,current:null,token:null,hasCatch:!0,pending:Zs,then:Ys,catch:Hs,error:24,blocks:[,,,]};return Ge(s[9](1),n),{c(){e=m("div"),n.block.c(),d(e,"class","home svelte-tgtdz3")},m(l,r){w(l,e,r),n.block.m(e,n.anchor=null),n.mount=()=>e,n.anchor=null,t=!0},p(l,[r]){s=l,et(n,s,r)},i(l){t||(C(n.block),t=!0)},o(l){for(let r=0;r<3;r+=1){const c=n.blocks[r];L(c)}t=!1},d(l){l&&k(e),n.block.d(),n.token=null,n=null}}}function er(s,e,t){let n,l,r,c;z(s,Ue,M=>t(17,n=M)),z(s,re,M=>t(7,l=M)),z(s,ue,M=>t(18,r=M)),z(s,Pt,M=>t(8,c=M));let i=0,{posts:o=[]}=e,a=0,u=!1,_=null,p="",b=0,g;async function v(M){if(t(2,u=!0),M===void 0)t(0,o=[]);else{let Y=M+Math.floor(b/25),Q=b%25;try{let le="home?autoget&page=";_t&&(le=encodeURIComponent(le));const ee=await fetch(`${je}${le}${Y}`);if(!ee.ok)throw new Error("Response code is not OK; code is "+ee.status);const fe=await ee.json();let D=fe.autoget;D.splice(0,Q),t(3,_=fe.pages);let H,F;if(Q>0&&a<_){if(H=await fetch(`${je}${le}${Y+1}`),!ee.ok)throw new Error("Overflow response code is not OK; code is "+ee.status);F=await H.json(),D=D.concat(F.autoget.slice(0,Q))}for(const J of D)o.push({id:i++,post_id:J.post_id,user:J.u,content:J.p,date:J.t.e});t(1,a=M)}catch(le){throw t(2,u=!1),le}}return t(0,o),t(2,u=!1),o}function h(M){o.unshift({id:i++,...M}),t(0,o)}function $(){W.on("direct",M=>{if(r==="home"&&M.val.mode===1){if(M.val.post_origin!=="home")return;h({post_id:M.val._id,user:M.val.u,content:M.val.p,date:M.val.t.e}),b++,t(0,o),l.sfx&&M.val.u!==l.name&&Bl()}M.val.mode==="delete"&&t(0,o=o.filter(Y=>Y.post_id!==M.val.id))})}W.ws.readyState===1?$():W.ws.addEventListener("open",$);let y=n;Ue.subscribe(M=>{t(6,y=M)});const I=()=>{c+1500<new Date*1&&(Pt.set(new Date*1),W.send({cmd:"direct",val:{cmd:"set_chat_state",val:{chatid:"livechat",state:101}},listener:"typing_indicator"}))},q=M=>{M.key=="Enter"&&!Je&&(M.preventDefault(),document.getElementById("submitpost").click())};function A(M){De[M?"unshift":"push"](()=>{g=M,t(5,g)})}const R=M=>{if(t(4,p=""),!M.target[0].value.trim())return t(4,p="You cannot send an empty post!"),!1;He.set(!0),M.target[1].disabled=!0,W.send({cmd:"direct",val:{cmd:"post_home",val:M.target[0].value},listener:"post_home"});const Y=W.on("statuscode",Q=>{Q.listener==="post_home"&&(W.off(Y),He.set(!1),M.target[1].disabled=!1,Q.val==="I:100 | OK"?(M.target[0].value="",M.target[0].rows="1",M.target[0].style.height="45px"):Q.val==="E:106 | Too many requests"?t(4,p="You're posting too fast!"):t(4,p="Unexpected "+Q.val+" error!"))});return!1},T=()=>v(a+1);return s.$$set=M=>{"posts"in M&&t(0,o=M.posts)},[o,a,u,_,p,g,y,l,c,v,I,q,A,R,T]}class tr extends Z{constructor(e){super(),X(this,e,er,xs,V,{posts:0})}}function Qn(s,e,t){const n=s.slice();return n[10]=e[t],n}function nr(s){let e,t;return e=new oe({props:{$$slots:{default:[lr]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p(n,l){const r={};l&16384&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function lr(s){let e,t,n,l,r=s[13]+"",c;return{c(){e=m("h1"),e.textContent="Inbox Messages",t=E(`\r
			Error loading messages. Please try again.\r
			`),n=m("pre"),l=m("code"),c=E(r)},m(i,o){w(i,e,o),w(i,t,o),w(i,n,o),f(n,l),f(l,c)},p:P,d(i){i&&k(e),i&&k(t),i&&k(n)}}}function sr(s){let e,t,n,l,r,c,i,o,a;e=new oe({props:{$$slots:{default:[rr]},$$scope:{ctx:s}}});const u=[ir,or],_=[];function p(h,$){return h[0].length<1?0:1}n=p(s),l=_[n]=u[n](s);const b=[ar,cr],g=[];function v(h,$){return h[2]?0:h[3]&&h[3]>h[1]?1:-1}return~(i=v(s))&&(o=g[i]=b[i](s)),{c(){O(e.$$.fragment),t=S(),l.c(),r=S(),c=m("div"),o&&o.c(),d(c,"class","center svelte-1y77739")},m(h,$){U(e,h,$),w(h,t,$),_[n].m(h,$),w(h,r,$),w(h,c,$),~i&&g[i].m(c,null),a=!0},p(h,$){const y={};$&16384&&(y.$$scope={dirty:$,ctx:h}),e.$set(y);let I=n;n=p(h),n===I?_[n].p(h,$):(te(),L(_[I],1,1,()=>{_[I]=null}),ne(),l=_[n],l?l.p(h,$):(l=_[n]=u[n](h),l.c()),C(l,1),l.m(r.parentNode,r));let q=i;i=v(h),i===q?~i&&g[i].p(h,$):(o&&(te(),L(g[q],1,1,()=>{g[q]=null}),ne()),~i?(o=g[i],o?o.p(h,$):(o=g[i]=b[i](h),o.c()),C(o,1),o.m(c,null)):o=null)},i(h){a||(C(e.$$.fragment,h),C(l),C(o),a=!0)},o(h){L(e.$$.fragment,h),L(l),L(o),a=!1},d(h){j(e,h),h&&k(t),_[n].d(h),h&&k(r),h&&k(c),~i&&g[i].d()}}}function rr(s){let e,t;return{c(){e=m("h1"),e.textContent="Inbox Messages",t=E(`\r
			Here are your latest inbox messages. We will send announcements and moderator messages to here!`)},m(n,l){w(n,e,l),w(n,t,l)},p:P,d(n){n&&k(e),n&&k(t)}}}function or(s){let e=[],t=new Map,n,l,r=s[0];const c=i=>i[10].id;for(let i=0;i<r.length;i+=1){let o=Qn(s,r,i),a=c(o);t.set(a,e[i]=Vn(a,o))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();n=Ce()},m(i,o){for(let a=0;a<e.length;a+=1)e[a].m(i,o);w(i,n,o),l=!0},p(i,o){if(o&1){r=i[0],te();for(let a=0;a<e.length;a+=1)e[a].r();e=dt(e,o,c,1,i,r,t,n.parentNode,ft,Vn,n,Qn);for(let a=0;a<e.length;a+=1)e[a].a();ne()}},i(i){if(!l){for(let o=0;o<r.length;o+=1)C(e[o]);l=!0}},o(i){for(let o=0;o<e.length;o+=1)L(e[o]);l=!1},d(i){for(let o=0;o<e.length;o+=1)e[o].d(i);i&&k(n)}}}function ir(s){let e;return{c(){e=E("No messages yet. Check back later!")},m(t,n){w(t,e,n)},p:P,i:P,o:P,d(t){t&&k(e)}}}function Vn(s,e){let t,n,l,r,c,i=P,o;return n=new nt({props:{post:e[10]}}),{key:s,first:null,c(){t=m("div"),O(n.$$.fragment),l=S(),this.first=t},m(a,u){w(a,t,u),U(n,t,null),f(t,l),o=!0},p(a,u){e=a;const _={};u&1&&(_.post=e[10]),n.$set(_)},r(){c=t.getBoundingClientRect()},f(){ut(t),i(),xe(t,c)},a(){i(),i=at(t,c,pt,{duration:250})},i(a){o||(C(n.$$.fragment,a),a&&Se(()=>{r||(r=ye(t,Ie,{y:-50,duration:250},!0)),r.run(1)}),o=!0)},o(a){L(n.$$.fragment,a),a&&(r||(r=ye(t,Ie,{y:-50,duration:250},!1)),r.run(0)),o=!1},d(a){a&&k(t),j(n),a&&r&&r.end()}}}function cr(s){let e,t,n;return{c(){e=m("button"),e.textContent="Load More",d(e,"class","load-more svelte-1y77739")},m(l,r){w(l,e,r),t||(n=N(e,"click",s[5]),t=!0)},p:P,i:P,o:P,d(l){l&&k(e),t=!1,n()}}}function ar(s){let e,t;return e=new ve({}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p:P,i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function ur(s){let e,t,n;return t=new ve({}),{c(){e=m("div"),O(t.$$.fragment),d(e,"class","fullcenter svelte-1y77739")},m(l,r){w(l,e,r),U(t,e,null),n=!0},p:P,i(l){n||(C(t.$$.fragment,l),n=!0)},o(l){L(t.$$.fragment,l),n=!1},d(l){l&&k(e),j(t)}}}function fr(s){let e,t,n={ctx:s,current:null,token:null,hasCatch:!0,pending:ur,then:sr,catch:nr,error:13,blocks:[,,,]};return Ge(s[4](1),n),{c(){e=m("div"),n.block.c(),d(e,"class","messages svelte-1y77739")},m(l,r){w(l,e,r),n.block.m(e,n.anchor=null),n.mount=()=>e,n.anchor=null,t=!0},p(l,[r]){s=l,et(n,s,r)},i(l){t||(C(n.block),t=!0)},o(l){for(let r=0;r<3;r+=1){const c=n.blocks[r];L(c)}t=!1},d(l){l&&k(e),n.block.d(),n.token=null,n=null}}}let Xn=0;function dr(s,e,t){let n,l;z(s,Ze,b=>t(7,n=b)),z(s,re,b=>t(8,l=b));let r=0,{posts:c=[]}=e,i=0,o=!1,a=null;async function u(b){if(G(re,l.unread_inbox=!1,l),ze(),t(2,o=!0),b===void 0)t(0,c=[]);else{let g=b+Math.floor(Xn/25),v=Xn%25;try{let h="inbox?autoget&page=";_t&&(h=encodeURIComponent(h));const $=await fetch(`${je}${h}${g}`,{headers:n});if(!$.ok)throw new Error("Response code is not OK; code is "+$.status);const y=await $.json();let I=y.autoget;I.splice(0,v),t(3,a=y.pages);let q,A;v>0&&i<a;for(const R of I)R.u==="Server"?R.u="Announcement":R.u="Notification",c.push({id:r++,post_id:R.post_id,user:R.u,content:R.p,date:R.t.e});t(1,i=b)}catch(h){throw t(2,o=!1),h}}return t(0,c),t(2,o=!1),c}function _(){W.on("direct",b=>{b.val.mode==="delete"&&t(0,c=c.filter(g=>g.post_id!==b.val.id))})}W.ws.readyState===1?_():W.ws.addEventListener("open",_);const p=()=>u(i+1);return s.$$set=b=>{"posts"in b&&t(0,c=b.posts)},[c,i,o,a,u,p]}class _r extends Z{constructor(e){super(),X(this,e,dr,fr,V,{posts:0})}}const pr=s=>({}),Zn=s=>({});function mr(s){let e,t,n,l,r,c,i,o,a,u;const _=s[4].header,p=Tt(_,s,s[3],Zn),b=s[4].default,g=Tt(b,s,s[3],null);return{c(){e=m("div"),t=S(),n=m("div"),p&&p.c(),l=S(),r=m("hr"),c=S(),g&&g.c(),d(e,"class","modal-background svelte-c5nskh"),d(n,"class","modal svelte-c5nskh"),d(n,"role","dialog"),d(n,"aria-modal","true")},m(v,h){w(v,e,h),w(v,t,h),w(v,n,h),p&&p.m(n,null),f(n,l),f(n,r),f(n,c),g&&g.m(n,null),s[5](n),o=!0,a||(u=[N(window,"keydown",s[2]),N(e,"click",s[1])],a=!0)},p(v,[h]){p&&p.p&&(!o||h&8)&&At(p,_,v,v[3],o?Nt(_,v[3],h,pr):zt(v[3]),Zn),g&&g.p&&(!o||h&8)&&At(g,b,v,v[3],o?Nt(b,v[3],h,null):zt(v[3]),null)},i(v){o||(C(p,v),C(g,v),Se(()=>{i||(i=ye(n,Yn,{duration:200},!0)),i.run(1)}),o=!0)},o(v){L(p,v),L(g,v),i||(i=ye(n,Yn,{duration:200},!1)),i.run(0),o=!1},d(v){v&&k(e),v&&k(t),v&&k(n),p&&p.d(v),g&&g.d(v),s[5](null),v&&i&&i.end(),a=!1,se(u)}}}function hr(s,e,t){let{$$slots:n={},$$scope:l}=e;const r=is(),c=()=>r("close");let i;const o=_=>{if(_.key==="Escape"){c();return}if(_.key==="Tab"){const p=i.querySelectorAll("*"),b=Array.from(p).filter(v=>v.tabIndex>=0);let g=b.indexOf(document.activeElement);g===-1&&_.shiftKey&&(g=0),g+=b.length+(_.shiftKey?-1:1),g%=b.length,b[g].focus(),_.preventDefault()}},a=typeof document<"u"&&document.activeElement;a&&os(()=>{a.focus()});function u(_){De[_?"unshift":"push"](()=>{i=_,t(0,i)})}return s.$$set=_=>{"$$scope"in _&&t(3,l=_.$$scope)},[i,c,o,l,n,u]}class _e extends Z{constructor(e){super(),X(this,e,hr,mr,V,{})}}function xn(s,e,t){const n=s.slice();return n[17]=e[t],n}function gr(s){let e,t,n,l,r=[],c=new Map,i,o,a,u,_;e=new oe({props:{$$slots:{default:[vr]},$$scope:{ctx:s}}}),n=new oe({props:{$$slots:{default:[$r]},$$scope:{ctx:s}}});let p=s[0];const b=$=>$[17]._id;for(let $=0;$<p.length;$+=1){let y=xn(s,p,$),I=b(y);c.set(I,r[$]=el(I,y))}const g=[yr,wr],v=[];function h($,y){return $[3]?0:$[4]&&$[4]>$[2]?1:-1}return~(a=h(s))&&(u=v[a]=g[a](s)),{c(){O(e.$$.fragment),t=S(),O(n.$$.fragment),l=S();for(let $=0;$<r.length;$+=1)r[$].c();i=S(),o=m("div"),u&&u.c(),d(o,"class","center svelte-ruol0l")},m($,y){U(e,$,y),w($,t,y),U(n,$,y),w($,l,y);for(let I=0;I<r.length;I+=1)r[I].m($,y);w($,i,y),w($,o,y),~a&&v[a].m(o,null),_=!0},p($,y){const I={};y&1048576&&(I.$$scope={dirty:y,ctx:$}),e.$set(I);const q={};if(y&1048576&&(q.$$scope={dirty:y,ctx:$}),n.$set(q),y&3){p=$[0],te();for(let R=0;R<r.length;R+=1)r[R].r();r=dt(r,y,b,1,$,p,c,i.parentNode,ft,el,i,xn);for(let R=0;R<r.length;R+=1)r[R].a();ne()}let A=a;a=h($),a===A?~a&&v[a].p($,y):(u&&(te(),L(v[A],1,1,()=>{v[A]=null}),ne()),~a?(u=v[a],u?u.p($,y):(u=v[a]=g[a]($),u.c()),C(u,1),u.m(o,null)):u=null)},i($){if(!_){C(e.$$.fragment,$),C(n.$$.fragment,$);for(let y=0;y<p.length;y+=1)C(r[y]);C(u),_=!0}},o($){L(e.$$.fragment,$),L(n.$$.fragment,$);for(let y=0;y<r.length;y+=1)L(r[y]);L(u),_=!1},d($){j(e,$),$&&k(t),j(n,$),$&&k(l);for(let y=0;y<r.length;y+=1)r[y].d($);$&&k(i),$&&k(o),~a&&v[a].d()}}}function br(s){let e,t,n;return t=new ve({}),{c(){e=m("div"),O(t.$$.fragment),d(e,"class","fullcenter svelte-ruol0l")},m(l,r){w(l,e,r),U(t,e,null),n=!0},p:P,i(l){n||(C(t.$$.fragment,l),n=!0)},o(l){L(t.$$.fragment,l),n=!1},d(l){l&&k(e),j(t)}}}function vr(s){let e,t,n,l,r,c;return{c(){e=m("h1"),e.textContent="Chats",t=E(`\r
			Here are your chats. Press the chat button to enter a chat.\r
			`),n=m("div"),l=m("button"),d(l,"class","circle plus svelte-ruol0l"),d(n,"class","settings-controls svelte-ruol0l")},m(i,o){w(i,e,o),w(i,t,o),w(i,n,o),f(n,l),r||(c=N(l,"click",s[8]),r=!0)},p:P,d(i){i&&k(e),i&&k(t),i&&k(n),r=!1,c()}}}function $r(s){let e,t,n,l,r,c,i;return{c(){e=m("div"),t=m("button"),n=S(),l=m("h1"),l.textContent="Livechat",r=E(`\r
			This is the public livechat. Messages in this chat don't save.`),d(t,"class","circle join svelte-ruol0l"),d(e,"class","settings-controls svelte-ruol0l")},m(o,a){w(o,e,a),f(e,t),w(o,n,a),w(o,l,a),w(o,r,a),c||(i=N(t,"click",s[9]),c=!0)},p:P,d(o){o&&k(e),o&&k(n),o&&k(l),o&&k(r),c=!1,i()}}}function kr(s){let e,t,n,l,r,c,i=s[17].nickname+"",o,a,u=(s[17].members.length>100?s[17].members.slice(0,99).join(", ")+"...":s[17].members.join(", "))+"",_,p,b;function g(){return s[10](s[17])}function v(){return s[11](s[17])}return{c(){e=m("div"),t=m("button"),n=S(),l=m("button"),r=S(),c=m("h1"),o=E(i),a=E(`\r
                    Members: `),_=E(u),d(t,"class","circle close svelte-ruol0l"),d(l,"class","circle join svelte-ruol0l"),d(e,"class","settings-controls svelte-ruol0l")},m(h,$){w(h,e,$),f(e,t),f(e,n),f(e,l),w(h,r,$),w(h,c,$),f(c,o),w(h,a,$),w(h,_,$),p||(b=[N(t,"click",g),N(l,"click",v)],p=!0)},p(h,$){s=h,$&1&&i!==(i=s[17].nickname+"")&&K(o,i),$&1&&u!==(u=(s[17].members.length>100?s[17].members.slice(0,99).join(", ")+"...":s[17].members.join(", "))+"")&&K(_,u)},d(h){h&&k(e),h&&k(r),h&&k(c),h&&k(a),h&&k(_),p=!1,se(b)}}}function el(s,e){let t,n,l,r,c=P,i;return n=new oe({props:{$$slots:{default:[kr]},$$scope:{ctx:e}}}),{key:s,first:null,c(){t=m("div"),O(n.$$.fragment),this.first=t},m(o,a){w(o,t,a),U(n,t,null),i=!0},p(o,a){e=o;const u={};a&1048579&&(u.$$scope={dirty:a,ctx:e}),n.$set(u)},r(){r=t.getBoundingClientRect()},f(){ut(t),c(),xe(t,r)},a(){c(),c=at(t,r,pt,{duration:250})},i(o){i||(C(n.$$.fragment,o),o&&Se(()=>{l||(l=ye(t,Ie,{y:-50,duration:250},!0)),l.run(1)}),i=!0)},o(o){L(n.$$.fragment,o),o&&(l||(l=ye(t,Ie,{y:-50,duration:250},!1)),l.run(0)),i=!1},d(o){o&&k(t),j(n),o&&l&&l.end()}}}function wr(s){let e,t,n;return{c(){e=m("button"),e.textContent="Load More",d(e,"class","load-more svelte-ruol0l")},m(l,r){w(l,e,r),t||(n=N(e,"click",s[12]),t=!0)},p:P,i:P,o:P,d(l){l&&k(e),t=!1,n()}}}function yr(s){let e,t;return e=new ve({}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p:P,i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function tl(s){let e,t;return e=new _e({props:{$$slots:{default:[Sr],header:[Cr]},$$scope:{ctx:s}}}),e.$on("close",s[15]),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p(n,l){const r={};l&1048675&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Cr(s){let e;return{c(){e=m("h2"),e.textContent="Leave Chat",d(e,"slot","header")},m(t,n){w(t,e,n)},p:P,d(t){t&&k(e)}}}function Sr(s){let e,t,n,l,r,c,i,o,a,u,_,p,b,g,v;return{c(){e=m("div"),t=m("span"),n=E("Are you sure you want to leave "),l=E(s[5]),r=E("?"),c=S(),i=m("br"),o=m("br"),a=S(),u=m("div"),_=m("button"),_.textContent="No",p=S(),b=m("button"),b.textContent="Yes",d(u,"class","modal-buttons"),d(e,"slot","default")},m(h,$){w(h,e,$),f(e,t),f(t,n),f(t,l),f(t,r),f(e,c),f(e,i),f(e,o),f(e,a),f(e,u),f(u,_),f(u,p),f(u,b),g||(v=[N(_,"click",s[13]),N(b,"click",s[14])],g=!0)},p(h,$){$&32&&K(l,h[5])},d(h){h&&k(e),g=!1,se(v)}}}function Lr(s){let e,t,n,l,r;const c=[br,gr],i=[];function o(u,_){return u[3]?0:1}t=o(s),n=i[t]=c[t](s);let a=s[1]&&tl(s);return{c(){e=m("div"),n.c(),l=S(),a&&a.c(),d(e,"class","chats svelte-ruol0l")},m(u,_){w(u,e,_),i[t].m(e,null),f(e,l),a&&a.m(e,null),r=!0},p(u,[_]){let p=t;t=o(u),t===p?i[t].p(u,_):(te(),L(i[p],1,1,()=>{i[p]=null}),ne(),n=i[t],n?n.p(u,_):(n=i[t]=c[t](u),n.c()),C(n,1),n.m(e,l)),u[1]?a?(a.p(u,_),_&2&&C(a,1)):(a=tl(u),a.c(),C(a,1),a.m(e,null)):a&&(te(),L(a,1,1,()=>{a=null}),ne())},i(u){r||(C(n),C(a),r=!0)},o(u){L(n),L(a),r=!1},d(u){u&&k(e),i[t].d(),a&&a.d()}}}let nl=0;function Pr(s,e,t){let n,l;z(s,Ye,q=>t(5,n=q)),z(s,ke,q=>t(6,l=q));let{chats:r=[]}=e,c=!1,i=0,o=!1,a=null;async function u(q){if(t(3,o=!0),q===void 0)t(0,r=[]);else{let A=q+Math.floor(nl/25);ie({cmd:"direct",val:{cmd:"get_chat_list",val:{page:A}}})}}function _(){W.on("direct",q=>{if(q.val.mode==="chats"){let A=nl%25,R=q.val.payload.all_chats;R.splice(0,A),t(4,a=q.val.payload.pages),t(2,i=q.val.payload["page#"]),t(0,r=R),t(3,o=!1)}})}W.ws.readyState===1?_():W.ws.addEventListener("open",_),u(1);const p=()=>{ae.set("createChat"),B.set(!0)},b=()=>{Ye.set("Livechat"),ke.set("livechat"),Ke.set([]),Bt.set(""),window.scrollTo(0,0),ue.set("blank"),we().then(()=>ue.set("groupchat"))},g=q=>{Ye.set(q.nickname),ke.set(q._id),t(1,c=!0)},v=q=>{Ye.set(q.nickname),ke.set(q._id),Ke.set(q.members),Bt.set(q.owner),window.scrollTo(0,0),ue.set("blank"),we().then(()=>ue.set("groupchat"))},h=()=>u(i+1),$=()=>{t(1,c=!1)},y=()=>{t(0,r=r.filter(q=>q._id!==l)),ie({cmd:"direct",val:{cmd:"leave_chat",val:l}}),t(1,c=!1)},I=()=>{t(1,c=!1)};return s.$$set=q=>{"chats"in q&&t(0,r=q.chats)},[r,c,i,o,a,n,l,u,p,b,g,v,h,$,y,I]}class qr extends Z{constructor(e){super(),X(this,e,Pr,Lr,V,{chats:0})}}function Er(s){let e,t,n,l,r;return{c(){e=m("div"),t=E("error loading member "),n=E(s[0]),l=E(": "),r=E(s[2]),d(e,"class","error svelte-zakp9s")},m(c,i){w(c,e,i),f(e,t),f(e,n),f(e,l),f(e,r)},p(c,i){i&1&&K(n,c[0]),i&4&&K(r,c[2])},i:P,o:P,d(c){c&&k(e)}}}function Ir(s){let e,t,n,l,r,c,i;return n=new tt({props:{icon:s[1],alt:s[0]+"'s profile picture",online:s[3].includes(s[0]),size:.5}}),{c(){e=m("div"),t=m("div"),O(n.$$.fragment),l=S(),r=m("p"),c=E(s[0]),d(t,"class","member-pfp"),d(r,"class","member-name svelte-zakp9s"),d(e,"class","member svelte-zakp9s")},m(o,a){w(o,e,a),f(e,t),U(n,t,null),f(e,l),f(e,r),f(r,c),i=!0},p(o,a){const u={};a&2&&(u.icon=o[1]),a&1&&(u.alt=o[0]+"'s profile picture"),a&9&&(u.online=o[3].includes(o[0])),n.$set(u),(!i||a&1)&&K(c,o[0])},i(o){i||(C(n.$$.fragment,o),i=!0)},o(o){L(n.$$.fragment,o),i=!1},d(o){o&&k(e),j(n)}}}function Mr(s){let e,t,n,l;const r=[Ir,Er],c=[];function i(o,a){return o[2]?1:0}return e=i(s),t=c[e]=r[e](s),{c(){t.c(),n=Ce()},m(o,a){c[e].m(o,a),w(o,n,a),l=!0},p(o,[a]){let u=e;e=i(o),e===u?c[e].p(o,a):(te(),L(c[u],1,1,()=>{c[u]=null}),ne(),t=c[e],t?t.p(o,a):(t=c[e]=r[e](o),t.c()),C(t,1),t.m(n.parentNode,n))},i(o){l||(C(t),l=!0)},o(o){L(t),l=!1},d(o){c[e].d(o),o&&k(n)}}}function Rr(s,e,t){let n;z(s,Ue,o=>t(3,n=o));let{member:l=""}=e,r=0,c;async function i(){try{t(1,r=(await Et(l)).pfp_data)}catch(o){t(2,c=o),t(1,r=-2)}}return Qt(i),s.$$set=o=>{"member"in o&&t(0,l=o.member)},[l,r,c,n]}class Ur extends Z{constructor(e){super(),X(this,e,Rr,Mr,V,{member:0})}}function ll(s,e,t){const n=s.slice();return n[27]=e[t],n}function sl(s,e,t){const n=s.slice();return n[30]=e[t],n}function jr(s){let e,t;return e=new oe({props:{$$slots:{default:[Or]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p(n,l){const r={};l[1]&8&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Or(s){let e,t,n,l,r=s[33]+"",c;return{c(){e=m("h1"),e.textContent=`${Ye}`,t=E(`\r
			Error loading posts. Please try again.\r
			`),n=m("pre"),l=m("code"),c=E(r)},m(i,o){w(i,e,o),w(i,t,o),w(i,n,o),f(n,l),f(l,c)},p:P,d(i){i&&k(e),i&&k(t),i&&k(n)}}}function Tr(s){let e,t,n,l,r,c,i,o,a,u,_;t=new oe({props:{$$slots:{default:[Nr]},$$scope:{ctx:s}}});let p=s[9].name&&ol(s);r=new Wl({});const b=[zr,Ar],g=[];function v($,y){return $[0].length<1?0:1}i=v(s),o=g[i]=b[i](s);let h=s[6]&&s[8]!=="livechat"&&cl(s);return{c(){e=m("div"),O(t.$$.fragment),n=S(),p&&p.c(),l=S(),O(r.$$.fragment),c=S(),o.c(),a=S(),h&&h.c(),u=Ce(),d(e,"id","chat"),d(e,"class","svelte-1pjlcg7")},m($,y){w($,e,y),U(t,e,null),f(e,n),p&&p.m(e,null),f(e,l),U(r,e,null),f(e,c),g[i].m(e,null),w($,a,y),h&&h.m($,y),w($,u,y),_=!0},p($,y){const I={};y[0]&448|y[1]&8&&(I.$$scope={dirty:y,ctx:$}),t.$set(I),$[9].name?p?p.p($,y):(p=ol($),p.c(),p.m(e,l)):p&&(p.d(1),p=null);let q=i;i=v($),i===q?g[i].p($,y):(te(),L(g[q],1,1,()=>{g[q]=null}),ne(),o=g[i],o?o.p($,y):(o=g[i]=b[i]($),o.c()),C(o,1),o.m(e,null)),$[6]&&$[8]!=="livechat"?h?(h.p($,y),y[0]&320&&C(h,1)):(h=cl($),h.c(),C(h,1),h.m(u.parentNode,u)):h&&(te(),L(h,1,1,()=>{h=null}),ne())},i($){_||(C(t.$$.fragment,$),C(r.$$.fragment,$),C(o),C(h),_=!0)},o($){L(t.$$.fragment,$),L(r.$$.fragment,$),L(o),L(h),_=!1},d($){$&&k(e),j(t),p&&p.d(),j(r),g[i].d(),$&&k(a),h&&h.d($),$&&k(u)}}}function rl(s){let e,t,n,l;return{c(){e=m("div"),t=m("button"),d(t,"class","circle members"),d(e,"class","settings-controls svelte-1pjlcg7")},m(r,c){w(r,e,c),f(e,t),n||(l=N(t,"click",s[13]),n=!0)},p:P,d(r){r&&k(e),n=!1,l()}}}function Nr(s){let e,t,n,l,r,c,i=s[8]!=="livechat"&&rl(s);return{c(){e=m("h1"),t=E(s[7]),n=E(`\r
				Chat ID: `),l=E(s[8]),r=S(),i&&i.c(),c=Ce()},m(o,a){w(o,e,a),f(e,t),w(o,n,a),w(o,l,a),w(o,r,a),i&&i.m(o,a),w(o,c,a)},p(o,a){a[0]&128&&K(t,o[7]),a[0]&256&&K(l,o[8]),o[8]!=="livechat"?i?i.p(o,a):(i=rl(o),i.c(),i.m(c.parentNode,c)):i&&(i.d(1),i=null)},d(o){o&&k(e),o&&k(n),o&&k(l),o&&k(r),i&&i.d(o),o&&k(c)}}}function ol(s){let e,t,n,l,r,c,i,o,a;return{c(){e=m("form"),t=m("textarea"),n=S(),l=m("button"),l.textContent="Post",r=S(),c=m("div"),i=E(s[4]),d(t,"type","text"),d(t,"class","white svelte-1pjlcg7"),d(t,"placeholder","Write something..."),d(t,"id","postinput"),d(t,"name","postinput"),d(t,"autocomplete","false"),d(t,"maxlength","360"),d(t,"rows","1"),d(l,"id","submitpost"),d(e,"class","createpost svelte-1pjlcg7"),d(e,"autocomplete","off"),d(c,"class","post-errors svelte-1pjlcg7")},m(u,_){w(u,e,_),f(e,t),s[16](t),f(e,n),f(e,l),w(u,r,_),w(u,c,_),f(c,i),o||(a=[Ml(Yl.call(null,t)),N(t,"input",s[14]),N(t,"keydown",s[15]),N(e,"submit",he(s[17]))],o=!0)},p(u,_){_[0]&16&&K(i,u[4])},d(u){u&&k(e),s[16](null),u&&k(r),u&&k(c),o=!1,se(a)}}}function Ar(s){let e=[],t=new Map,n,l,r,c,i,o=s[0];const a=b=>b[30].id;for(let b=0;b<o.length;b+=1){let g=sl(s,o,b),v=a(g);t.set(v,e[b]=il(v,g))}const u=[Br,Dr],_=[];function p(b,g){return b[2]?0:b[3]&&b[3]>b[1]?1:-1}return~(r=p(s))&&(c=_[r]=u[r](s)),{c(){for(let b=0;b<e.length;b+=1)e[b].c();n=S(),l=m("div"),c&&c.c(),d(l,"class","center svelte-1pjlcg7")},m(b,g){for(let v=0;v<e.length;v+=1)e[v].m(b,g);w(b,n,g),w(b,l,g),~r&&_[r].m(l,null),i=!0},p(b,g){if(g[0]&33){o=b[0],te();for(let h=0;h<e.length;h+=1)e[h].r();e=dt(e,g,a,1,b,o,t,n.parentNode,ft,il,n,sl);for(let h=0;h<e.length;h+=1)e[h].a();ne()}let v=r;r=p(b),r===v?~r&&_[r].p(b,g):(c&&(te(),L(_[v],1,1,()=>{_[v]=null}),ne()),~r?(c=_[r],c?c.p(b,g):(c=_[r]=u[r](b),c.c()),C(c,1),c.m(l,null)):c=null)},i(b){if(!i){for(let g=0;g<o.length;g+=1)C(e[g]);C(c),i=!0}},o(b){for(let g=0;g<e.length;g+=1)L(e[g]);L(c),i=!1},d(b){for(let g=0;g<e.length;g+=1)e[g].d(b);b&&k(n),b&&k(l),~r&&_[r].d()}}}function zr(s){let e;function t(r,c){return r[9].name?Wr:Hr}let n=t(s),l=n(s);return{c(){l.c(),e=Ce()},m(r,c){l.m(r,c),w(r,e,c)},p(r,c){n!==(n=t(r))&&(l.d(1),l=n(r),l&&(l.c(),l.m(e.parentNode,e)))},i:P,o:P,d(r){l.d(r),r&&k(e)}}}function il(s,e){let t,n,l,r,c=P,i;return n=new nt({props:{post:e[30],input:e[5]}}),{key:s,first:null,c(){t=m("div"),O(n.$$.fragment),this.first=t},m(o,a){w(o,t,a),U(n,t,null),i=!0},p(o,a){e=o;const u={};a[0]&1&&(u.post=e[30]),a[0]&32&&(u.input=e[5]),n.$set(u)},r(){r=t.getBoundingClientRect()},f(){ut(t),c(),xe(t,r)},a(){c(),c=at(t,r,pt,{duration:250})},i(o){i||(C(n.$$.fragment,o),o&&Se(()=>{l||(l=ye(t,Ie,{y:-50,duration:250},!0)),l.run(1)}),i=!0)},o(o){L(n.$$.fragment,o),o&&(l||(l=ye(t,Ie,{y:-50,duration:250},!1)),l.run(0)),i=!1},d(o){o&&k(t),j(n),o&&l&&l.end()}}}function Dr(s){let e,t,n;return{c(){e=m("button"),e.textContent="Load More",d(e,"class","load-more svelte-1pjlcg7")},m(l,r){w(l,e,r),t||(n=N(e,"click",s[18]),t=!0)},p:P,i:P,o:P,d(l){l&&k(e),t=!1,n()}}}function Br(s){let e,t;return e=new ve({}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p:P,i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Hr(s){let e;return{c(){e=E("No posts here. Check back later!")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Wr(s){let e;return{c(){e=E("No posts here. Check back later or be the first to post!")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function cl(s){let e,t,n,l,r,c,i,o,a,u,_,p=s[11],b=[];for(let v=0;v<p.length;v+=1)b[v]=al(ll(s,p,v));const g=v=>L(b[v],1,1,()=>{b[v]=null});return{c(){e=m("div"),t=m("div");for(let v=0;v<b.length;v+=1)b[v].c();n=S(),l=m("div"),r=m("h2"),r.textContent="Members",c=S(),i=m("div"),o=m("button"),d(t,"id","members-inner"),d(t,"class","svelte-1pjlcg7"),d(r,"class","members-title svelte-1pjlcg7"),d(o,"class","circle plus"),d(i,"class","settings-controls svelte-1pjlcg7"),d(l,"class","top svelte-1pjlcg7"),d(e,"id","members"),d(e,"class","svelte-1pjlcg7")},m(v,h){w(v,e,h),f(e,t);for(let $=0;$<b.length;$+=1)b[$].m(t,null);f(e,n),f(e,l),f(l,r),f(l,c),f(l,i),f(i,o),a=!0,u||(_=N(o,"click",s[20]),u=!0)},p(v,h){if(h[0]&2048){p=v[11];let $;for($=0;$<p.length;$+=1){const y=ll(v,p,$);b[$]?(b[$].p(y,h),C(b[$],1)):(b[$]=al(y),b[$].c(),C(b[$],1),b[$].m(t,null))}for(te(),$=p.length;$<b.length;$+=1)g($);ne()}},i(v){if(!a){for(let h=0;h<p.length;h+=1)C(b[h]);a=!0}},o(v){b=b.filter(Boolean);for(let h=0;h<b.length;h+=1)L(b[h]);a=!1},d(v){v&&k(e),Ft(b,v),u=!1,_()}}}function al(s){let e,t,n,l,r,c;t=new Ur({props:{member:s[27]}});function i(){return s[19](s[27])}return{c(){e=m("button"),O(t.$$.fragment),n=S(),d(e,"class","member-button svelte-1pjlcg7")},m(o,a){w(o,e,a),U(t,e,null),f(e,n),l=!0,r||(c=N(e,"click",i),r=!0)},p(o,a){s=o;const u={};a[0]&2048&&(u.member=s[27]),t.$set(u)},i(o){l||(C(t.$$.fragment,o),l=!0)},o(o){L(t.$$.fragment,o),l=!1},d(o){o&&k(e),j(t),r=!1,c()}}}function Yr(s){let e,t,n;return t=new ve({}),{c(){e=m("div"),O(t.$$.fragment),d(e,"class","fullcenter svelte-1pjlcg7")},m(l,r){w(l,e,r),U(t,e,null),n=!0},p:P,i(l){n||(C(t.$$.fragment,l),n=!0)},o(l){L(t.$$.fragment,l),n=!1},d(l){l&&k(e),j(t)}}}function Gr(s){let e,t,n={ctx:s,current:null,token:null,hasCatch:!0,pending:Yr,then:Tr,catch:jr,error:33,blocks:[,,,]};return Ge(s[12](1),n),{c(){e=m("div"),n.block.c(),d(e,"class","groupchat svelte-1pjlcg7")},m(l,r){w(l,e,r),n.block.m(e,n.anchor=null),n.mount=()=>e,n.anchor=null,t=!0},p(l,r){s=l,et(n,s,r)},i(l){t||(C(n.block),t=!0)},o(l){for(let r=0;r<3;r+=1){const c=n.blocks[r];L(c)}t=!1},d(l){l&&k(e),n.block.d(),n.token=null,n=null}}}function Kr(s,e,t){let n,l,r,c,i,o,a;z(s,Ye,D=>t(7,n=D)),z(s,ke,D=>t(8,l=D)),z(s,ue,D=>t(23,r=D)),z(s,re,D=>t(9,c=D)),z(s,Ze,D=>t(24,i=D)),z(s,Pt,D=>t(10,o=D)),z(s,Ke,D=>t(11,a=D));let u=0,{posts:_=[]}=e,p=0,b=!1,g=null,v="",h,$=0,y=!0;async function I(D){if(l==="livechat"){ie({cmd:"direct",val:{cmd:"set_chat_state",val:{state:1,chatid:l}}});return}if(t(2,b=!0),D===void 0)t(0,_=[]);else{let H=D+Math.floor($/25),F=$%25;try{let J=`posts/${l}?autoget&page=`;_t&&(J=encodeURIComponent(J));const x=await fetch(`${je}${J}${H}`,{headers:i});if(!x.ok)throw new Error("Response code is not OK; code is "+x.status);const Oe=await x.json();let Te=Oe.autoget;Te.splice(0,F),t(3,g=Oe.pages);let tn,nn;if(F>0&&p<g){if(tn=await fetch(`${je}${J}${H+1}`),!x.ok)throw new Error("Overflow response code is not OK; code is "+x.status);nn=await tn.json(),Te=Te.concat(nn.autoget.slice(0,F))}for(const mt of Te)_.push({id:u++,post_id:mt.post_id,user:mt.u,content:mt.p,date:mt.t.e});t(1,p=D)}catch(J){throw t(2,b=!1),J}}return ie({cmd:"direct",val:{cmd:"set_chat_state",val:{state:1,chatid:l}}}),t(0,_),t(2,b=!1),_}function q(D){_.unshift({id:u++,...D}),t(0,_)}function A(){W.on("direct",D=>{if(r==="groupchat"&&D.val.state===2){if(D.val.post_origin!==l)return;q({post_id:D.val._id,user:D.val.u,content:D.val.p,date:D.val.t.e}),$++,t(0,_),c.sfx&&D.val.u!==c.name&&Bl()}if(r==="groupchat"&&D.val.state===0){if(D.val.chatid!==l)return;q({post_id:u++,user:"Server",content:`${D.val.u} left ${n}.`,date:new Date().getTime()/1e3})}if(r==="groupchat"&&D.val.state===1){if(D.val.chatid!==l)return;q({post_id:u++,user:"Server",content:`${D.val.u} joined ${n}!`,date:new Date().getTime()/1e3})}D.val.mode==="delete"&&t(0,_=_.filter(H=>H.post_id!==D.val.id))})}W.ws.readyState===1?A():W.ws.addEventListener("open",A);const R=()=>{t(6,y=!y)},T=()=>{o+1500<new Date*1&&(Pt.set(new Date*1),W.send({cmd:"direct",val:{cmd:"set_chat_state",val:{chatid:l,state:100}},listener:"typing_indicator"}))},M=D=>{D.key=="Enter"&&!Je&&(D.preventDefault(),document.getElementById("submitpost").click())};function Y(D){De[D?"unshift":"push"](()=>{h=D,t(5,h)})}const Q=D=>{if(t(4,v=""),!D.target[0].value.trim())return t(4,v="You cannot send an empty post!"),!1;He.set(!0),D.target[1].disabled=!0,W.send({cmd:"direct",val:{cmd:"post_chat",val:{p:D.target[0].value,chatid:l}},listener:"post_chat"});const H=W.on("statuscode",F=>{F.listener==="post_chat"&&(W.off(H),He.set(!1),D.target[1].disabled=!1,F.val==="I:100 | OK"?(D.target[0].value="",D.target[0].rows="1",D.target[0].style.height="45px"):F.val==="E:106 | Too many requests"?t(4,v="You're posting too fast!"):t(4,v="Unexpected "+F.val+" error!"))});return!1},le=()=>I(p+1),ee=D=>{ae.set("GC_Member"),B.set(!0),Xt.set(D)},fe=()=>{ae.set("AddMember"),B.set(!0)};return s.$$set=D=>{"posts"in D&&t(0,_=D.posts)},[_,p,b,g,v,h,y,n,l,c,o,a,I,R,T,M,Y,Q,le,ee,fe]}class Kl extends Z{constructor(e){super(),X(this,e,Kr,Gr,V,{posts:0},null,[-1,-1])}}const Wt={0:"User",1:"Low-level Moderator",2:"Moderator",3:"Administrator",4:"Sysadmin"};function ul(s,e,t){const n=s.slice();return n[14]=e[t],n}function Fr(s){let e,t,n,l;return e=new oe({props:{$$slots:{default:[Jr]},$$scope:{ctx:s}}}),n=new oe({props:{$$slots:{default:[Qr]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment),t=S(),O(n.$$.fragment)},m(r,c){U(e,r,c),w(r,t,c),U(n,r,c),l=!0},p(r,c){const i={};c&262156&&(i.$$scope={dirty:c,ctx:r}),e.$set(i);const o={};c&262144&&(o.$$scope={dirty:c,ctx:r}),n.$set(o)},i(r){l||(C(e.$$.fragment,r),C(n.$$.fragment,r),l=!0)},o(r){L(e.$$.fragment,r),L(n.$$.fragment,r),l=!1},d(r){j(e,r),r&&k(t),j(n,r)}}}function Jr(s){let e,t,n,l,r,c,i,o,a=s[3].includes(s[2])?"Online":"Offline",u,_,p,b;return t=new tt({props:{online:s[3].includes(s[2]),icon:-2,alt:s[2]+"'s profile picture",size:1.4}}),{c(){e=m("div"),O(t.$$.fragment),n=S(),l=m("div"),r=m("h1"),c=E(s[2]),i=S(),o=m("div"),u=E(a),_=S(),p=m("div"),p.textContent="Unknown",d(r,"class","profile-username svelte-7yc5pd"),d(o,"class","profile-active svelte-7yc5pd"),d(p,"class","profile-role svelte-7yc5pd"),d(l,"class","profile-header-info svelte-7yc5pd"),d(e,"class","profile-header svelte-7yc5pd")},m(g,v){w(g,e,v),U(t,e,null),f(e,n),f(e,l),f(l,r),f(r,c),f(l,i),f(l,o),f(o,u),f(l,_),f(l,p),b=!0},p(g,v){const h={};v&12&&(h.online=g[3].includes(g[2])),v&4&&(h.alt=g[2]+"'s profile picture"),t.$set(h),(!b||v&4)&&K(c,g[2]),(!b||v&12)&&a!==(a=g[3].includes(g[2])?"Online":"Offline")&&K(u,a)},i(g){b||(C(t.$$.fragment,g),b=!0)},o(g){L(t.$$.fragment,g),b=!1},d(g){g&&k(e),j(t)}}}function Qr(s){let e,t,n,l,r=s[17]+"",c,i,o,a;return{c(){e=m("h2"),e.textContent="Error",t=E(`\r
			We couldn't get this user's profile info.\r
			`),n=m("pre"),l=m("code"),c=E(r),i=E(`\r
			Try again. If this issue persists,\r
			`),o=m("a"),o.textContent="create an issue on Meower Svelte's issue tracker",a=E(" with the error code shown above."),d(o,"href","https://github.com/Meower-Media-Co/Meower-Svelte/issues/new")},m(u,_){w(u,e,_),w(u,t,_),w(u,n,_),f(n,l),f(l,c),w(u,i,_),w(u,o,_),w(u,a,_)},p:P,d(u){u&&k(e),u&&k(t),u&&k(n),u&&k(i),u&&k(o),u&&k(a)}}}function Vr(s){let e,t,n,l,r,c,i,o,a,u,_,p;e=new oe({props:{$$slots:{default:[Xr]},$$scope:{ctx:s}}});let b=s[13].quote&&Zr(s);const g=[to,eo],v=[];function h(y,I){return y[0]?0:y[2]===y[1].name?1:-1}~(l=h(s))&&(r=v[l]=g[l](s));let $=s[1].name&&s[2]!==s[1].name&&dl(s);return{c(){O(e.$$.fragment),t=S(),b&&b.c(),n=S(),r&&r.c(),c=S(),i=m("button"),i.textContent="View recent posts",o=S(),$&&$.c(),a=Ce(),d(i,"class","long svelte-7yc5pd"),d(i,"title","View Recet Posts")},m(y,I){U(e,y,I),w(y,t,I),b&&b.m(y,I),w(y,n,I),~l&&v[l].m(y,I),w(y,c,I),w(y,i,I),w(y,o,I),$&&$.m(y,I),w(y,a,I),u=!0,_||(p=N(i,"click",s[10]),_=!0)},p(y,I){const q={};I&262158&&(q.$$scope={dirty:I,ctx:y}),e.$set(q),y[13].quote&&b.p(y,I);let A=l;l=h(y),l===A?~l&&v[l].p(y,I):(r&&(te(),L(v[A],1,1,()=>{v[A]=null}),ne()),~l?(r=v[l],r?r.p(y,I):(r=v[l]=g[l](y),r.c()),C(r,1),r.m(c.parentNode,c)):r=null),y[1].name&&y[2]!==y[1].name?$?$.p(y,I):($=dl(y),$.c(),$.m(a.parentNode,a)):$&&($.d(1),$=null)},i(y){u||(C(e.$$.fragment,y),C(b),C(r),u=!0)},o(y){L(e.$$.fragment,y),L(b),L(r),u=!1},d(y){j(e,y),y&&k(t),b&&b.d(y),y&&k(n),~l&&v[l].d(y),y&&k(c),y&&k(i),y&&k(o),$&&$.d(y),y&&k(a),_=!1,p()}}}function Xr(s){let e,t,n,l,r,c=s[13]._id+"",i,o,a,u=s[3].includes(s[13]._id)?"Online":"Offline",_,p,b,g=(Wt[s[13].lvl]||"Unknown")+"",v,h;return t=new tt({props:{online:s[3].includes(s[13]._id),icon:s[2]===s[1].name?s[1].pfp_data:s[13].pfp_data,alt:s[13]._id+"'s profile picture",size:1.4}}),{c(){e=m("div"),O(t.$$.fragment),n=S(),l=m("div"),r=m("h1"),i=E(c),o=S(),a=m("div"),_=E(u),p=S(),b=m("div"),v=E(g),d(r,"class","profile-username svelte-7yc5pd"),d(a,"class","profile-active svelte-7yc5pd"),d(b,"class","profile-role svelte-7yc5pd"),d(l,"class","profile-header-info svelte-7yc5pd"),d(e,"class","profile-header svelte-7yc5pd")},m($,y){w($,e,y),U(t,e,null),f(e,n),f(e,l),f(l,r),f(r,i),f(l,o),f(l,a),f(a,_),f(l,p),f(l,b),f(b,v),h=!0},p($,y){const I={};y&8&&(I.online=$[3].includes($[13]._id)),y&6&&(I.icon=$[2]===$[1].name?$[1].pfp_data:$[13].pfp_data),t.$set(I),(!h||y&8)&&u!==(u=$[3].includes($[13]._id)?"Online":"Offline")&&K(_,u)},i($){h||(C(t.$$.fragment,$),h=!0)},o($){L(t.$$.fragment,$),h=!1},d($){$&&k(e),j(t)}}}function Zr(s){let e,t;return e=new oe({props:{$$slots:{default:[xr]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p(n,l){const r={};l&262144&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function xr(s){let e,t,n,l,r,c=s[13].quote+"",i,o;return{c(){e=m("h3"),e.textContent="Quote",t=S(),n=m("p"),l=E('"'),r=m("i"),i=E(c),o=E('"')},m(a,u){w(a,e,u),w(a,t,u),w(a,n,u),f(n,l),f(n,r),f(r,i),f(n,o)},p:P,d(a){a&&k(e),a&&k(t),a&&k(n)}}}function eo(s){let e,t,n,l=s[13].quote?"Update Quote":"Set Quote",r,c,i;return{c(){e=m("button"),e.textContent="Change Profile Picture",t=S(),n=m("button"),r=E(l),d(e,"class","long svelte-7yc5pd"),d(e,"title","Change Profile Picture"),d(n,"class","long svelte-7yc5pd"),d(n,"title",s[13].quote?"Update Quote":"Set Quote")},m(o,a){w(o,e,a),w(o,t,a),w(o,n,a),f(n,r),c||(i=[N(e,"click",s[8]),N(n,"click",s[9])],c=!0)},p:P,i:P,o:P,d(o){o&&k(e),o&&k(t),o&&k(n),c=!1,se(i)}}}function to(s){let e,t;return e=new oe({props:{$$slots:{default:[no]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p(n,l){const r={};l&262147&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function fl(s){let e,t,n,l,r;t=new tt({props:{online:!1,icon:s[14],alt:"Profile picture "+s[14]}});function c(){return s[7](s[14])}return{c(){e=m("span"),O(t.$$.fragment),d(e,"class","pfp svelte-7yc5pd"),pe(e,"selected",s[1].pfp_data===s[14])},m(i,o){w(i,e,o),U(t,e,null),n=!0,l||(r=N(e,"click",c),l=!0)},p(i,o){s=i,o&18&&pe(e,"selected",s[1].pfp_data===s[14])},i(i){n||(C(t.$$.fragment,i),n=!0)},o(i){L(t.$$.fragment,i),n=!1},d(i){i&&k(e),j(t),l=!1,r()}}}function no(s){let e,t,n,l,r=s[4],c=[];for(let o=0;o<r.length;o+=1)c[o]=fl(ul(s,r,o));const i=o=>L(c[o],1,1,()=>{c[o]=null});return{c(){e=m("h2"),e.textContent="Profile Picture",t=S(),n=m("div");for(let o=0;o<c.length;o+=1)c[o].c();d(n,"id","pfp-list"),d(n,"class","svelte-7yc5pd")},m(o,a){w(o,e,a),w(o,t,a),w(o,n,a);for(let u=0;u<c.length;u+=1)c[u].m(n,null);l=!0},p(o,a){if(a&83){r=o[4];let u;for(u=0;u<r.length;u+=1){const _=ul(o,r,u);c[u]?(c[u].p(_,a),C(c[u],1)):(c[u]=fl(_),c[u].c(),C(c[u],1),c[u].m(n,null))}for(te(),u=r.length;u<c.length;u+=1)i(u);ne()}},i(o){if(!l){for(let a=0;a<r.length;a+=1)C(c[a]);l=!0}},o(o){c=c.filter(Boolean);for(let a=0;a<c.length;a+=1)L(c[a]);l=!1},d(o){o&&k(e),o&&k(t),o&&k(n),Ft(c,o)}}}function dl(s){let e,t,n;return{c(){e=m("button"),e.textContent="Report User",d(e,"class","long svelte-7yc5pd"),d(e,"title","Report User")},m(l,r){w(l,e,r),t||(n=N(e,"click",s[11]),t=!0)},p:P,d(l){l&&k(e),t=!1,n()}}}function lo(s){let e,t,n;return t=new ve({}),{c(){e=m("div"),O(t.$$.fragment),d(e,"class","fullcenter svelte-7yc5pd")},m(l,r){w(l,e,r),U(t,e,null),n=!0},p:P,i(l){n||(C(t.$$.fragment,l),n=!0)},o(l){L(t.$$.fragment,l),n=!1},d(l){l&&k(e),j(t)}}}function so(s){let e,t,n={ctx:s,current:null,token:null,hasCatch:!0,pending:lo,then:Vr,catch:Fr,value:13,error:17,blocks:[,,,]};return Ge(s[5](),n),{c(){e=m("div"),n.block.c(),d(e,"class","OtherProfile")},m(l,r){w(l,e,r),n.block.m(e,n.anchor=null),n.mount=()=>e,n.anchor=null,t=!0},p(l,[r]){s=l,et(n,s,r)},i(l){t||(C(n.block),t=!0)},o(l){for(let r=0;r<3;r+=1){const c=n.blocks[r];L(c)}t=!1},d(l){l&&k(e),n.block.d(),n.token=null,n=null}}}function ro(s,e,t){let n,l,r,c;z(s,re,h=>t(1,n=h)),z(s,Pe,h=>t(12,l=h)),z(s,Fe,h=>t(2,r=h)),z(s,Ue,h=>t(3,c=h));const i=new Array(28).fill().map((h,$)=>$+1);let o=!1;async function a(){let h=`users/${r}`;_t&&(h=encodeURIComponent(h));const $=await fetch(`${je}${h}`);if(!$.ok)throw new Error("Response code is not OK; code is "+$.status);return await $.json()}function u(){if(l[n.name]){const h=l;delete h[n.name],Pe.set(h)}ze()}return[o,n,r,c,i,a,u,h=>{t(0,o=!1),G(re,n.pfp_data=h,n),u()},()=>t(0,o=!0),()=>{ae.set("setQuote"),B.set(!0)},()=>{window.scrollTo(0,0),ue.set("blank"),we().then(()=>ue.set("recent"))},()=>{ae.set("reportUser"),B.set(!0)}]}class oo extends Z{constructor(e){super(),X(this,e,ro,so,V,{})}}function _l(s,e,t){const n=s.slice();return n[9]=e[t],n}function io(s){let e,t;return e=new oe({props:{$$slots:{default:[co]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p(n,l){const r={};l&8208&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function co(s){let e,t,n,l,r,c,i=s[12]+"",o;return{c(){e=m("h1"),t=E(s[4]),n=E("'s Recent Posts"),l=E(`\r
			Error loading posts. Please try again.\r
			`),r=m("pre"),c=m("code"),o=E(i)},m(a,u){w(a,e,u),f(e,t),f(e,n),w(a,l,u),w(a,r,u),f(r,c),f(c,o)},p(a,u){u&16&&K(t,a[4])},d(a){a&&k(e),a&&k(l),a&&k(r)}}}function ao(s){let e,t,n,l,r,c,i,o,a;e=new oe({props:{$$slots:{default:[uo]},$$scope:{ctx:s}}});const u=[_o,fo],_=[];function p(h,$){return h[0].length<1?0:1}n=p(s),l=_[n]=u[n](s);const b=[mo,po],g=[];function v(h,$){return h[2]?0:h[3]&&h[3]>h[1]?1:-1}return~(i=v(s))&&(o=g[i]=b[i](s)),{c(){O(e.$$.fragment),t=S(),l.c(),r=S(),c=m("div"),o&&o.c(),d(c,"class","center svelte-1wbtcfa")},m(h,$){U(e,h,$),w(h,t,$),_[n].m(h,$),w(h,r,$),w(h,c,$),~i&&g[i].m(c,null),a=!0},p(h,$){const y={};$&8208&&(y.$$scope={dirty:$,ctx:h}),e.$set(y);let I=n;n=p(h),n===I?_[n].p(h,$):(te(),L(_[I],1,1,()=>{_[I]=null}),ne(),l=_[n],l?l.p(h,$):(l=_[n]=u[n](h),l.c()),C(l,1),l.m(r.parentNode,r));let q=i;i=v(h),i===q?~i&&g[i].p(h,$):(o&&(te(),L(g[q],1,1,()=>{g[q]=null}),ne()),~i?(o=g[i],o?o.p(h,$):(o=g[i]=b[i](h),o.c()),C(o,1),o.m(c,null)):o=null)},i(h){a||(C(e.$$.fragment,h),C(l),C(o),a=!0)},o(h){L(e.$$.fragment,h),L(l),L(o),a=!1},d(h){j(e,h),h&&k(t),_[n].d(h),h&&k(r),h&&k(c),~i&&g[i].d()}}}function uo(s){let e,t,n,l,r,c;return{c(){e=m("h1"),t=E(s[4]),n=E("'s Recent Posts"),l=E(`\r
			Here are `),r=E(s[4]),c=E("'s recent posts.")},m(i,o){w(i,e,o),f(e,t),f(e,n),w(i,l,o),w(i,r,o),w(i,c,o)},p(i,o){o&16&&K(t,i[4]),o&16&&K(r,i[4])},d(i){i&&k(e),i&&k(l),i&&k(r),i&&k(c)}}}function fo(s){let e=[],t=new Map,n,l,r=s[0];const c=i=>i[9].id;for(let i=0;i<r.length;i+=1){let o=_l(s,r,i),a=c(o);t.set(a,e[i]=pl(a,o))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();n=Ce()},m(i,o){for(let a=0;a<e.length;a+=1)e[a].m(i,o);w(i,n,o),l=!0},p(i,o){if(o&1){r=i[0],te();for(let a=0;a<e.length;a+=1)e[a].r();e=dt(e,o,c,1,i,r,t,n.parentNode,ft,pl,n,_l);for(let a=0;a<e.length;a+=1)e[a].a();ne()}},i(i){if(!l){for(let o=0;o<r.length;o+=1)C(e[o]);l=!0}},o(i){for(let o=0;o<e.length;o+=1)L(e[o]);l=!1},d(i){for(let o=0;o<e.length;o+=1)e[o].d(i);i&&k(n)}}}function _o(s){let e,t;return{c(){e=E(s[4]),t=E(" hasn't made any posts yet.")},m(n,l){w(n,e,l),w(n,t,l)},p(n,l){l&16&&K(e,n[4])},i:P,o:P,d(n){n&&k(e),n&&k(t)}}}function pl(s,e){let t,n,l,r,c,i=P,o;return n=new nt({props:{post:e[9]}}),{key:s,first:null,c(){t=m("div"),O(n.$$.fragment),l=S(),this.first=t},m(a,u){w(a,t,u),U(n,t,null),f(t,l),o=!0},p(a,u){e=a;const _={};u&1&&(_.post=e[9]),n.$set(_)},r(){c=t.getBoundingClientRect()},f(){ut(t),i(),xe(t,c)},a(){i(),i=at(t,c,pt,{duration:250})},i(a){o||(C(n.$$.fragment,a),a&&Se(()=>{r||(r=ye(t,Ie,{y:-50,duration:250},!0)),r.run(1)}),o=!0)},o(a){L(n.$$.fragment,a),a&&(r||(r=ye(t,Ie,{y:-50,duration:250},!1)),r.run(0)),o=!1},d(a){a&&k(t),j(n),a&&r&&r.end()}}}function po(s){let e,t,n;return{c(){e=m("button"),e.textContent="Load More",d(e,"class","load-more svelte-1wbtcfa")},m(l,r){w(l,e,r),t||(n=N(e,"click",s[6]),t=!0)},p:P,i:P,o:P,d(l){l&&k(e),t=!1,n()}}}function mo(s){let e,t;return e=new ve({}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p:P,i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function ho(s){let e,t,n;return t=new ve({}),{c(){e=m("div"),O(t.$$.fragment),d(e,"class","fullcenter svelte-1wbtcfa")},m(l,r){w(l,e,r),U(t,e,null),n=!0},p:P,i(l){n||(C(t.$$.fragment,l),n=!0)},o(l){L(t.$$.fragment,l),n=!1},d(l){l&&k(e),j(t)}}}function go(s){let e,t,n={ctx:s,current:null,token:null,hasCatch:!0,pending:ho,then:ao,catch:io,error:12,blocks:[,,,]};return Ge(s[5](1),n),{c(){e=m("div"),n.block.c(),d(e,"class","posts svelte-1wbtcfa")},m(l,r){w(l,e,r),n.block.m(e,n.anchor=null),n.mount=()=>e,n.anchor=null,t=!0},p(l,[r]){s=l,et(n,s,r)},i(l){t||(C(n.block),t=!0)},o(l){for(let r=0;r<3;r+=1){const c=n.blocks[r];L(c)}t=!1},d(l){l&&k(e),n.block.d(),n.token=null,n=null}}}let ml=0;function bo(s,e,t){let n;z(s,Fe,p=>t(4,n=p));let l=0,{posts:r=[]}=e,c=0,i=!1,o=null;async function a(p){if(t(2,i=!0),p===void 0)t(0,r=[]);else{let b=p+Math.floor(ml/25),g=ml%25;try{let v=`users/${n}/posts?autoget&page=`;_t&&(v=encodeURIComponent(v));const h=await fetch(`${je}${v}${b}`);if(!h.ok)throw new Error("Response code is not OK; code is "+h.status);const $=await h.json();let y=$.autoget;y.splice(0,g),t(3,o=$.pages);let I,q;g>0&&c<o;for(const A of y)r.push({id:l++,post_id:A.post_id,user:A.u,content:A.p,date:A.t.e});t(1,c=p)}catch(v){throw t(2,i=!1),v}}return t(0,r),t(2,i=!1),r}function u(){W.on("direct",p=>{p.val.mode==="delete"&&t(0,r=r.filter(b=>b.post_id!==p.val.id))})}W.ws.readyState===1?u():W.ws.addEventListener("open",u);const _=()=>a(c+1);return s.$$set=p=>{"posts"in p&&t(0,r=p.posts)},[r,c,i,o,n,a,_]}class vo extends Z{constructor(e){super(),X(this,e,bo,go,V,{posts:0})}}function $o(s){let e,t;return{c(){e=m("h1"),e.textContent="Settings",t=E(`\r
	You can change your settings here. These will save to your account, so they will carry over into other clients.`)},m(n,l){w(n,e,l),w(n,t,l)},p:P,d(n){n&&k(e),n&&k(t)}}}function ko(s){let e,t,n,l,r,c=s[0].layout+"",i,o,a,u;return{c(){e=m("div"),t=m("button"),n=S(),l=m("h2"),l.textContent="Layout",r=E(`\r
	The layout is currently set to `),i=E(c),o=E("."),d(t,"class","circle settings svelte-1undfiq"),d(e,"class","settings-controls svelte-1undfiq")},m(_,p){w(_,e,p),f(e,t),w(_,n,p),w(_,l,p),w(_,r,p),w(_,i,p),w(_,o,p),a||(u=N(t,"click",s[3]),a=!0)},p(_,p){p&1&&c!==(c=_[0].layout+"")&&K(i,c)},d(_){_&&k(e),_&&k(n),_&&k(l),_&&k(r),_&&k(i),_&&k(o),a=!1,u()}}}function wo(s){let e,t,n,l,r,c=s[0].theme+"",i,o,a,u;return{c(){e=m("div"),t=m("button"),n=S(),l=m("h2"),l.textContent="Theme",r=E(`\r
	The theme is currently set to `),i=E(c),o=E("."),d(t,"class","circle settings svelte-1undfiq"),d(e,"class","settings-controls svelte-1undfiq")},m(_,p){w(_,e,p),f(e,t),w(_,n,p),w(_,l,p),w(_,r,p),w(_,i,p),w(_,o,p),a||(u=N(t,"click",s[4]),a=!0)},p(_,p){p&1&&c!==(c=_[0].theme+"")&&K(i,c)},d(_){_&&k(e),_&&k(n),_&&k(l),_&&k(r),_&&k(i),_&&k(o),a=!1,u()}}}function yo(s){let e,t,n,l,r,c,i=s[0].mode?"disabled":"enabled",o,a,u,_;return{c(){e=m("div"),t=m("input"),l=S(),r=m("h2"),r.textContent="Dark Mode",c=E(`\r
	Dark mode is currently `),o=E(i),a=E("."),d(t,"type","checkbox"),t.checked=n=!s[0].mode,d(t,"class","svelte-1undfiq"),d(e,"class","settings-controls svelte-1undfiq")},m(p,b){w(p,e,b),f(e,t),w(p,l,b),w(p,r,b),w(p,c,b),w(p,o,b),w(p,a,b),u||(_=N(t,"change",s[5]),u=!0)},p(p,b){b&1&&n!==(n=!p[0].mode)&&(t.checked=n),b&1&&i!==(i=p[0].mode?"disabled":"enabled")&&K(o,i)},d(p){p&&k(e),p&&k(l),p&&k(r),p&&k(c),p&&k(o),p&&k(a),u=!1,_()}}}function Co(s){let e,t,n,l,r,c,i=s[0].sfx?"enabled":"disabled",o,a,u,_;return{c(){e=m("div"),t=m("input"),l=S(),r=m("h2"),r.textContent="Sound Effects",c=E(`\r
	Sound effects are currently `),o=E(i),a=E("."),d(t,"type","checkbox"),t.checked=n=s[0].sfx,d(t,"class","svelte-1undfiq"),d(e,"class","settings-controls svelte-1undfiq")},m(p,b){w(p,e,b),f(e,t),w(p,l,b),w(p,r,b),w(p,c,b),w(p,o,b),w(p,a,b),u||(_=N(t,"change",s[6]),u=!0)},p(p,b){b&1&&n!==(n=p[0].sfx)&&(t.checked=n),b&1&&i!==(i=p[0].sfx?"enabled":"disabled")&&K(o,i)},d(p){p&&k(e),p&&k(l),p&&k(r),p&&k(c),p&&k(o),p&&k(a),u=!1,_()}}}function hl(s){let e,t,n,l;return e=new oe({props:{$$slots:{default:[So]},$$scope:{ctx:s}}}),n=new oe({props:{$$slots:{default:[Lo]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment),t=S(),O(n.$$.fragment)},m(r,c){U(e,r,c),w(r,t,c),U(n,r,c),l=!0},p(r,c){const i={};c&518&&(i.$$scope={dirty:c,ctx:r}),e.$set(i);const o={};c&518&&(o.$$scope={dirty:c,ctx:r}),n.$set(o)},i(r){l||(C(e.$$.fragment,r),C(n.$$.fragment,r),l=!0)},o(r){L(e.$$.fragment,r),L(n.$$.fragment,r),l=!1},d(r){j(e,r),r&&k(t),j(n,r)}}}function So(s){let e,t,n,l,r,c,i;return{c(){e=m("div"),t=m("button"),n=S(),l=m("h2"),l.textContent="Change Password",r=E(`\r
	Change your account password.`),d(t,"class","circle settings svelte-1undfiq"),d(e,"class","settings-controls svelte-1undfiq")},m(o,a){w(o,e,a),f(e,t),w(o,n,a),w(o,l,a),w(o,r,a),c||(i=N(t,"click",s[7]),c=!0)},p:P,d(o){o&&k(e),o&&k(n),o&&k(l),o&&k(r),c=!1,i()}}}function Lo(s){let e,t,n,l,r,c,i;return{c(){e=m("div"),t=m("button"),n=S(),l=m("h2"),l.textContent="Delete Account",r=E(`\r
	Permanently delete your Meower account. THIS CANNOT BE UNDONE.`),d(t,"class","circle settings svelte-1undfiq"),d(e,"class","settings-controls svelte-1undfiq")},m(o,a){w(o,e,a),f(e,t),w(o,n,a),w(o,l,a),w(o,r,a),c||(i=N(t,"click",s[8]),c=!0)},p:P,d(o){o&&k(e),o&&k(n),o&&k(l),o&&k(r),c=!1,i()}}}function Po(s){let e,t,n,l,r,c,i,o,a,u,_,p,b;e=new oe({props:{$$slots:{default:[$o]},$$scope:{ctx:s}}}),n=new oe({props:{$$slots:{default:[ko]},$$scope:{ctx:s}}}),r=new oe({props:{$$slots:{default:[wo]},$$scope:{ctx:s}}}),i=new oe({props:{$$slots:{default:[yo]},$$scope:{ctx:s}}}),a=new oe({props:{$$slots:{default:[Co]},$$scope:{ctx:s}}});let g=s[0].name&&hl(s);return{c(){O(e.$$.fragment),t=S(),O(n.$$.fragment),l=S(),O(r.$$.fragment),c=S(),O(i.$$.fragment),o=S(),O(a.$$.fragment),u=S(),g&&g.c(),_=S(),p=m("div"),d(p,"class","eee")},m(v,h){U(e,v,h),w(v,t,h),U(n,v,h),w(v,l,h),U(r,v,h),w(v,c,h),U(i,v,h),w(v,o,h),U(a,v,h),w(v,u,h),g&&g.m(v,h),w(v,_,h),w(v,p,h),b=!0},p(v,[h]){const $={};h&512&&($.$$scope={dirty:h,ctx:v}),e.$set($);const y={};h&513&&(y.$$scope={dirty:h,ctx:v}),n.$set(y);const I={};h&513&&(I.$$scope={dirty:h,ctx:v}),r.$set(I);const q={};h&513&&(q.$$scope={dirty:h,ctx:v}),i.$set(q);const A={};h&513&&(A.$$scope={dirty:h,ctx:v}),a.$set(A),v[0].name?g?(g.p(v,h),h&1&&C(g,1)):(g=hl(v),g.c(),C(g,1),g.m(_.parentNode,_)):g&&(te(),L(g,1,1,()=>{g=null}),ne())},i(v){b||(C(e.$$.fragment,v),C(n.$$.fragment,v),C(r.$$.fragment,v),C(i.$$.fragment,v),C(a.$$.fragment,v),C(g),b=!0)},o(v){L(e.$$.fragment,v),L(n.$$.fragment,v),L(r.$$.fragment,v),L(i.$$.fragment,v),L(a.$$.fragment,v),L(g),b=!1},d(v){j(e,v),v&&k(t),j(n,v),v&&k(l),j(r,v),v&&k(c),j(i,v),v&&k(o),j(a,v),v&&k(u),g&&g.d(v),v&&k(_),v&&k(p)}}}function qo(s,e,t){let n,l,r;return z(s,re,p=>t(0,n=p)),z(s,ae,p=>t(1,l=p)),z(s,B,p=>t(2,r=p)),[n,l,r,()=>{const p=n;p.layout=p.layout==="new"?"old":"new",re.set(p),ze()},()=>{const p=n;p.theme=p.theme==="orange"?"blue":"orange",re.set(p),ze()},()=>{const p=n;p.mode=!p.mode,re.set(p),ze()},()=>{const p=n;p.sfx=!p.sfx,re.set(p),ze()},()=>{G(ae,l="changePassword",l),G(B,r=!0,r)},()=>{G(ae,l="deleteAccount",l),G(B,r=!0,r)}]}class Eo extends Z{constructor(e){super(),X(this,e,qo,Po,V,{})}}const Fl=""+new URL("meowy.93c25f40.svg",import.meta.url).href;function gl(s,e,t){const n=s.slice();return n[1]=e[t],n}function bl(s){let e,t;return{c(){e=m("img"),d(e,"class","cat svelte-vuknl4"),d(e,"alt","MEOW"),d(e,"title","MEOW"),be(e.src,t=Fl)||d(e,"src",t),d(e,"height","100"),Ae(e,"left",(s[1].x||0)+"vw",!1),Ae(e,"top",(s[1].y||0)+"vh",!1),Ae(e,"animation-delay",-(s[1].offset||0)+"s",!1),Ae(e,"animation-duration",s[1].time+"s",!1)},m(n,l){w(n,e,l)},p:P,d(n){n&&k(e)}}}function Io(s){let e,t=s[0],n=[];for(let l=0;l<t.length;l+=1)n[l]=bl(gl(s,t,l));return{c(){e=m("div");for(let l=0;l<n.length;l+=1)n[l].c();d(e,"class","cats svelte-vuknl4")},m(l,r){w(l,e,r);for(let c=0;c<n.length;c+=1)n[c].m(e,null)},p(l,[r]){if(r&1){t=l[0];let c;for(c=0;c<t.length;c+=1){const i=gl(l,t,c);n[c]?n[c].p(i,r):(n[c]=bl(i),n[c].c(),n[c].m(e,null))}for(;c<n.length;c+=1)n[c].d(1);n.length=t.length}},i:P,o:P,d(l){l&&k(e),Ft(n,l)}}}function Mo(s){return[new Array(100).fill({}).map(t=>({x:Math.random()*100,y:Math.random()*100,offset:Math.random()*15,time:5+Math.random()*10}))]}class Ro extends Z{constructor(e){super(),X(this,e,Mo,Io,V,{})}}function Uo(s){let e,t,n,l,r;return l=new Ro({}),{c(){e=m("div"),t=m("div"),t.textContent="GROUP CAT 2.0!!!!",n=S(),O(l.$$.fragment),d(t,"class","message svelte-w78hki")},m(c,i){w(c,e,i),f(e,t),f(e,n),U(l,e,null),r=!0},p:P,i(c){r||(C(l.$$.fragment,c),r=!0)},o(c){L(l.$$.fragment,c),r=!1},d(c){c&&k(e),j(l)}}}class jo extends Z{constructor(e){super(),X(this,e,null,Uo,V,{})}}const en=""+new URL("logo.22ae43ae.svg",import.meta.url).href,Oo=""+new URL("home.a6e91ee5.svg",import.meta.url).href,To=""+new URL("chat.8f7a11c0.svg",import.meta.url).href,vl=""+new URL("mail.adf4cbe0.svg",import.meta.url).href,$l=""+new URL("mail_new.2e8332f8.svg",import.meta.url).href,No=""+new URL("profile.f90d67b3.svg",import.meta.url).href,Ao=""+new URL("settings.10cdbd27.svg",import.meta.url).href,zo=""+new URL("logout.32557676.svg",import.meta.url).href;function Do(s){let e,t,n,l,r,c,i,o,a,u,_,p,b,g,v,h,$,y,I,q,A,R,T,M,Y,Q,le,ee,fe,D,H;return{c(){e=m("div"),t=m("div"),n=m("span"),l=m("img"),c=S(),i=m("button"),o=m("img"),u=S(),_=m("button"),p=m("img"),g=S(),v=m("button"),h=m("img"),y=S(),I=m("button"),q=m("img"),R=S(),T=m("button"),M=m("img"),Q=S(),le=m("button"),ee=m("img"),d(l,"alt","Meower"),be(l.src,r=en)||d(l,"src",r),d(l,"draggable",!1),d(l,"height","100%"),d(l,"width","auto"),d(l,"class","svelte-24kvyj"),d(n,"class","logo-inner svelte-24kvyj"),d(t,"class","logo svelte-24kvyj"),be(o.src,a=Oo)||d(o,"src",a),d(o,"alt","Home"),d(o,"width","90%"),d(o,"height","auto"),d(o,"draggable",!1),d(i,"class","home-btn round svelte-24kvyj"),be(p.src,b=s[0].unread_inbox?$l:vl)||d(p,"src",b),d(p,"alt","Inbox Messages"),d(p,"width","90%"),d(p,"height","auto"),d(p,"draggable",!1),d(_,"class","gc-btn round svelte-24kvyj"),be(h.src,$=To)||d(h,"src",$),d(h,"alt","Group Chats"),d(h,"width","90%"),d(h,"height","auto"),d(h,"draggable",!1),d(v,"class","gc-btn round svelte-24kvyj"),be(q.src,A=No)||d(q,"src",A),d(q,"alt","Profile"),d(q,"width","90%"),d(q,"height","auto"),d(q,"draggable",!1),d(I,"class","profile-btn round svelte-24kvyj"),be(M.src,Y=Ao)||d(M,"src",Y),d(M,"alt","Settings"),d(M,"width","90%"),d(M,"height","auto"),d(M,"draggable",!1),d(T,"class","settings-btn round svelte-24kvyj"),be(ee.src,fe=zo)||d(ee,"src",fe),d(ee,"alt","Log out"),d(ee,"width","90%"),d(ee,"height","auto"),d(ee,"draggable",!1),d(le,"class","logout-btn round svelte-24kvyj"),d(e,"class","sidebar svelte-24kvyj")},m(F,J){w(F,e,J),f(e,t),f(t,n),f(n,l),f(e,c),f(e,i),f(i,o),f(e,u),f(e,_),f(_,p),f(e,g),f(e,v),f(v,h),f(e,y),f(e,I),f(I,q),f(e,R),f(e,T),f(T,M),f(e,Q),f(e,le),f(le,ee),D||(H=[N(n,"click",s[3]),N(i,"click",s[4]),N(_,"click",s[5]),N(v,"click",s[6]),N(I,"click",s[7]),N(T,"click",s[8]),N(le,"click",s[9])],D=!0)},p(F,[J]){J&1&&!be(p.src,b=F[0].unread_inbox?$l:vl)&&d(p,"src",b)},i:P,o:P,d(F){F&&k(e),D=!1,se(H)}}}function Bo(s,e,t){let n,l,r,c;z(s,ke,v=>t(10,n=v)),z(s,ue,v=>t(11,l=v)),z(s,re,v=>t(0,r=v)),z(s,Fe,v=>t(1,c=v));function i(v,h=!0){if(!r.name&&v!=="home"&&v!=="settings"){ae.set("signup"),B.set(!0);return}h&&window.scrollTo(0,0),l==="groupchat"&&ie({cmd:"direct",val:{cmd:"set_chat_state",val:{state:0,chatid:n}}}),ke.set(""),ue.set("blank"),we().then(()=>ue.set(v))}return[r,c,i,()=>i("home"),()=>i("home"),()=>i("inbox"),()=>{i(Je?"groupcat":"chatlist")},()=>{G(Fe,c=r.name,c),i("profile")},()=>i("settings"),()=>{ae.set("logout"),B.set(!0)}]}class Ho extends Z{constructor(e){super(),X(this,e,Bo,Do,V,{})}}function Wo(s){let e,t,n,l,r;return{c(){e=E(`Somehow, you got to a page that doesn't exist...\r
			`),t=m("br"),n=E(`\r
			(Current page: `),l=E(s[0]),r=E(")")},m(c,i){w(c,e,i),w(c,t,i),w(c,n,i),w(c,l,i),w(c,r,i)},p(c,i){i&1&&K(l,c[0])},i:P,o:P,d(c){c&&k(e),c&&k(t),c&&k(n),c&&k(l),c&&k(r)}}}function Yo(s){let e;return{c(){e=m("div")},m(t,n){w(t,e,n)},p:P,i:P,o:P,d(t){t&&k(e)}}}function Go(s){let e,t;return e=new Kl({}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p:P,i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Ko(s){let e,t;return e=new jo({}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p:P,i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Fo(s){let e,t;return e=new Eo({}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p:P,i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Jo(s){let e,t;return e=new vo({}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p:P,i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Qo(s){let e,t;return e=new oo({}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p:P,i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Vo(s){let e,t;return e=new Kl({}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p:P,i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Xo(s){let e,t;return e=new qr({}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p:P,i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Zo(s){let e,t;return e=new _r({}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p:P,i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function xo(s){let e,t;return e=new tr({}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p:P,i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function ei(s){let e,t,n,l,r,c,i,o;n=new Ho({});const a=[xo,Zo,Xo,Vo,Qo,Jo,Fo,Ko,Go,Yo,Wo],u=[];function _(p,b){return p[0]==="home"?0:p[0]==="inbox"?1:p[0]==="chatlist"?2:p[0]==="groupchat"?3:p[0]==="profile"?4:p[0]==="recent"?5:p[0]==="settings"?6:p[0]==="groupcat"?7:p[0]==="groupchat"?8:p[0]==="blank"?9:10}return c=_(s),i=u[c]=a[c](s),{c(){e=m("div"),t=m("div"),O(n.$$.fragment),l=S(),r=m("div"),i.c(),d(t,"class","sidebar svelte-w6uu6j"),d(r,"class","view svelte-w6uu6j"),d(e,"class","main-screen svelte-w6uu6j")},m(p,b){w(p,e,b),f(e,t),U(n,t,null),f(e,l),f(e,r),u[c].m(r,null),o=!0},p(p,[b]){let g=c;c=_(p),c===g?u[c].p(p,b):(te(),L(u[g],1,1,()=>{u[g]=null}),ne(),i=u[c],i?i.p(p,b):(i=u[c]=a[c](p),i.c()),C(i,1),i.m(r,null))},i(p){o||(C(n.$$.fragment,p),C(i),o=!0)},o(p){L(n.$$.fragment,p),L(i),o=!1},d(p){p&&k(e),j(n),u[c].d()}}}function ti(s,e,t){let n;return z(s,ue,l=>t(0,n=l)),ue.set("home"),[n]}class ni extends Z{constructor(e){super(),X(this,e,ti,ei,V,{})}}function li(s){let e,t,n,l,r,c,i,o,a,u,_;return{c(){e=m("div"),t=m("div"),n=E(`Somehow, you got to a page that doesn't exist...\r
				`),l=m("br"),r=E(`\r
				(Current page: `),c=E(s[8]),i=E(`)\r
\r
				`),o=m("div"),a=m("button"),a.textContent="Go back!",d(l,"class","svelte-slqvyn"),d(a,"class","svelte-slqvyn"),d(o,"class","buttons svelte-slqvyn"),d(t,"class","column-ui svelte-slqvyn"),d(e,"class","fullcenter svelte-slqvyn")},m(p,b){w(p,e,b),f(e,t),f(t,n),f(t,l),f(t,r),f(t,c),f(t,i),f(t,o),f(o,a),u||(_=N(a,"click",s[23]),u=!0)},p(p,b){b&256&&K(c,p[8])},i:P,o:P,d(p){p&&k(e),u=!1,_()}}}function si(s){let e;return{c(){e=m("div"),e.textContent="Let's go!",d(e,"class","fullcenter svelte-slqvyn")},m(t,n){w(t,e,n)},p:P,i:P,o:P,d(t){t&&k(e)}}}function ri(s){let e;return{c(){e=m("div")},m(t,n){w(t,e,n)},p:P,i:P,o:P,d(t){t&&k(e)}}}function oi(s){let e,t,n,l,r,c,i,o,a,u,_,p,b,g,v,h,$,y,I,q,A,R,T,M,Y,Q,le,ee,fe,D,H,F;return{c(){e=m("div"),t=m("h1"),t.textContent="Welcome to Meower",n=S(),l=m("form"),r=m("input"),c=S(),i=m("br"),o=S(),a=m("input"),u=S(),_=m("p"),p=m("input"),b=S(),g=m("label"),g.textContent="Save this login",v=S(),h=m("br"),$=S(),y=m("input"),I=S(),q=m("label"),q.innerHTML='I agree to <a href="https://meower.org/legal" target="_blank" class="svelte-slqvyn">Meower&#39;s Terms of Service and Privacy Policy</a>',A=S(),R=m("span"),T=E(s[3]),M=S(),Y=m("div"),Q=m("button"),Q.textContent="Go back",le=S(),ee=m("button"),fe=E("Join!"),d(r,"type","text"),d(r,"placeholder","Username"),d(r,"maxlength","20"),d(r,"class","svelte-slqvyn"),d(i,"class","svelte-slqvyn"),d(a,"type","password"),d(a,"placeholder","Password"),d(a,"maxlength","64"),d(a,"class","svelte-slqvyn"),d(p,"id","remember-me"),d(p,"type","checkbox"),d(p,"class","svelte-slqvyn"),d(g,"for","remember-me"),d(g,"class","svelte-slqvyn"),d(h,"class","svelte-slqvyn"),d(y,"id","accept-terms"),d(y,"type","checkbox"),d(y,"class","svelte-slqvyn"),d(q,"for","accept-terms"),d(q,"class","svelte-slqvyn"),d(_,"class","checkboxes svelte-slqvyn"),d(R,"class","login-status svelte-slqvyn"),d(Q,"type","button"),d(Q,"class","svelte-slqvyn"),d(ee,"type","submit"),ee.disabled=D=!s[5],d(ee,"class","svelte-slqvyn"),d(Y,"class","buttons svelte-slqvyn"),d(l,"class","column-ui svelte-slqvyn"),d(e,"class","fullcenter svelte-slqvyn")},m(J,x){w(J,e,x),f(e,t),f(e,n),f(e,l),f(l,r),f(l,c),f(l,i),f(l,o),f(l,a),f(l,u),f(l,_),f(_,p),p.checked=s[4],f(_,b),f(_,g),f(_,v),f(_,h),f(_,$),f(_,y),y.checked=s[5],f(_,I),f(_,q),f(l,A),f(l,R),f(R,T),f(l,M),f(l,Y),f(Y,Q),f(Y,le),f(Y,ee),f(ee,fe),H||(F=[N(p,"change",s[19]),N(y,"change",s[20]),N(Q,"click",he(s[21])),N(l,"submit",he(s[22]))],H=!0)},p(J,x){x&16&&(p.checked=J[4]),x&32&&(y.checked=J[5]),x&8&&K(T,J[3]),x&32&&D!==(D=!J[5])&&(ee.disabled=D)},i:P,o:P,d(J){J&&k(e),H=!1,se(F)}}}function ii(s){let e,t,n,l,r,c,i,o,a,u,_,p,b,g,v,h,$,y,I,q,A,R,T,M;return{c(){e=m("div"),t=m("h1"),t.textContent="Login to Meower",n=S(),l=m("form"),r=m("input"),c=S(),i=m("br"),o=S(),a=m("input"),u=S(),_=m("p"),p=m("input"),b=S(),g=m("label"),g.textContent="Save this login",v=S(),h=m("span"),$=E(s[3]),y=S(),I=m("div"),q=m("button"),q.textContent="Go back",A=S(),R=m("button"),R.textContent="Log in",d(r,"type","text"),d(r,"placeholder","Username"),d(r,"maxlength","20"),d(r,"class","svelte-slqvyn"),d(i,"class","svelte-slqvyn"),d(a,"type","password"),d(a,"placeholder","Password"),d(a,"maxlength","64"),d(a,"class","svelte-slqvyn"),d(p,"id","remember-me"),d(p,"type","checkbox"),d(p,"class","svelte-slqvyn"),d(g,"for","remember-me"),d(g,"class","svelte-slqvyn"),d(_,"class","checkboxes svelte-slqvyn"),d(h,"class","login-status svelte-slqvyn"),d(q,"type","button"),d(q,"class","svelte-slqvyn"),d(R,"type","submit"),d(R,"class","svelte-slqvyn"),d(I,"class","buttons svelte-slqvyn"),d(l,"class","column-ui svelte-slqvyn"),d(e,"class","fullcenter svelte-slqvyn")},m(Y,Q){w(Y,e,Q),f(e,t),f(e,n),f(e,l),f(l,r),f(l,c),f(l,i),f(l,o),f(l,a),f(l,u),f(l,_),f(_,p),p.checked=s[4],f(_,b),f(_,g),f(l,v),f(l,h),f(h,$),f(l,y),f(l,I),f(I,q),f(I,A),f(I,R),T||(M=[N(p,"change",s[16]),N(q,"click",he(s[17])),N(l,"submit",he(s[18]))],T=!0)},p(Y,Q){Q&16&&(p.checked=Y[4]),Q&8&&K($,Y[3])},i:P,o:P,d(Y){Y&&k(e),T=!1,se(M)}}}function ci(s){let e,t,n,l,r,c,i,o,a,u,_,p,b,g,v,h,$,y=localStorage.getItem("meower_savedusername"),I,q,A,R,T,M,Y,Q,le,ee,fe,D,H=y&&fi(s);return{c(){e=m("div"),t=m("div"),n=m("div"),l=m("img"),c=S(),i=m("br"),o=m("br"),a=S(),u=m("button"),u.textContent="Log in",_=S(),p=m("br"),b=S(),g=m("button"),g.textContent="Create an account",v=S(),h=m("br"),$=S(),H&&H.c(),I=S(),q=m("button"),q.textContent="Skip",A=S(),R=m("p"),R.textContent="(Several features will be unavailable while not logged in.)",T=S(),M=m("div"),Y=m("p"),Y.textContent="Meower Svelte v1.4.1",Q=S(),le=m("img"),d(l,"alt","Meower"),be(l.src,r=en)||d(l,"src",r),d(l,"class","logo-img svelte-slqvyn"),d(l,"height","70"),d(i,"class","svelte-slqvyn"),d(o,"class","svelte-slqvyn"),d(n,"class","svelte-slqvyn"),d(u,"class","svelte-slqvyn"),d(p,"class","svelte-slqvyn"),d(g,"class","svelte-slqvyn"),d(h,"class","svelte-slqvyn"),d(q,"class","svelte-slqvyn"),d(R,"class","small svelte-slqvyn"),d(Y,"class","small svelte-slqvyn"),be(le.src,ee=Fl)||d(le,"src",ee),d(le,"alt",""),d(le,"height","64"),d(le,"class","svelte-slqvyn"),d(M,"class","svelte-slqvyn"),d(t,"class","column-ui svelte-slqvyn"),d(e,"class","fullcenter svelte-slqvyn")},m(F,J){w(F,e,J),f(e,t),f(t,n),f(n,l),f(n,c),f(n,i),f(n,o),f(t,a),f(t,u),f(t,_),f(t,p),f(t,b),f(t,g),f(t,v),f(t,h),f(t,$),H&&H.m(t,null),f(t,I),f(t,q),f(t,A),f(t,R),f(t,T),f(t,M),f(M,Y),f(M,Q),f(M,le),fe||(D=[N(u,"click",s[12]),N(g,"click",s[13]),N(q,"click",s[15])],fe=!0)},p(F,J){y&&H.p(F,J)},i:P,o:P,d(F){F&&k(e),H&&H.d(),fe=!1,se(D)}}}function ai(s){let e;return{c(){e=m("div"),e.textContent="Reconnecting...",d(e,"class","fullcenter svelte-slqvyn")},m(t,n){w(t,e,n)},p:P,i:P,o:P,d(t){t&&k(e)}}}function ui(s){let e,t,n,l,r,c,i,o,a,u;return{c(){e=m("div"),t=m("div"),n=m("div"),l=m("img"),c=S(),i=m("div"),o=E(s[3]),d(l,"alt","Meower"),be(l.src,r=en)||d(l,"src",r),d(l,"class","logo-img svelte-slqvyn"),d(l,"height","40"),d(n,"class","logo top svelte-slqvyn"),d(i,"class","connecting svelte-slqvyn"),d(e,"class","fullcenter svelte-slqvyn")},m(_,p){w(_,e,p),f(e,t),f(t,n),f(n,l),s[10](l),s[11](n),f(t,c),f(t,i),f(i,o),u=!0},p(_,p){(!u||p&8)&&K(o,_[3])},i(_){u||(a&&a.end(1),u=!0)},o(_){a=Dl(e,Gl,{duration:300}),u=!1},d(_){_&&k(e),s[10](null),s[11](null),_&&a&&a.end()}}}function fi(s){let e,t,n,l,r,c;return{c(){e=m("button"),e.textContent=`Use saved login (${localStorage.getItem("meower_savedusername")})`,t=S(),n=m("p"),l=E(s[3]),d(e,"class","svelte-slqvyn"),d(n,"class","small svelte-slqvyn")},m(i,o){w(i,e,o),w(i,t,o),w(i,n,o),f(n,l),r||(c=N(e,"click",s[14]),r=!0)},p(i,o){o&8&&K(l,i[3])},d(i){i&&k(e),i&&k(t),i&&k(n),r=!1,c()}}}function di(s){let e,t,n,l,r;const c=[ui,ai,ci,ii,oi,ri,si,li],i=[];function o(a,u){return a[8]==="logo"?0:a[8]==="reconnect"?1:a[8]==="welcome"?2:a[8]==="login"?3:a[8]==="join"?4:a[8]==="blank"?5:a[8]==="go"?6:7}return t=o(s),n=i[t]=c[t](s),{c(){e=m("div"),n.c(),d(e,"class","setup white svelte-slqvyn")},m(a,u){w(a,e,u),i[t].m(e,null),s[24](e),r=!0},p(a,[u]){let _=t;t=o(a),t===_?i[t].p(a,u):(te(),L(i[_],1,1,()=>{i[_]=null}),ne(),n=i[t],n?n.p(a,u):(n=i[t]=c[t](a),n.c()),C(n,1),n.m(e,null))},i(a){r||(C(n),l&&l.end(1),r=!0)},o(a){L(n),l=Dl(e,Gl,{duration:300}),r=!1},d(a){a&&k(e),i[t].d(),s[24](null),a&&l&&l.end()}}}function _i(s,e,t){let n,l,r;z(s,B,H=>t(6,n=H)),z(s,ae,H=>t(7,l=H)),z(s,me,H=>t(8,r=H));const c=W;window.clm=ks;let i,o,a,u="";async function _(){await Ht(),Hl(),await new Promise(H=>c.once("connected",H))}let p=!1,b=!1;Qt(()=>{me.subscribe(async H=>{!o||(o.classList.remove("white"),H==="logo"?(Ht(),t(3,u=""),await we(),o.classList.add("white"),t(2,a.height=0,a),i.classList.remove("top"),await We(600),t(2,a.height=80,a),await We(300),o.classList.remove("white"),t(2,a.height=40,a),i.classList.add("top"),await We(700),t(3,u="Connecting..."),await _(),localStorage.getItem("meower_savedusername")&&localStorage.getItem("meower_savedpassword")?v(localStorage.getItem("meower_savedusername"),localStorage.getItem("meower_savedpassword"),!0):await g()):H==="reconnect"&&(t(3,u=""),await _(),await We(100),me.set("welcome")))})});async function g(){localStorage.clear(),re.set(Zt()),t(3,u=""),me.set("blank"),await We(600),me.set("welcome")}function v(H,F,J=!1){try{t(3,u="Logging in..."),ie({cmd:"direct",val:{cmd:"authpswd",val:{username:H,pswd:F}}}).then(async x=>{try{const Oe=await ie({cmd:"direct",val:{cmd:"get_profile",val:x.payload.username}});re.update(Te=>Object.assign(Te,{...Oe.payload,name:x.payload.username})),Ze.set({username:x.payload.username,token:x.payload.token}),(p||localStorage.getItem("meower_savedusername")===H)&&(localStorage.setItem("meower_savedusername",H),localStorage.setItem("meower_savedpassword",x.payload.token)),Be.set("main")}catch(Oe){localStorage.clear(),console.error("Unexpected "+Oe+" error getting user data!"),c.disconnect(1e3,"Failed to load userdata")}}).catch(x=>{if(J)return g();switch(x){case"E:103 | ID not found":t(3,u="Invalid username!");break;case"I:011 | Invalid Password":t(3,u="Invalid password!");break;case"E:018 | Account Banned":G(ae,l="banned",l),G(B,n=!0,n),t(3,u="");break;case"E:019 | Illegal characters detected":t(3,u="Usernames must not have spaces or other special characters!");break;case"E:106 | Too many requests":t(3,u="Too many requests! Please try again later.");break;default:t(3,u=`Unexpected ${x} error!`)}})}catch(x){if(J)return g();console.error(x),t(3,u="Error logging in: "+x)}}function h(H){De[H?"unshift":"push"](()=>{a=H,t(2,a)})}function $(H){De[H?"unshift":"push"](()=>{i=H,t(0,i)})}const y=()=>me.set("login"),I=()=>me.set("join"),q=()=>{t(4,p=!0),v(localStorage.getItem("meower_savedusername"),localStorage.getItem("meower_savedpassword"))},A=()=>{t(3,u=""),me.set("blank"),Be.set("main")};function R(){p=this.checked,t(4,p)}const T=()=>(me.set("welcome"),t(3,u=""),!1),M=H=>H.target[0].value&&H.target[1].value?(v(H.target[0].value,H.target[1].value),!1):(t(3,u="You must specify a username and a password to login!"),!1);function Y(){p=this.checked,t(4,p)}function Q(){b=this.checked,t(5,b)}const le=()=>(me.set("welcome"),t(3,u=""),!1),ee=H=>{const F=H.target[0].value,J=H.target[1].value;if(!(F&&J))return t(3,u="You must specify a username and a password to create an account!"),!1;t(3,u="Creating account..."),ie({cmd:"direct",val:{cmd:"gen_account",val:{username:F,pswd:J}},listener:"join"}).then(async x=>{if(x.mode==="auth"&&x.payload.username===F){t(3,u="Getting user data...");const Oe=await ie({cmd:"direct",val:{cmd:"get_profile",val:x.payload.username}});re.update(Te=>Object.assign(Te,{...Oe.payload,name:x.payload.username})),Ze.set({username:x.payload.username,token:x.payload.token}),t(3,u=""),p&&(localStorage.setItem("meower_savedusername",F),localStorage.setItem("meower_savedpassword",x.payload.token)),me.set("go"),await We(1e3),Be.set("main")}else t(3,u="Unexpected error logging in!")}).catch(x=>{switch(x){case"I:015 | Account exists":t(3,u="That username already exists!");break;case"I:011 | Invalid Password":t(3,u="Invalid password!");break;case"E:119 | IP Blocked":G(ae,l="ipBanned",l),G(B,n=!0,n),t(3,u="");break;case"E:019 | Illegal characters detected":t(3,u="Usernames must not have spaces or other special characters!");break;case"E:106 | Too many requests":t(3,u="Too many requests! Please try again later.");break;default:t(3,u=`Unexpected ${x} error!`)}})},fe=()=>me.set("logo");function D(H){De[H?"unshift":"push"](()=>{o=H,t(1,o)})}return[i,o,a,u,p,b,n,l,r,v,h,$,y,I,q,A,R,T,M,Y,Q,le,ee,fe,D]}class pi extends Z{constructor(e){super(),X(this,e,_i,di,V,{})}}function mi(s){let e;return{c(){e=m("h2"),e.textContent="Login to Meower",d(e,"slot","header")},m(t,n){w(t,e,n)},p:P,d(t){t&&k(e)}}}function hi(s){let e,t,n,l,r,c,i,o,a,u,_,p,b,g,v,h,$,y,I,q,A,R,T=s[1]&&kl(s);return{c(){e=m("form"),T&&T.c(),t=S(),n=m("input"),l=m("br"),r=m("br"),c=S(),i=m("input"),o=m("br"),a=S(),u=m("p"),_=m("input"),p=S(),b=m("label"),b.textContent="Remember me",g=S(),v=m("br"),h=S(),$=m("div"),y=m("a"),y.textContent="Join Meower",I=S(),q=m("button"),q.textContent="Login",d(n,"type","text"),d(n,"class","modal-input white"),d(n,"placeholder","Username"),d(n,"maxlength","20"),n.value=s[2],n.autofocus=!0,d(i,"type","password"),d(i,"class","modal-input white"),d(i,"placeholder","Password"),d(i,"maxlength","64"),i.value=s[3],d(_,"id","remember-me"),d(_,"type","checkbox"),d(_,"class","svelte-hkhckx"),d(b,"for","remember-me"),d(b,"class","svelte-hkhckx"),d(u,"class","checkboxes svelte-hkhckx"),d(y,"href","/"),d(q,"type","submit"),d($,"class","modal-buttons")},m(M,Y){w(M,e,Y),T&&T.m(e,null),f(e,t),f(e,n),f(e,l),f(e,r),f(e,c),f(e,i),f(e,o),f(e,a),f(e,u),f(u,_),_.checked=s[4],f(u,p),f(u,b),f(e,g),f(e,v),f(e,h),f(e,$),f($,y),f($,I),f($,q),n.focus(),A||(R=[N(_,"change",s[7]),N(y,"click",he(s[8])),N(e,"submit",he(s[9]))],A=!0)},p(M,Y){M[1]?T?T.p(M,Y):(T=kl(M),T.c(),T.m(e,t)):T&&(T.d(1),T=null),Y&4&&n.value!==M[2]&&(n.value=M[2]),Y&8&&i.value!==M[3]&&(i.value=M[3]),Y&16&&(_.checked=M[4])},i:P,o:P,d(M){M&&k(e),T&&T.d(),A=!1,se(R)}}}function gi(s){let e,t,n;return t=new ve({}),{c(){e=m("div"),O(t.$$.fragment),d(e,"class","fullcenter svelte-hkhckx")},m(l,r){w(l,e,r),U(t,e,null),n=!0},p:P,i(l){n||(C(t.$$.fragment,l),n=!0)},o(l){L(t.$$.fragment,l),n=!1},d(l){l&&k(e),j(t)}}}function kl(s){let e,t,n;return{c(){e=m("span"),t=E(s[1]),n=m("br"),d(e,"class","login-status svelte-hkhckx")},m(l,r){w(l,e,r),f(e,t),w(l,n,r)},p(l,r){r&2&&K(t,l[1])},d(l){l&&k(e),l&&k(n)}}}function bi(s){let e,t,n,l;const r=[gi,hi],c=[];function i(o,a){return o[0]?0:1}return t=i(s),n=c[t]=r[t](s),{c(){e=m("div"),n.c(),d(e,"slot","default")},m(o,a){w(o,e,a),c[t].m(e,null),l=!0},p(o,a){let u=t;t=i(o),t===u?c[t].p(o,a):(te(),L(c[u],1,1,()=>{c[u]=null}),ne(),n=c[t],n?n.p(o,a):(n=c[t]=r[t](o),n.c()),C(n,1),n.m(e,null))},i(o){l||(C(n),l=!0)},o(o){L(n),l=!1},d(o){o&&k(e),c[t].d()}}}function vi(s){let e,t;return e=new _e({props:{$$slots:{default:[bi],header:[mi]},$$scope:{ctx:s}}}),e.$on("close",s[10]),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p(n,[l]){const r={};l&2079&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function $i(s,e,t){let n;z(s,B,g=>t(5,n=g));let l=!1,r="",c="",i="",o=!1;function a(){try{t(0,l=!0),ie({cmd:"direct",val:{cmd:"authpswd",val:{username:c,pswd:i}}}).then(async g=>{try{const v=await ie({cmd:"direct",val:{cmd:"get_profile",val:g.payload.username}});B.set(!1),re.update(h=>Object.assign(h,{...v.payload,name:g.payload.username})),Ze.set({username:g.payload.username,token:g.payload.token}),o&&(localStorage.setItem("meower_savedusername",c),localStorage.setItem("meower_savedpassword",g.payload.token))}catch(v){t(0,l=!1),t(1,r="Unexpected "+v+" error getting user data!")}}).catch(g=>{switch(t(0,l=!1),g){case"E:103 | ID not found":t(1,r="Invalid username!");break;case"I:011 | Invalid Password":t(1,r="Invalid password!");break;case"E:018 | Account Banned":ae.set("banned");break;case"E:107 | Packet too large":t(1,r="The username and/or password is too long!");break;case"E:019 | Illegal characters detected":t(1,r="Usernames must not have spaces or other special characters!");break;case"E:106 | Too many requests":t(1,r="Too many requests! Please try again later.");break;default:t(1,r=`Unexpected ${g} error!`)}})}catch(g){console.log(g),t(0,l=!1),t(1,r="Error logging in: "+g)}}function u(){o=this.checked,t(4,o)}return[l,r,c,i,o,n,a,u,()=>{ae.set("signup")},g=>g.target[0].value&&g.target[1].value?(t(2,c=g.target[0].value),t(3,i=g.target[1].value),a(),!1):(t(1,r="You must specify a username and a password to login!"),!1),()=>{G(B,n=!1,n)}]}class ki extends Z{constructor(e){super(),X(this,e,$i,vi,V,{})}}function wi(s){let e;return{c(){e=m("h2"),e.textContent="Join Meower",d(e,"slot","header")},m(t,n){w(t,e,n)},p:P,d(t){t&&k(e)}}}function yi(s){let e,t,n,l,r,c,i,o,a,u,_,p,b,g,v,h,$,y,I,q,A,R,T,M,Y,Q,le,ee,fe,D,H=s[1]&&wl(s);return{c(){e=m("form"),H&&H.c(),t=S(),n=m("input"),l=m("br"),r=m("br"),c=S(),i=m("input"),o=m("br"),a=S(),u=m("p"),_=m("input"),p=S(),b=m("label"),b.textContent="Remember me",g=S(),v=m("br"),h=S(),$=m("input"),y=S(),I=m("label"),I.innerHTML='I agree to <a href="https://meower.org/legal" target="_blank">Meower&#39;s Terms of Service and Privacy Policy</a>',q=S(),A=m("br"),R=S(),T=m("div"),M=m("a"),M.textContent="Login to Meower",Y=S(),Q=m("button"),le=E("Create Account"),d(n,"type","text"),d(n,"class","modal-input white"),d(n,"placeholder","Username"),d(n,"maxlength","20"),n.value=s[2],n.autofocus=!0,d(i,"type","password"),d(i,"class","modal-input white"),d(i,"placeholder","Password"),d(i,"maxlength","64"),i.value=s[3],d(_,"id","remember-me"),d(_,"type","checkbox"),d(_,"class","svelte-hkhckx"),d(b,"for","remember-me"),d(b,"class","svelte-hkhckx"),d($,"id","accept-terms"),d($,"type","checkbox"),d($,"class","svelte-hkhckx"),d(I,"for","accept-terms"),d(I,"class","svelte-hkhckx"),d(u,"class","checkboxes svelte-hkhckx"),d(M,"href","/"),d(Q,"type","submit"),Q.disabled=ee=!s[4],d(T,"class","modal-buttons")},m(F,J){w(F,e,J),H&&H.m(e,null),f(e,t),f(e,n),f(e,l),f(e,r),f(e,c),f(e,i),f(e,o),f(e,a),f(e,u),f(u,_),_.checked=s[5],f(u,p),f(u,b),f(u,g),f(u,v),f(u,h),f(u,$),$.checked=s[4],f(u,y),f(u,I),f(e,q),f(e,A),f(e,R),f(e,T),f(T,M),f(T,Y),f(T,Q),f(Q,le),n.focus(),fe||(D=[N(_,"change",s[8]),N($,"change",s[9]),N(M,"click",he(s[10])),N(e,"submit",he(s[11]))],fe=!0)},p(F,J){F[1]?H?H.p(F,J):(H=wl(F),H.c(),H.m(e,t)):H&&(H.d(1),H=null),J&4&&n.value!==F[2]&&(n.value=F[2]),J&8&&i.value!==F[3]&&(i.value=F[3]),J&32&&(_.checked=F[5]),J&16&&($.checked=F[4]),J&16&&ee!==(ee=!F[4])&&(Q.disabled=ee)},i:P,o:P,d(F){F&&k(e),H&&H.d(),fe=!1,se(D)}}}function Ci(s){let e,t,n;return t=new ve({}),{c(){e=m("div"),O(t.$$.fragment),d(e,"class","fullcenter svelte-hkhckx")},m(l,r){w(l,e,r),U(t,e,null),n=!0},p:P,i(l){n||(C(t.$$.fragment,l),n=!0)},o(l){L(t.$$.fragment,l),n=!1},d(l){l&&k(e),j(t)}}}function wl(s){let e,t,n;return{c(){e=m("span"),t=E(s[1]),n=m("br"),d(e,"class","login-status svelte-hkhckx")},m(l,r){w(l,e,r),f(e,t),w(l,n,r)},p(l,r){r&2&&K(t,l[1])},d(l){l&&k(e),l&&k(n)}}}function Si(s){let e,t,n,l;const r=[Ci,yi],c=[];function i(o,a){return o[0]?0:1}return t=i(s),n=c[t]=r[t](s),{c(){e=m("div"),n.c(),d(e,"slot","default")},m(o,a){w(o,e,a),c[t].m(e,null),l=!0},p(o,a){let u=t;t=i(o),t===u?c[t].p(o,a):(te(),L(c[u],1,1,()=>{c[u]=null}),ne(),n=c[t],n?n.p(o,a):(n=c[t]=r[t](o),n.c()),C(n,1),n.m(e,null))},i(o){l||(C(n),l=!0)},o(o){L(n),l=!1},d(o){o&&k(e),c[t].d()}}}function Li(s){let e,t;return e=new _e({props:{$$slots:{default:[Si],header:[wi]},$$scope:{ctx:s}}}),e.$on("close",s[12]),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p(n,[l]){const r={};l&16447&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Pi(s,e,t){let n,l;z(s,ae,$=>t(13,n=$)),z(s,B,$=>t(6,l=$));let r=!1,c="",i="",o="",a=!1,u=!1;function _(){try{t(0,r=!0),ie({cmd:"direct",val:{cmd:"gen_account",val:{username:i,pswd:o}},listener:"join"}).then(async $=>{if($.mode==="auth"&&$.payload.username===i){t(1,c="Getting user data...");const y=await ie({cmd:"direct",val:{cmd:"get_profile",val:$.payload.username}});B.set(!1),re.update(I=>Object.assign(I,{...y.payload,name:$.payload.username})),Ze.set({username:$.payload.username,token:$.payload.token}),t(1,c=""),u&&(localStorage.setItem("meower_savedusername",i),localStorage.setItem("meower_savedpassword",$.payload.token)),ue.set("blank"),we().then(()=>ue.set("home"))}else t(1,c="Unexpected error logging in!")}).catch($=>{switch(t(0,r=!1),$){case"I:015 | Account exists":t(1,c="That username already exists!");break;case"I:011 | Invalid Password":t(1,c="Invalid password!");break;case"E:119 | IP Blocked":G(ae,n="ipBanned",n);break;case"E:019 | Illegal characters detected":t(1,c="Usernames must not have spaces or other special characters!");break;case"E:106 | Too many requests":t(1,c="Too many requests! Please try again later.");break;default:t(1,c=`Unexpected ${$} error!`)}})}catch($){console.log($),t(0,r=!1),t(1,c="Error logging in: "+$)}}function p(){u=this.checked,t(5,u)}function b(){a=this.checked,t(4,a)}return[r,c,i,o,a,u,l,_,p,b,()=>{ae.set("login")},$=>$.target[0].value&&$.target[1].value?(t(2,i=$.target[0].value),t(3,o=$.target[1].value),_(),!1):(t(1,c="You must specify a username and a password to create an account!"),!1),()=>{G(B,l=!1,l)}]}class qi extends Z{constructor(e){super(),X(this,e,Pi,Li,V,{})}}function Ei(s){let e;return{c(){e=m("h2"),e.textContent="Account Banned",d(e,"slot","header")},m(t,n){w(t,e,n)},p:P,d(t){t&&k(e)}}}function Ii(s){let e,t,n,l,r,c,i,o,a,u,_;return{c(){e=m("div"),t=m("p"),t.innerHTML=`Your account has been banned by the Meower moderation team because it was used to violate Meower&#39;s Terms of Service.
            <br/><br/>
            If you would like to discuss this ban, please email <a href="mailto:support@meower.org" target="_blank">support@meower.org</a>.`,n=S(),l=m("br"),r=S(),c=m("div"),i=m("a"),i.textContent="Terms of Service",o=S(),a=m("button"),a.textContent="Close",d(i,"href","https://meower.org/legal"),d(i,"target","_blank"),d(c,"class","modal-buttons"),d(e,"slot","default")},m(p,b){w(p,e,b),f(e,t),f(e,n),f(e,l),f(e,r),f(e,c),f(c,i),f(c,o),f(c,a),u||(_=N(a,"click",s[1]),u=!0)},p:P,d(p){p&&k(e),u=!1,_()}}}function Mi(s){let e,t;return e=new _e({props:{$$slots:{default:[Ii],header:[Ei]},$$scope:{ctx:s}}}),e.$on("close",s[2]),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p(n,[l]){const r={};l&9&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Ri(s,e,t){let n;return z(s,B,c=>t(0,n=c)),[n,()=>{G(B,n=!1,n)},()=>{G(B,n=!1,n)}]}class Ui extends Z{constructor(e){super(),X(this,e,Ri,Mi,V,{})}}function ji(s){let e;return{c(){e=m("h2"),e.textContent="IP Blocked",d(e,"slot","header")},m(t,n){w(t,e,n)},p:P,d(t){t&&k(e)}}}function Oi(s){let e,t,n,l,r,c,i,o,a,u,_;return{c(){e=m("div"),t=m("p"),t.innerHTML=`Your IP address has been blocked from creating new accounts because it was used to violate Meower&#39;s Terms of Service.
            <br/><br/>
            If you would like to discuss this block, please email <a href="mailto:support@meower.org" target="_blank">support@meower.org</a>.`,n=S(),l=m("br"),r=S(),c=m("div"),i=m("a"),i.textContent="Terms of Service",o=S(),a=m("button"),a.textContent="Close",d(i,"href","https://meower.org/legal"),d(i,"target","_blank"),d(c,"class","modal-buttons"),d(e,"slot","default")},m(p,b){w(p,e,b),f(e,t),f(e,n),f(e,l),f(e,r),f(e,c),f(c,i),f(c,o),f(c,a),u||(_=N(a,"click",s[1]),u=!0)},p:P,d(p){p&&k(e),u=!1,_()}}}function Ti(s){let e,t;return e=new _e({props:{$$slots:{default:[Oi],header:[ji]},$$scope:{ctx:s}}}),e.$on("close",s[2]),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p(n,[l]){const r={};l&9&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Ni(s,e,t){let n;return z(s,B,c=>t(0,n=c)),[n,()=>{G(B,n=!1,n)},()=>{G(B,n=!1,n)}]}class Ai extends Z{constructor(e){super(),X(this,e,Ni,Ti,V,{})}}function zi(s){let e;return{c(){e=m("h2"),e.textContent="Delete Post",d(e,"slot","header")},m(t,n){w(t,e,n)},p:P,d(t){t&&k(e)}}}function Di(s){let e,t,n,l,r,c,i,o,a,u,_,p,b,g;return l=new nt({props:{post:s[1],buttons:!1}}),{c(){e=m("div"),t=m("p"),t.textContent="Are you sure you would like to delete this post?",n=S(),O(l.$$.fragment),r=S(),c=m("br"),i=S(),o=m("div"),a=m("button"),a.textContent="Cancel",u=S(),_=m("button"),_.textContent="Delete",_.autofocus=!0,d(o,"class","modal-buttons"),d(e,"slot","default")},m(v,h){w(v,e,h),f(e,t),f(e,n),U(l,e,null),f(e,r),f(e,c),f(e,i),f(e,o),f(o,a),f(o,u),f(o,_),p=!0,_.focus(),b||(g=[N(a,"click",s[2]),N(_,"click",s[3])],b=!0)},p(v,h){const $={};h&2&&($.post=v[1]),l.$set($)},i(v){p||(C(l.$$.fragment,v),p=!0)},o(v){L(l.$$.fragment,v),p=!1},d(v){v&&k(e),j(l),b=!1,se(g)}}}function Bi(s){let e,t;return e=new _e({props:{$$slots:{default:[Di],header:[zi]},$$scope:{ctx:s}}}),e.$on("close",s[4]),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p(n,[l]){const r={};l&35&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Hi(s,e,t){let n,l;return z(s,B,o=>t(0,n=o)),z(s,qt,o=>t(1,l=o)),[n,l,()=>{G(B,n=!1,n)},()=>{ie({cmd:"direct",val:{cmd:"delete_post",val:l.post_id}}),G(B,n=!1,n)},()=>{G(B,n=!1,n)}]}class Wi extends Z{constructor(e){super(),X(this,e,Hi,Bi,V,{})}}function Yi(s){let e;return{c(){e=m("h2"),e.textContent="Report Post",d(e,"slot","header")},m(t,n){w(t,e,n)},p:P,d(t){t&&k(e)}}}function Gi(s){let e,t,n,l,r,c,i,o;return{c(){e=m("p"),e.textContent="Successfully reported post! A member of the Meower moderation team will review it shortly.",t=S(),n=m("br"),l=S(),r=m("div"),c=m("button"),c.textContent="Close",d(r,"class","modal-buttons")},m(a,u){w(a,e,u),w(a,t,u),w(a,n,u),w(a,l,u),w(a,r,u),f(r,c),i||(o=N(c,"click",s[5]),i=!0)},p:P,i:P,o:P,d(a){a&&k(e),a&&k(t),a&&k(n),a&&k(l),a&&k(r),i=!1,o()}}}function Ki(s){let e,t,n,l,r,c,i,o,a,u,_,p,b;return n=new nt({props:{post:s[2],buttons:!1}}),{c(){e=m("p"),e.innerHTML=`Are you sure you would like to report this post?
                <br/><br/>
                Please make sure you&#39;re only reporting stuff that is against the Meower <a href="https://meower.org/legal" target="_blank">Terms of Service</a>.`,t=S(),O(n.$$.fragment),l=S(),r=m("br"),c=S(),i=m("div"),o=m("button"),o.textContent="Cancel",a=S(),u=m("button"),u.textContent="Report",d(i,"class","modal-buttons")},m(g,v){w(g,e,v),w(g,t,v),U(n,g,v),w(g,l,v),w(g,r,v),w(g,c,v),w(g,i,v),f(i,o),f(i,a),f(i,u),_=!0,p||(b=[N(o,"click",s[3]),N(u,"click",s[4])],p=!0)},p(g,v){const h={};v&4&&(h.post=g[2]),n.$set(h)},i(g){_||(C(n.$$.fragment,g),_=!0)},o(g){L(n.$$.fragment,g),_=!1},d(g){g&&k(e),g&&k(t),j(n,g),g&&k(l),g&&k(r),g&&k(c),g&&k(i),p=!1,se(b)}}}function Fi(s){let e,t,n,l;const r=[Ki,Gi],c=[];function i(o,a){return o[0]===0?0:o[0]===1?1:-1}return~(t=i(s))&&(n=c[t]=r[t](s)),{c(){e=m("div"),n&&n.c(),d(e,"slot","default")},m(o,a){w(o,e,a),~t&&c[t].m(e,null),l=!0},p(o,a){let u=t;t=i(o),t===u?~t&&c[t].p(o,a):(n&&(te(),L(c[u],1,1,()=>{c[u]=null}),ne()),~t?(n=c[t],n?n.p(o,a):(n=c[t]=r[t](o),n.c()),C(n,1),n.m(e,null)):n=null)},i(o){l||(C(n),l=!0)},o(o){L(n),l=!1},d(o){o&&k(e),~t&&c[t].d()}}}function Ji(s){let e,t;return e=new _e({props:{$$slots:{default:[Fi],header:[Yi]},$$scope:{ctx:s}}}),e.$on("close",s[6]),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p(n,[l]){const r={};l&135&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Qi(s,e,t){let n,l;z(s,B,u=>t(1,n=u)),z(s,qt,u=>t(2,l=u));let r=0;return[r,n,l,()=>{G(B,n=!1,n)},()=>{ie({cmd:"direct",val:{cmd:"report",val:{type:0,id:l.post_id}}}),t(0,r=1)},()=>{G(B,n=!1,n)},()=>{G(B,n=!1,n)}]}class Vi extends Z{constructor(e){super(),X(this,e,Qi,Ji,V,{})}}function Xi(s){let e;return{c(){e=m("h2"),e.textContent="Report User",d(e,"slot","header")},m(t,n){w(t,e,n)},p:P,d(t){t&&k(e)}}}function Zi(s){let e,t,n,l,r,c,i,o,a,u,_,p,b,g,v;return{c(){e=m("div"),t=m("span"),n=E("Are you sure you want to report "),l=E(s[1]),r=E("?"),c=S(),i=m("br"),o=m("br"),a=S(),u=m("div"),_=m("button"),_.textContent="Cancel",p=S(),b=m("button"),b.textContent="Report",d(u,"class","modal-buttons"),d(e,"slot","default")},m(h,$){w(h,e,$),f(e,t),f(t,n),f(t,l),f(t,r),f(e,c),f(e,i),f(e,o),f(e,a),f(e,u),f(u,_),f(u,p),f(u,b),g||(v=[N(_,"click",s[2]),N(b,"click",s[3])],g=!0)},p(h,$){$&2&&K(l,h[1])},d(h){h&&k(e),g=!1,se(v)}}}function xi(s){let e,t;return e=new _e({props:{$$slots:{default:[Zi],header:[Xi]},$$scope:{ctx:s}}}),e.$on("close",s[4]),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p(n,[l]){const r={};l&35&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function ec(s,e,t){let n,l;return z(s,B,o=>t(0,n=o)),z(s,Fe,o=>t(1,l=o)),[n,l,()=>{G(B,n=!1,n)},()=>{ie({cmd:"direct",val:{cmd:"report",val:{type:1,id:l}}}),G(B,n=!1,n)},()=>{G(B,n=!1,n)}]}class tc extends Z{constructor(e){super(),X(this,e,ec,xi,V,{})}}function nc(s){let e,t,n;return{c(){e=m("h2"),t=E(s[1]),n=E("'s Profile"),d(e,"slot","header")},m(l,r){w(l,e,r),f(e,t),f(e,n)},p(l,r){r&2&&K(t,l[1])},d(l){l&&k(e)}}}function lc(s){let e,t,n,l,r,c;return e=new oe({props:{$$slots:{default:[sc]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment),t=S(),n=m("button"),n.textContent="Close",d(n,"class","long svelte-w8vhr2")},m(i,o){U(e,i,o),w(i,t,o),w(i,n,o),l=!0,r||(c=N(n,"click",s[9]),r=!0)},p(i,o){const a={};o&8194&&(a.$$scope={dirty:o,ctx:i}),e.$set(a)},i(i){l||(C(e.$$.fragment,i),l=!0)},o(i){L(e.$$.fragment,i),l=!1},d(i){j(e,i),i&&k(t),i&&k(n),r=!1,c()}}}function sc(s){let e,t,n,l=s[12]+"",r;return{c(){e=E(`Error loading user profile.\r
				`),t=m("pre"),n=m("code"),r=E(l)},m(c,i){w(c,e,i),w(c,t,i),f(t,n),f(n,r)},p(c,i){i&2&&l!==(l=c[12]+"")&&K(r,l)},d(c){c&&k(e),c&&k(t)}}}function rc(s){let e,t,n,l,r,c,i,o,a;e=new oe({props:{$$slots:{default:[oc]},$$scope:{ctx:s}}});let u=s[5]==s[3].name&&s[1]!=s[3].name&&yl(s);return{c(){O(e.$$.fragment),t=S(),n=m("button"),n.textContent="View full profile",l=S(),u&&u.c(),r=S(),c=m("button"),c.textContent="Close",d(n,"class","long svelte-w8vhr2"),d(c,"class","long svelte-w8vhr2")},m(_,p){U(e,_,p),w(_,t,p),w(_,n,p),w(_,l,p),u&&u.m(_,p),w(_,r,p),w(_,c,p),i=!0,o||(a=[N(n,"click",s[6]),N(c,"click",s[8])],o=!0)},p(_,p){const b={};p&8206&&(b.$$scope={dirty:p,ctx:_}),e.$set(b),_[5]==_[3].name&&_[1]!=_[3].name?u?u.p(_,p):(u=yl(_),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null)},i(_){i||(C(e.$$.fragment,_),i=!0)},o(_){L(e.$$.fragment,_),i=!1},d(_){j(e,_),_&&k(t),_&&k(n),_&&k(l),u&&u.d(_),_&&k(r),_&&k(c),o=!1,se(a)}}}function oc(s){let e,t,n,l,r,c,i,o,a=s[2].includes(s[1])?"Online":"Offline",u,_,p,b=(Wt[s[11].lvl]||"Unknown")+"",g,v;return t=new tt({props:{online:s[2].includes(s[1]),icon:s[1]===s[3].name?s[3].pfp_data:s[11].pfp_data,alt:s[1]+"'s profile picture",size:1.4}}),{c(){e=m("div"),O(t.$$.fragment),n=S(),l=m("div"),r=m("h1"),c=E(s[1]),i=S(),o=m("div"),u=E(a),_=S(),p=m("div"),g=E(b),d(r,"class","profile-username svelte-w8vhr2"),d(o,"class","profile-active svelte-w8vhr2"),d(p,"class","profile-role svelte-w8vhr2"),d(l,"class","profile-header-info svelte-w8vhr2"),d(e,"class","profile-header svelte-w8vhr2")},m(h,$){w(h,e,$),U(t,e,null),f(e,n),f(e,l),f(l,r),f(r,c),f(l,i),f(l,o),f(o,u),f(l,_),f(l,p),f(p,g),v=!0},p(h,$){const y={};$&6&&(y.online=h[2].includes(h[1])),$&10&&(y.icon=h[1]===h[3].name?h[3].pfp_data:h[11].pfp_data),$&2&&(y.alt=h[1]+"'s profile picture"),t.$set(y),(!v||$&2)&&K(c,h[1]),(!v||$&6)&&a!==(a=h[2].includes(h[1])?"Online":"Offline")&&K(u,a),(!v||$&2)&&b!==(b=(Wt[h[11].lvl]||"Unknown")+"")&&K(g,b)},i(h){v||(C(t.$$.fragment,h),v=!0)},o(h){L(t.$$.fragment,h),v=!1},d(h){h&&k(e),j(t)}}}function yl(s){let e,t,n;return{c(){e=m("button"),e.textContent="Remove from chat",d(e,"class","long svelte-w8vhr2")},m(l,r){w(l,e,r),t||(n=N(e,"click",s[7]),t=!0)},p:P,d(l){l&&k(e),t=!1,n()}}}function ic(s){let e,t,n;return t=new ve({}),{c(){e=m("div"),O(t.$$.fragment),d(e,"class","center svelte-w8vhr2")},m(l,r){w(l,e,r),U(t,e,null),n=!0},p:P,i(l){n||(C(t.$$.fragment,l),n=!0)},o(l){L(t.$$.fragment,l),n=!1},d(l){l&&k(e),j(t)}}}function cc(s){let e,t,n,l={ctx:s,current:null,token:null,hasCatch:!0,pending:ic,then:rc,catch:lc,value:11,error:12,blocks:[,,,]};return Ge(t=Et(s[1]),l),{c(){e=m("div"),l.block.c(),d(e,"slot","default")},m(r,c){w(r,e,c),l.block.m(e,l.anchor=null),l.mount=()=>e,l.anchor=null,n=!0},p(r,c){s=r,l.ctx=s,c&2&&t!==(t=Et(s[1]))&&Ge(t,l)||et(l,s,c)},i(r){n||(C(l.block),n=!0)},o(r){for(let c=0;c<3;c+=1){const i=l.blocks[c];L(i)}n=!1},d(r){r&&k(e),l.block.d(),l.token=null,l=null}}}function ac(s){let e,t;return e=new _e({props:{$$slots:{default:[cc],header:[nc]},$$scope:{ctx:s}}}),e.$on("close",s[10]),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p(n,[l]){const r={};l&8255&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function uc(s,e,t){let n,l,r,c,i,o;return z(s,B,g=>t(0,n=g)),z(s,Xt,g=>t(1,l=g)),z(s,Ue,g=>t(2,r=g)),z(s,re,g=>t(3,c=g)),z(s,ke,g=>t(4,i=g)),z(s,Bt,g=>t(5,o=g)),[n,l,r,c,i,o,()=>{G(B,n=!1,n),ie({cmd:"direct",val:{cmd:"set_chat_state",val:{state:0,chatid:i}}}),Fe.set(l),ue.set("profile")},()=>{ae.set("removeMember")},()=>{G(B,n=!1,n)},()=>{G(B,n=!1,n)},()=>{G(B,n=!1,n)}]}class fc extends Z{constructor(e){super(),X(this,e,uc,ac,V,{})}}function dc(s){let e;return{c(){e=m("h2"),e.textContent="Add Member",d(e,"slot","header")},m(t,n){w(t,e,n)},p:P,d(t){t&&k(e)}}}function _c(s){let e,t,n,l,r,c,i,o,a,u,_,p,b,g,v,h,$;return{c(){e=m("div"),t=m("form"),n=m("label"),n.innerHTML="<b>Username</b>",l=S(),r=m("input"),c=S(),i=m("br"),o=m("br"),a=S(),u=m("div"),_=m("button"),_.textContent="Cancel",p=S(),b=m("button"),g=E("Add member"),d(n,"for","userinput"),d(r,"type","text"),d(r,"class","long white svelte-1ntawbt"),d(r,"placeholder","Username"),d(r,"id","userinput"),d(r,"name","userinput"),d(r,"autocomplete","false"),d(r,"maxlength","360"),d(_,"type","button"),d(b,"type","submit"),b.disabled=v=!s[0],d(u,"class","modal-buttons"),d(e,"slot","default")},m(y,I){w(y,e,I),f(e,t),f(t,n),f(t,l),f(t,r),Xe(r,s[0]),f(t,c),f(t,i),f(t,o),f(t,a),f(t,u),f(u,_),f(u,p),f(u,b),f(b,g),h||($=[N(r,"input",s[4]),N(_,"click",he(s[5])),N(t,"submit",he(s[6]))],h=!0)},p(y,I){I&1&&r.value!==y[0]&&Xe(r,y[0]),I&1&&v!==(v=!y[0])&&(b.disabled=v)},d(y){y&&k(e),h=!1,se($)}}}function pc(s){let e,t;return e=new _e({props:{$$slots:{default:[_c],header:[dc]},$$scope:{ctx:s}}}),e.$on("close",s[7]),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p(n,[l]){const r={};l&271&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function mc(s,e,t){let n,l,r;z(s,B,_=>t(1,n=_)),z(s,ke,_=>t(2,l=_)),z(s,Ke,_=>t(3,r=_));let c;function i(){c=this.value,t(0,c)}return[c,n,l,r,i,()=>{G(B,n=!1,n)},_=>{ie({cmd:"direct",val:{cmd:"add_to_chat",val:{chatid:l,username:_.target[0].value}}}),r.push(c),Ke.set(r),G(B,n=!1,n)},()=>{G(B,n=!1,n)}]}class hc extends Z{constructor(e){super(),X(this,e,mc,pc,V,{})}}function gc(s){let e;return{c(){e=m("h2"),e.textContent="Remove Member",d(e,"slot","header")},m(t,n){w(t,e,n)},p:P,d(t){t&&k(e)}}}function bc(s){let e,t,n,l,r,c,i,o,a,u,_,p,b,g,v,h,$;return{c(){e=m("div"),t=m("span"),n=E("Are you sure you want to remove "),l=E(s[0]),r=E(" from "),c=E(s[2]),i=E("?"),o=S(),a=m("br"),u=m("br"),_=S(),p=m("div"),b=m("button"),b.textContent="Cancel",g=S(),v=m("button"),v.textContent="Remove",d(p,"class","modal-buttons"),d(e,"slot","default")},m(y,I){w(y,e,I),f(e,t),f(t,n),f(t,l),f(t,r),f(t,c),f(t,i),f(e,o),f(e,a),f(e,u),f(e,_),f(e,p),f(p,b),f(p,g),f(p,v),h||($=[N(b,"click",s[6]),N(v,"click",s[7])],h=!0)},p(y,I){I&1&&K(l,y[0]),I&4&&K(c,y[2])},d(y){y&&k(e),h=!1,se($)}}}function vc(s){let e,t;return e=new _e({props:{$$slots:{default:[bc],header:[gc]},$$scope:{ctx:s}}}),e.$on("close",s[8]),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p(n,[l]){const r={};l&543&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function $c(s,e,t){let n,l,r,c,i;z(s,Xt,p=>t(0,n=p)),z(s,B,p=>t(1,l=p)),z(s,Ye,p=>t(2,r=p)),z(s,ke,p=>t(3,c=p)),z(s,Ke,p=>t(4,i=p));function o(p){return p!==n}return[n,l,r,c,i,o,()=>{G(B,l=!1,l)},()=>{ie({cmd:"direct",val:{cmd:"remove_from_chat",val:{chatid:c,username:n}}}),Ke.set(i.filter(o)),G(B,l=!1,l)},()=>{G(B,l=!1,l)}]}class kc extends Z{constructor(e){super(),X(this,e,$c,vc,V,{})}}function wc(s){let e;return{c(){e=m("h2"),e.textContent="Create Chat",d(e,"slot","header")},m(t,n){w(t,e,n)},p:P,d(t){t&&k(e)}}}function Cl(s){let e,t,n;return{c(){e=m("span"),t=E(s[0]),n=m("br"),d(e,"class","login-status")},m(l,r){w(l,e,r),f(e,t),w(l,n,r)},p(l,r){r&1&&K(t,l[0])},d(l){l&&k(e),l&&k(n)}}}function yc(s){let e,t,n,l,r,c,i,o,a,u,_,p,b,g=s[0]&&Cl(s);return{c(){e=m("div"),t=m("form"),g&&g.c(),n=S(),l=m("input"),r=m("br"),c=m("br"),i=S(),o=m("div"),a=m("button"),a.textContent="Cancel",u=S(),_=m("button"),_.textContent="Create",d(l,"type","text"),d(l,"class","modal-input white"),d(l,"placeholder","Nickname"),d(l,"maxlength","20"),l.autofocus=!0,d(a,"type","button"),d(_,"type","submit"),d(o,"class","modal-buttons"),d(e,"slot","default")},m(v,h){w(v,e,h),f(e,t),g&&g.m(t,null),f(t,n),f(t,l),f(t,r),f(t,c),f(t,i),f(t,o),f(o,a),f(o,u),f(o,_),l.focus(),p||(b=[N(a,"click",s[3]),N(t,"submit",he(s[4]))],p=!0)},p(v,h){v[0]?g?g.p(v,h):(g=Cl(v),g.c(),g.m(t,n)):g&&(g.d(1),g=null)},d(v){v&&k(e),g&&g.d(),p=!1,se(b)}}}function Cc(s){let e,t;return e=new _e({props:{$$slots:{default:[yc],header:[wc]},$$scope:{ctx:s}}}),e.$on("close",s[5]),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p(n,[l]){const r={};l&67&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Sc(s,e,t){let n;z(s,B,a=>t(1,n=a));let l="";function r(a){try{t(0,l="Creating chat..."),ie({cmd:"direct",val:{cmd:"create_chat",val:a}}).then(()=>{B.set(!1),ue.set("blank"),we().then(()=>ue.set("chatlist"))}).catch(u=>{t(0,l=`Unexpected ${u} error!`)})}catch(u){console.error(u),t(0,l="Error logging in: "+u)}}return[l,n,r,()=>{G(B,n=!1,n)},a=>a.target[0].value?(r(a.target[0].value),!1):(t(0,l="You must specify a nickname to create the chat!"),!1),()=>{G(B,n=!1,n)}]}class Lc extends Z{constructor(e){super(),X(this,e,Sc,Cc,V,{})}}function Pc(s){let e;return{c(){e=m("h2"),e.textContent="Set Quote",d(e,"slot","header")},m(t,n){w(t,e,n)},p:P,d(t){t&&k(e)}}}function qc(s){let e,t,n,l,r,c,i,o,a,u,_,p,b,g,v,h;return{c(){e=m("div"),t=m("form"),n=m("span"),n.textContent="Your quote is a small piece of text that will be displayed publically on your profile.",l=m("br"),r=m("br"),c=S(),i=m("input"),o=m("br"),a=m("br"),u=S(),_=m("div"),p=m("button"),p.textContent="Cancel",b=S(),g=m("button"),g.textContent="Set Quote",d(i,"type","text"),d(i,"class","modal-input white"),d(i,"placeholder","Write something..."),d(i,"maxlength","360"),d(p,"type","button"),d(g,"type","submit"),d(_,"class","modal-buttons"),d(e,"slot","default")},m($,y){w($,e,y),f(e,t),f(t,n),f(t,l),f(t,r),f(t,c),f(t,i),Xe(i,s[1].quote),f(t,o),f(t,a),f(t,u),f(t,_),f(_,p),f(_,b),f(_,g),v||(h=[N(i,"input",s[2]),N(p,"click",s[3]),N(t,"submit",he(s[4]))],v=!0)},p($,y){y&2&&i.value!==$[1].quote&&Xe(i,$[1].quote)},d($){$&&k(e),v=!1,se(h)}}}function Ec(s){let e,t;return e=new _e({props:{$$slots:{default:[qc],header:[Pc]},$$scope:{ctx:s}}}),e.$on("close",s[5]),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p(n,[l]){const r={};l&67&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Ic(s,e,t){let n,l;z(s,B,a=>t(0,n=a)),z(s,re,a=>t(1,l=a));function r(){l.quote=this.value,re.set(l)}return[n,l,r,()=>{G(B,n=!1,n)},async a=>{B.set(!1),await ze(),ue.set("blank"),we().then(()=>ue.set("profile"))},()=>{G(B,n=!1,n)}]}class Mc extends Z{constructor(e){super(),X(this,e,Ic,Ec,V,{})}}function Rc(s){let e;return{c(){e=m("h2"),e.textContent="Change Password",d(e,"slot","header")},m(t,n){w(t,e,n)},p:P,d(t){t&&k(e)}}}function Sl(s){let e,t;return{c(){e=m("label"),t=E(s[0]),d(e,"for","old-password-input"),Ae(e,"color","red")},m(n,l){w(n,e,l),f(e,t)},p(n,l){l&1&&K(t,n[0])},d(n){n&&k(e)}}}function Uc(s){let e,t,n,l,r,c,i,o,a,u,_,p,b,g,v,h,$,y,I,q,A,R=s[0]&&Sl(s);return{c(){e=m("div"),t=m("form"),R&&R.c(),n=S(),l=m("input"),r=m("br"),c=m("br"),i=S(),o=m("input"),a=m("br"),u=m("br"),_=S(),p=m("input"),b=m("br"),g=m("br"),v=S(),h=m("div"),$=m("button"),$.textContent="Cancel",y=S(),I=m("button"),I.textContent="Change Password",d(l,"id","old-password-input"),d(l,"type","password"),d(l,"class","modal-input white"),d(l,"placeholder","Current Password"),d(l,"maxlength","64"),d(o,"id","new-password-input"),d(o,"type","password"),d(o,"class","modal-input white"),d(o,"placeholder","New Password"),d(o,"maxlength","64"),d(p,"type","password"),d(p,"class","modal-input white"),d(p,"placeholder","Confirm New Password"),d(p,"maxlength","64"),d($,"type","button"),d(I,"type","submit"),d(h,"class","modal-buttons"),d(e,"slot","default")},m(T,M){w(T,e,M),f(e,t),R&&R.m(t,null),f(t,n),f(t,l),f(t,r),f(t,c),f(t,i),f(t,o),f(t,a),f(t,u),f(t,_),f(t,p),f(t,b),f(t,g),f(t,v),f(t,h),f(h,$),f(h,y),f(h,I),q||(A=[N($,"click",s[2]),N(t,"submit",he(s[3]))],q=!0)},p(T,M){T[0]?R?R.p(T,M):(R=Sl(T),R.c(),R.m(t,n)):R&&(R.d(1),R=null)},d(T){T&&k(e),R&&R.d(),q=!1,se(A)}}}function jc(s){let e,t;return e=new _e({props:{$$slots:{default:[Uc],header:[Rc]},$$scope:{ctx:s}}}),e.$on("close",s[4]),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p(n,[l]){const r={};l&35&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Oc(s,e,t){let n;z(s,B,o=>t(1,n=o));let l="";return[l,n,()=>{G(B,n=!1,n)},async o=>{if(!o.target[0].value)return t(0,l="You must specify your current password"),!1;if(!o.target[1].value)return t(0,l="You must specify a new password to change your password"),!1;if(o.target[1].value!==o.target[2].value)return t(0,l="New passwords do not match"),!1;o.target[4].disabled=!0,await ie({cmd:"direct",val:{cmd:"change_pswd",val:o.target[1].value}}),G(B,n=!1,n),localStorage.clear(),Be.set("setup"),await we(),me.set("reconnect")},()=>{G(B,n=!1,n)}]}class Tc extends Z{constructor(e){super(),X(this,e,Oc,jc,V,{})}}function Nc(s){let e;return{c(){e=m("h2"),e.textContent="Delete Account",d(e,"slot","header")},m(t,n){w(t,e,n)},p:P,d(t){t&&k(e)}}}function Ac(s){let e,t,n,l,r,c,i,o,a,u,_,p,b,g,v,h,$,y,I,q,A;return{c(){e=m("div"),t=m("form"),n=m("span"),n.textContent="Deleting your account will erase all data from our database, this action is irreversible! Are you absolutely sure you would like to permanently delete your account?",l=m("br"),r=m("br"),c=S(),i=m("span"),i.textContent="Please confirm your username below to be able to delete your account:",o=m("br"),a=S(),u=m("input"),_=m("br"),p=m("br"),b=S(),g=m("div"),v=m("button"),v.textContent="Cancel",h=S(),$=m("button"),y=E("Delete Account"),Ae(n,"color","red"),d(u,"type","text"),d(u,"class","modal-input white"),d(u,"placeholder","Username"),d(u,"maxlength","20"),d(v,"type","button"),d($,"type","submit"),$.disabled=I=s[0]!==s[2].name,d(g,"class","modal-buttons"),d(e,"slot","default")},m(R,T){w(R,e,T),f(e,t),f(t,n),f(t,l),f(t,r),f(t,c),f(t,i),f(t,o),f(t,a),f(t,u),Xe(u,s[0]),f(t,_),f(t,p),f(t,b),f(t,g),f(g,v),f(g,h),f(g,$),f($,y),q||(A=[N(u,"input",s[3]),N(v,"click",s[4]),N(t,"submit",he(s[5]))],q=!0)},p(R,T){T&1&&u.value!==R[0]&&Xe(u,R[0]),T&5&&I!==(I=R[0]!==R[2].name)&&($.disabled=I)},d(R){R&&k(e),q=!1,se(A)}}}function zc(s){let e,t;return e=new _e({props:{$$slots:{default:[Ac],header:[Nc]},$$scope:{ctx:s}}}),e.$on("close",s[6]),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p(n,[l]){const r={};l&135&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Dc(s,e,t){let n,l;z(s,B,u=>t(1,n=u)),z(s,re,u=>t(2,l=u));let r="";function c(){r=this.value,t(0,r)}return[r,n,l,c,()=>{G(B,n=!1,n)},async u=>{await ie({cmd:"direct",val:{cmd:"del_account",val:""}}),G(B,n=!1,n),localStorage.clear(),Be.set("setup"),await we(),me.set("reconnect")},()=>{G(B,n=!1,n)}]}class Bc extends Z{constructor(e){super(),X(this,e,Dc,zc,V,{})}}function Hc(s){let e;return{c(){e=m("h2"),e.textContent="Logout",d(e,"slot","header")},m(t,n){w(t,e,n)},p:P,d(t){t&&k(e)}}}function Wc(s){let e,t,n,l,r,c,i,o,a,u,_,p;return{c(){e=m("div"),t=m("span"),t.textContent="Are you sure you would like to logout?",n=S(),l=m("br"),r=m("br"),c=S(),i=m("div"),o=m("button"),o.textContent="Cancel",a=S(),u=m("button"),u.textContent="Logout",d(i,"class","modal-buttons"),d(e,"slot","default")},m(b,g){w(b,e,g),f(e,t),f(e,n),f(e,l),f(e,r),f(e,c),f(e,i),f(i,o),f(i,a),f(i,u),_||(p=[N(o,"click",s[1]),N(u,"click",s[2])],_=!0)},p:P,d(b){b&&k(e),_=!1,se(p)}}}function Yc(s){let e,t;return e=new _e({props:{$$slots:{default:[Wc],header:[Hc]},$$scope:{ctx:s}}}),e.$on("close",s[3]),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p(n,[l]){const r={};l&17&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Gc(s,e,t){let n;return z(s,B,i=>t(0,n=i)),[n,()=>{G(B,n=!1,n)},async()=>{G(B,n=!1,n),ot.set("Intentional disconnect"),Me.set(!1),Be.set("setup"),await we(),me.set("reconnect")},()=>{G(B,n=!1,n)}]}class Kc extends Z{constructor(e){super(),X(this,e,Gc,Yc,V,{})}}function Fc(s){let e;return{c(){e=m("h2"),e.textContent="Invalid modalPage string",d(e,"slot","header")},m(t,n){w(t,e,n)},p:P,d(t){t&&k(e)}}}function Jc(s){let e,t,n="Invalid modalPage string for '"+s[1]+"'",l,r,c;return{c(){e=m("div"),t=m("p"),l=E(n),r=S(),c=m("small"),c.textContent="PS to devlopers, Your code may be working!",d(c,"class","smol svelte-mytpja"),d(e,"slot","default")},m(i,o){w(i,e,o),f(e,t),f(t,l),f(e,r),f(e,c)},p(i,o){o&2&&n!==(n="Invalid modalPage string for '"+i[1]+"'")&&K(l,n)},d(i){i&&k(e)}}}function Qc(s){let e,t;return e=new _e({props:{$$slots:{default:[Jc],header:[Fc]},$$scope:{ctx:s}}}),e.$on("close",s[2]),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p(n,[l]){const r={};l&10&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Vc(s,e,t){let n,l;return z(s,B,c=>t(0,n=c)),z(s,ae,c=>t(1,l=c)),[n,l,()=>{G(B,n=!1,n)}]}class Xc extends Z{constructor(e){super(),X(this,e,Vc,Qc,V,{})}}function Zc(s){let e;return{c(){e=m("div"),d(e,"class","spinner check svelte-o9ugf6")},m(t,n){w(t,e,n)},p:P,i:P,o:P,d(t){t&&k(e)}}}class xc extends Z{constructor(e){super(),X(this,e,null,Zc,V,{})}}const ea=ce(0),ta=ce(0),Jl=ce(!1);function Ql(){ea.set(window.innerWidth),ta.set(window.innerHeight),Jl.set(window.innerWidth<window.innerHeight||window.innerWidth<500||window.innerHeight<400)}Ql();window.addEventListener("resize",Ql);function Ll(s){let e,t;return e=new _e({props:{$$slots:{default:[ua],header:[na]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},p(n,l){const r={};l&520&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function na(s){let e;return{c(){e=m("h2"),e.textContent="Me-owch.",d(e,"slot","header")},m(t,n){w(t,e,n)},p:P,d(t){t&&k(e)}}}function la(s){let e,t,n,l;return{c(){e=E(`We ran into an error trying to connect to the server.\r
						`),t=m("pre"),n=m("code"),l=E(s[3])},m(r,c){w(r,e,c),w(r,t,c),f(t,n),f(n,l)},p(r,c){c&8&&K(l,r[3])},d(r){r&&k(e),r&&k(t)}}}function sa(s){let e;return{c(){e=E("You have been kicked by a moderator.")},m(t,n){w(t,e,n)},p:P,d(t){t&&k(e)}}}function ra(s){let e;return{c(){e=E("You have been banned by a moderator.")},m(t,n){w(t,e,n)},p:P,d(t){t&&k(e)}}}function oa(s){let e,t,n,l;return{c(){e=E(`There has been a hiccup! Looks like you logged into Meower from another device.\r
						`),t=m("br"),n=m("br"),l=E(`\r
						Please check any devices currently logged into Meower and try again.`)},m(r,c){w(r,e,c),w(r,t,c),w(r,n,c),w(r,l,c)},p:P,d(r){r&&k(e),r&&k(t),r&&k(n),r&&k(l)}}}function ia(s){let e,t=W.ip+"",n,l;return{c(){e=E("The server has blocked your IP address ("),n=E(t),l=E(").")},m(r,c){w(r,e,c),w(r,n,c),w(r,l,c)},p:P,d(r){r&&k(e),r&&k(n),r&&k(l)}}}function ca(s){let e;return{c(){e=E("An unexpected error occurred while trying to load your userdata! Check console for more information.")},m(t,n){w(t,e,n)},p:P,d(t){t&&k(e)}}}function aa(s){let e;return{c(){e=E("Something went wrong and the connection to Meower was lost.")},m(t,n){w(t,e,n)},p:P,d(t){t&&k(e)}}}function ua(s){let e,t,n,l,r,c;function i(u,_){return u[3]===""?aa:u[3]==="Failed to load userdata"?ca:u[3]==="E:119 | IP Blocked"?ia:u[3]=="E:110 | ID conflict"?oa:u[3]=="E:018 | Account Banned"?ra:u[3]=="E:020 | Kicked"?sa:la}let o=i(s),a=o(s);return{c(){e=m("div"),t=m("p"),a.c(),n=S(),l=m("button"),l.textContent="Reconnect",d(e,"slot","default")},m(u,_){w(u,e,_),f(e,t),a.m(t,null),f(e,n),f(e,l),r||(c=N(l,"click",s[8]),r=!0)},p(u,_){o===(o=i(u))&&a?a.p(u,_):(a.d(1),a=o(u),a&&(a.c(),a.m(t,null)))},d(u){u&&k(e),a.d(),r=!1,c()}}}function Pl(s){let e,t,n,l;const r=[La,Sa,Ca,ya,wa,ka,$a,va,ba,ga,ha,ma,pa,_a,da,fa],c=[];function i(o,a){return o[5]==="login"?0:o[5]==="signup"?1:o[5]==="banned"?2:o[5]==="ipBanned"?3:o[5]==="deletePost"?4:o[5]==="reportPost"?5:o[5]==="reportUser"?6:o[5]==="createChat"?7:o[5]==="setQuote"?8:o[5]==="changePassword"?9:o[5]==="deleteAccount"?10:o[5]==="GC_Member"?11:o[5]==="AddMember"?12:o[5]==="removeMember"?13:o[5]==="logout"?14:15}return e=i(s),t=c[e]=r[e](s),{c(){t.c(),n=Ce()},m(o,a){c[e].m(o,a),w(o,n,a),l=!0},p(o,a){let u=e;e=i(o),e!==u&&(te(),L(c[u],1,1,()=>{c[u]=null}),ne(),t=c[e],t||(t=c[e]=r[e](o),t.c()),C(t,1),t.m(n.parentNode,n))},i(o){l||(C(t),l=!0)},o(o){L(t),l=!1},d(o){c[e].d(o),o&&k(n)}}}function fa(s){let e,t;return e=new Xc({}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function da(s){let e,t;return e=new Kc({}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function _a(s){let e,t;return e=new kc({}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function pa(s){let e,t;return e=new hc({}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function ma(s){let e,t;return e=new fc({}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function ha(s){let e,t;return e=new Bc({}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function ga(s){let e,t;return e=new Tc({}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function ba(s){let e,t;return e=new Mc({}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function va(s){let e,t;return e=new Lc({}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function $a(s){let e,t;return e=new tc({}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function ka(s){let e,t;return e=new Vi({}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function wa(s){let e,t;return e=new Wi({}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function ya(s){let e,t;return e=new Ai({}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Ca(s){let e,t;return e=new Ui({}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Sa(s){let e,t;return e=new qi({}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function La(s){let e,t;return e=new ki({}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Pa(s){let e,t;return e=new ni({}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function qa(s){let e,t;return e=new pi({}),{c(){O(e.$$.fragment)},m(n,l){U(e,n,l),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function ql(s){let e,t,n;return t=new xc({}),{c(){e=m("div"),O(t.$$.fragment),d(e,"class","spinner-container svelte-17c7hqb")},m(l,r){w(l,e,r),U(t,e,null),n=!0},i(l){n||(C(t.$$.fragment,l),n=!0)},o(l){L(t.$$.fragment,l),n=!1},d(l){l&&k(e),j(t)}}}function Ea(s){let e,t,n,l,r,c,i,o=s[2]&&Ll(s),a=s[4]&&Pl(s);const u=[qa,Pa],_=[];function p(g,v){return g[6]==="setup"?0:1}l=p(s),r=_[l]=u[l](s);let b=s[7]&&ql();return{c(){e=m("main"),o&&o.c(),t=S(),a&&a.c(),n=S(),r.c(),c=S(),b&&b.c(),d(e,"id","main"),d(e,"class","svelte-17c7hqb"),pe(e,"theme-orange",s[0].theme==="orange"),pe(e,"theme-blue",s[0].theme==="blue"),pe(e,"mode-light",s[0].mode!==!1),pe(e,"mode-dark",s[0].mode===!1),pe(e,"layout-old",s[1]||s[0].layout==="old"),pe(e,"layout-mobile",s[1])},m(g,v){w(g,e,v),o&&o.m(e,null),f(e,t),a&&a.m(e,null),f(e,n),_[l].m(e,null),f(e,c),b&&b.m(e,null),i=!0},p(g,[v]){g[2]?o?(o.p(g,v),v&4&&C(o,1)):(o=Ll(g),o.c(),C(o,1),o.m(e,t)):o&&(te(),L(o,1,1,()=>{o=null}),ne()),g[4]?a?(a.p(g,v),v&16&&C(a,1)):(a=Pl(g),a.c(),C(a,1),a.m(e,n)):a&&(te(),L(a,1,1,()=>{a=null}),ne());let h=l;l=p(g),l!==h&&(te(),L(_[h],1,1,()=>{_[h]=null}),ne(),r=_[l],r||(r=_[l]=u[l](g),r.c()),C(r,1),r.m(e,c)),g[7]?b?v&128&&C(b,1):(b=ql(),b.c(),C(b,1),b.m(e,null)):b&&(te(),L(b,1,1,()=>{b=null}),ne()),v&1&&pe(e,"theme-orange",g[0].theme==="orange"),v&1&&pe(e,"theme-blue",g[0].theme==="blue"),v&1&&pe(e,"mode-light",g[0].mode!==!1),v&1&&pe(e,"mode-dark",g[0].mode===!1),v&3&&pe(e,"layout-old",g[1]||g[0].layout==="old"),v&2&&pe(e,"layout-mobile",g[1])},i(g){i||(C(o),C(a),C(r),C(b),i=!0)},o(g){L(o),L(a),L(r),L(b),i=!1},d(g){g&&k(e),o&&o.d(),a&&a.d(),_[l].d(),b&&b.d()}}}function Ia(s,e,t){let n,l,r,c,i,o,a,u;return z(s,re,p=>t(0,n=p)),z(s,Jl,p=>t(1,l=p)),z(s,Me,p=>t(2,r=p)),z(s,ot,p=>t(3,c=p)),z(s,B,p=>t(4,i=p)),z(s,ae,p=>t(5,o=p)),z(s,Be,p=>t(6,a=p)),z(s,He,p=>t(7,u=p)),[n,l,r,c,i,o,a,u,async()=>{Be.set("setup"),Me.set(!1),await we(),me.set("reconnect")}]}class Ma extends Z{constructor(e){super(),X(this,e,Ia,Ea,V,{})}}try{navigator.serviceWorker&&navigator.serviceWorker.getRegistration().then(s=>{s&&s.unregister()})}catch(s){console.error(s)}new Ma({target:document.getElementById("app")});export{Ra as __vite_legacy_guard};
